!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.App=o():e.App=o()}("undefined"!=typeof self?self:this,()=>(()=>{"use strict";var e,o={499:(e,o,t)=>{t.d(o,{AO:()=>i,DI:()=>s,Im:()=>l,XN:()=>a,bD:()=>n,uH:()=>r,vI:()=>c});const n=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const o=16*Math.random()|0;return("x"===e?o:3&o|8).toString(16)}),i=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r=(e,o,t={})=>{Object.entries(o).forEach(([o,n])=>{Object.defineProperty(e,o,{value:n,writable:t[o]?.writable??!1,configurable:t[o]?.configurable??!1,enumerable:t[o]?.enumerable??!1})})},a=(e,o,t={})=>{if(!(i(t,"value")||i(t,"get")&&"function"==typeof t.get))throw new Error(`Property ${o} must have a value or get method`);return i(t,"value")&&(i(t,"get")&&delete t.get,i(t,"set")&&delete t.set),i(t,"writable")||i(t,"get")||(t.writable=!1),i(t,"configurable")||(t.configurable=!1),i(t,"enumerable")||(t.enumerable=!1),Object.defineProperty(e,o,t)},l=(e,o)=>{Object.entries(o).forEach(([o,t])=>{"function"==typeof t&&Object.defineProperty(e,o,{value:t,writable:!1,configurable:!1,enumerable:!1})})},s=(e,o)=>{try{return delete e[o],!0}catch(e){return console.error("App.deleteProp error:",e),!1}},c=e=>{if(!e||"object"!=typeof e)return!1;for(const o in e)return!0;return!1}},598:(e,o,t)=>{t.d(o,{default:()=>c});var n=t(852),i=t(877),r=t(445),a=t(630),l=t(64);const s=new class{constructor(){this.name="OneApp",this.Helper=new l.H(this),this.View=new r.S(this),this.Router=new i.Ix(this),this.HttpService=n.k,this.http=new n.k,this.API=a.nC,this.mode="development",this.isInitialized=!1}init(){this.isInitialized||(function(e){if(console.log("ðŸ” initApp called with App:",!!e),e=e||window.App,console.log("ðŸ” App after fallback:",!!e),void 0===window.APP_CONFIGS)return void console.error("APP_CONFIGS not found! Please define window.APP_CONFIGS in your HTML.");console.log("âœ… APP_CONFIGS found:",window.APP_CONFIGS);const o=window.APP_CONFIGS;if(console.log("ðŸš€ Initializing App with config:",o),void 0===e)return void console.error("App core module not found! Please ensure app.main.js is loaded.");if(!o||"object"!=typeof o)return void console.error("Invalid APP_CONFIGS! Config must be an object.");const t=o.container?"string"==typeof o.container?document.querySelector(o.container)||document.body:o.container instanceof HTMLElement?o.container:document.body:document.body;t?(e.View.setContainer(t),console.log("âœ… View container set to default:",t.id||"body")):console.warn("âš ï¸ No container specified and no default container found");const n="true"===t.getAttribute("data-server-rendered");if(e.View&&(n&&(console.log("ðŸš€ Hydrating server-rendered view container"),e.View._isHydrated=!0),e.View&&o.view?(e.View.init(o.view),console.log("âœ… View configuration initialized")):o.view&&console.warn("âš ï¸ View configuration provided but App.View not found")),o.api&&e.http){o.api.baseUrl&&e.http.setBaseUrl(o.api.baseUrl);const t={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"};o.api.csrfToken&&(t["X-CSRF-TOKEN"]=o.api.csrfToken),e.http.setDefaultHeaders(t),e.http.setTimeout(o.api.timeout||1e4),console.log("âœ… API configuration initialized")}else o.api?console.warn("âš ï¸ API configuration provided but AppInstance.HttpService not found"):console.warn("âš ï¸ No API configuration provided");if(e.Router){o.router.allRoutes&&e.Router.setAllRoutes(o.router.allRoutes);let i=o.router?.routes||o.routes;if(i&&Array.isArray(i)&&0!==i.length)console.log("ðŸ”§ Using provided routes:",i.length);else{const e=o.appScope||"web";i=[{path:`/${e}`,view:`${e}.home`},{path:`/${e}/about`,view:`${e}.about`},{path:`/${e}/users`,view:`${e}.users`},{path:`/${e}/users/:id`,view:`${e}.user-detail`},{path:`/${e}/contact`,view:`${e}.contact`}],console.log("ðŸ”§ Auto-generated routes for scope:",e)}i.forEach(o=>{if(o.path&&(o.view||o.component)){const t=o.view||o.component;e.Router.addRoute(o.path,t,o.options||{})}}),console.log(`âœ… ${i.length} routes registered`),o.router&&(o.router.mode&&e.Router.setMode(o.router.mode),o.router.base&&e.Router.setBase(o.router.base),o.router.beforeEach&&e.Router.beforeEach(o.router.beforeEach),o.router.afterEach&&e.Router.afterEach(o.router.afterEach),console.log("âœ… Router configuration applied"));const r=o.defaultRoute||`/${o.appScope||"web"}`;e.Router.setDefaultRoute(r),n?(console.log("ðŸš€ Server-rendered page detected - setting up SPA navigation"),e.Router.start(!0),setTimeout(()=>{t&&(t.setAttribute("data-server-rendered","false"),console.log("âœ… Client-side hydration complete"))},100)):(e.Router.start(),console.log("âœ… Router started"))}else console.warn("âš ï¸ Router not available - AppInstance.Router not found");if(o.view&&o.view.superView&&e.View.setSuperViewPath(o.view.superView),o.mode?(e.mode=o.mode,console.log("âœ… App mode set to:",o.mode),"development"===o.mode?console.log("ðŸ”§ Development mode enabled - debug logging active"):console.log("ðŸ­ Production mode enabled")):(e.mode="development",console.warn("âš ï¸ No mode specified in config, using default: development")),e.globalData={siteName:"One App",version:"1.0.0",csrfToken:o.api?.csrfToken,appScope:o.appScope,currentUser:o.currentUser,...o.data||{}},o.lang?(e.lang={current:o.lang.locale||"en",fallback:o.lang.fallback||"en",...o.lang},console.log("âœ… Language configuration initialized:",e.lang)):(e.lang={current:"en",fallback:"en"},console.warn("âš ï¸ No language configuration provided, using defaults")),e.View?e.View.on("view:rendered",function(e){console.log("View rendered:",e),function(){const e=window.location.pathname;let o=window.location.protocol,t=window.location.host;document.querySelectorAll(".nav-link").forEach(n=>{const i=n.getAttribute("href");i===e||i===o+"//"+t+e?n.classList.add("active"):n.classList.remove("active")})}()}):console.warn("âš ï¸ Navigation updates not available - App.View not found"),o.onInit&&"function"==typeof o.onInit)try{o.onInit(e,o),console.log("âœ… Custom initialization callback executed")}catch(e){console.error("âŒ Error in custom initialization callback:",e)}try{const t=new CustomEvent("app:ready",{detail:{App:e,config:o}});document.dispatchEvent(t),console.log("âœ… App ready event dispatched")}catch(e){console.error("âŒ Error dispatching App ready event:",e)}console.log("ðŸŽ‰ App initialization completed successfully!")}(this),this.isInitialized=!0)}};if("undefined"!=typeof window)if(window.App=s,console.log("ðŸ” App assigned to window"),window.APP_CONFIGS)console.log("ðŸ” APP_CONFIGS available, calling App.init()"),s.init();else{console.log("ðŸ” APP_CONFIGS not available, waiting...");const e=()=>{window.APP_CONFIGS?(console.log("ðŸ” APP_CONFIGS found, calling App.init()"),s.init()):setTimeout(e,100)};e()}const c=s}},t={};function n(e){var i=t[e];if(void 0!==i)return i.exports;var r=t[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,e=[],n.O=(o,t,i,r)=>{if(!t){var a=1/0;for(u=0;u<e.length;u++){for(var[t,i,r]=e[u],l=!0,s=0;s<t.length;s++)(!1&r||a>=r)&&Object.keys(n.O).every(e=>n.O[e](t[s]))?t.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(u--,1);var c=i();void 0!==c&&(o=c)}}return o}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,i,r]},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={792:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var i,r,[a,l,s]=t,c=0;if(a.some(o=>0!==e[o])){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var u=s(n)}for(o&&o(t);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},t=Object("undefined"!=typeof self?self:this).webpackChunkApp=Object("undefined"!=typeof self?self:this).webpackChunkApp||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=n.O(void 0,[10,215,905,795,559,633],()=>n(598));return(i=n.O(i)).default})());
//# sourceMappingURL=main.js.map