{"version":3,"file":"main.js","mappings":"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","sources":["webpack://App/webpack/universalModuleDefinition","webpack://App/webpack/bootstrap","webpack://App/webpack/runtime/define property getters","webpack://App/webpack/runtime/hasOwnProperty shorthand","webpack://App/./resources/js/app/core/services/HttpService.js","webpack://App/./resources/js/app/helpers/utils.js","webpack://App/./resources/js/app/core/services/TemplateDetectorService.js","webpack://App/./resources/js/app/core/OneMarkup.js","webpack://App/./resources/js/app/core/OneDOM.js","webpack://App/./resources/js/app/core/services/LoggerService.js","webpack://App/./resources/js/app/core/ViewState.js","webpack://App/./resources/js/app/core/FollowingBlock.js","webpack://App/./resources/js/app/core/ViewConfig.js","webpack://App/./resources/js/app/core/ViewEngine.js","webpack://App/./resources/js/app/core/Router.js","webpack://App/./resources/js/app/core/SEOConfig.js","webpack://App/./resources/js/app/views/PartialsFooter.js","webpack://App/./resources/js/app/core/ViewTemplate.js","webpack://App/./resources/js/app/views/WebComponentsLinks.js","webpack://App/./resources/js/app/views/WebLayoutsBase.js","webpack://App/./resources/js/app/views/WebPagesDocs.js","webpack://App/./resources/js/app/views/WebPagesAbout.js","webpack://App/./resources/js/app/views/WebPagesHome.js","webpack://App/./resources/js/app/views/WebPagesExamples.js","webpack://App/./resources/js/app/views/WebPagesContact.js","webpack://App/./resources/js/app/views/PartialsTestPartial.js","webpack://App/./resources/js/app/views/PartialsAssetsScripts.js","webpack://App/./resources/js/app/views/PartialsDataExample.js","webpack://App/./resources/js/app/core/services/StorageService.js","webpack://App/./resources/js/app/core/View.js","webpack://App/./resources/js/app/core/API.js","webpack://App/./resources/js/app/core/Helper.js","webpack://App/./resources/js/app/init.js","webpack://App/./resources/js/app/app.js","webpack://App/./resources/js/app/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"App\"] = factory();\n\telse\n\t\troot[\"App\"] = factory();\n})(typeof self !== 'undefined' ? self : this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * HTTP Service Module\n * ES6 Module for Blade Compiler\n */\n\n\nclass HttpService {\n\n    constructor() {\n        this.baseUrl = '';\n        this.timeout = 10000;\n        this.defaultHeaders = {};\n    }\n\n    setBaseUrl(url) {\n        this.baseUrl = url;\n    }\n\n    setTimeout(timeout) {\n        this.timeout = timeout;\n    }\n\n    setDefaultHeaders(headers) {\n        this.defaultHeaders = { ...this.defaultHeaders, ...headers };\n    }\n\n    setHeader(name, value) {\n        this.defaultHeaders[name] = value;\n    }\n\n    async request(method, url, data = null, options = {}) {\n        const fullUrl = url.startsWith('http') ? url : this.baseUrl + url;\n        \n        const config = {\n            method: method.toUpperCase(),\n            headers: {\n                ...this.defaultHeaders,\n                ...options.headers\n            },\n            ...options\n        };\n\n        if (data && (method.toUpperCase() === 'POST' || method.toUpperCase() === 'PUT' || method.toUpperCase() === 'PATCH')) {\n            if (config.headers['Content-Type'] === 'application/json') {\n                config.body = JSON.stringify(data);\n            } else {\n                config.body = data;\n            }\n        }\n\n        try {\n            const controller = new AbortController();\n            const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n            \n            const response = await fetch(fullUrl, {\n                ...config,\n                signal: controller.signal\n            });\n            \n            clearTimeout(timeoutId);\n\n            const responseData = await response.json().catch(() => ({}));\n            \n            return {\n                status: response.ok,\n                statusCode: response.status,\n                data: responseData,\n                headers: response.headers\n            };\n        } catch (error) {\n            if (error.name === 'AbortError') {\n                throw new Error('Request timeout');\n            }\n            throw error;\n        }\n    }\n\n    async get(url, options = {}) {\n        return this.request('GET', url, null, options);\n    }\n\n    async post(url, data = null, options = {}) {\n        return this.request('POST', url, data, options);\n    }\n\n    async put(url, data = null, options = {}) {\n        return this.request('PUT', url, data, options);\n    }\n\n    async patch(url, data = null, options = {}) {\n        return this.request('PATCH', url, data, options);\n    }\n\n    async delete(url, options = {}) {\n        return this.request('DELETE', url, null, options);\n    }\n}\n\n\n// Export for ES6 modules\nexport { HttpService };","export const uniqId = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nexport const emptyFn = () => { };\n\nexport const noop = () => { };\n\nexport const __hasOwnProp = (obj, key) => {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport const __defineProps = (obj, props, configs = {}) => {\n    Object.entries(props).forEach(([key, value]) => {\n        Object.defineProperty(obj, key, {\n            value: value,\n            writable: configs[key]?.writable ?? false,\n            configurable: configs[key]?.configurable ?? false,\n            enumerable: configs[key]?.enumerable ?? false,\n        });\n    });\n};\n\nexport const __defineProp = (obj, key, PropertyDescriptor = {}) => {\n    if (!__hasOwnProp(PropertyDescriptor, 'value') && !(__hasOwnProp(PropertyDescriptor, 'get') && typeof PropertyDescriptor.get === 'function')) {\n        throw new Error(`Property ${key} must have a value or get method`);\n    }\n    if (__hasOwnProp(PropertyDescriptor, 'value')) {\n        if (__hasOwnProp(PropertyDescriptor, 'get')) {\n            delete PropertyDescriptor.get;\n        }\n        if (__hasOwnProp(PropertyDescriptor, 'set')) {\n            delete PropertyDescriptor.set;\n        }\n    }\n    if (!__hasOwnProp(PropertyDescriptor, 'writable')) {\n        if (!__hasOwnProp(PropertyDescriptor, 'get')) {\n            PropertyDescriptor.writable = false;\n        }\n    }\n    if (!__hasOwnProp(PropertyDescriptor, 'configurable')) {\n        PropertyDescriptor.configurable = false;\n    }\n    if (!__hasOwnProp(PropertyDescriptor, 'enumerable')) {\n        PropertyDescriptor.enumerable = false;\n    }\n\n    return Object.defineProperty(obj, key, PropertyDescriptor);\n}\n\nexport const __defineProperties = (obj, properties) => {\n    Object.entries(properties).forEach(([key, value]) => {\n        __defineProp(obj, key, value);\n    });\n}\n\nexport const __defineMethods = (obj, methods) => {\n    Object.entries(methods).forEach(([key, value]) => {\n        if (typeof value !== 'function') {\n            return;\n        }\n        Object.defineProperty(obj, key, {\n            value: value,\n            writable: false,\n            configurable: false,\n            enumerable: false,\n        });\n    });\n}\n\nexport const __defineGetters = (obj, getters) => {\n    Object.entries(getters).forEach(([key, value]) => {\n        Object.defineProperty(obj, key, {\n            get: value,\n            configurable: false,\n            enumerable: false,\n        });\n    });\n}\nexport const deleteProp = (obj, prop) => {\n    try {\n        delete obj[prop];\n        return true;\n    } catch (error) {\n        console.error('App.deleteProp error:', error);\n        return false;\n    }\n}\nexport const deleteProps = (obj, props) => {\n    try {\n        props.forEach(prop => {\n            delete obj[prop];\n        });\n        return true;\n    } catch (error) {\n        console.error('App.deleteProps error:', error);\n        return false;\n    }\n}\n\nexport const hasData = obj => {\n  if (!obj || typeof obj !== 'object') return false;\n  for (const _ in obj) return true; // fast path\n  return false;\n}\n\nexport const isEmptyObject = obj => hasData(obj) === false;\n\n\n\n\n/**\n * Kim tra xem chui u vo c phi l mt th HTML hp l hoc danh sch cc th HTML hp l khng.\n * @param {string} input - Chui cn kim tra\n * @returns {boolean} true nu hp l, false nu khng hp l\n */\nexport function isHtmlString(input) {\n    if (typeof input !== 'string') return false;\n    // Loi b khong trng u cui\n    const str = input.trim();\n    if (!str) return false;\n\n    // Regex kim tra mt th HTML n\n    const singleTagRegex = /^<([a-zA-Z][\\w:-]*)(\\s+[^<>]*)?>.*<\\/\\1>$|^<([a-zA-Z][\\w:-]*)(\\s+[^<>]*)?\\/>$/s;\n\n    // Regex kim tra danh sch cc th HTML (c th c nhiu th lin nhau)\n    // S dng DOMParser  kim tra chc chn hn\n    try {\n        const parser = new DOMParser();\n        // Bc trong mt th cha  DOMParser khng t ng thm <html><body>\n        const doc = parser.parseFromString(`<div>${str}</div>`, 'text/html');\n        const wrapper = doc.body.firstElementChild;\n        if (!wrapper) return false;\n        // Nu tt c cc node con u l element node (th html)\n        for (let node of wrapper.childNodes) {\n            if (node.nodeType !== 1) { // 1: ELEMENT_NODE\n                // Cho php text node ch nu n l khong trng\n                if (node.nodeType === 3 && !node.textContent.trim()) continue;\n                return false;\n            }\n        }\n        // Nu c t nht mt th hp l\n        return wrapper.children.length > 0;\n    } catch (e) {\n        // Nu DOMParser khng h tr hoc li, fallback v regex n\n        return singleTagRegex.test(str);\n    }\n}\n\n/**\n * Thay th tt c cc chui con \"find\" trong \"input\" bng chui \"replace\".\n * C 3 trng hp:\n * 1. find l string, replace l string: thay th tt c find thnh replace.\n * 2. find l object: key l chui cn tm, value l chui thay th.\n * 3. find l object, replace l string (prefix), postfix l string:\n *    tm tt c prefix+key+postfix, thay th bng value.\n * @param {string} input - Chui gc cn thay th\n * @param {string|Object} find - Chui hoc object cn tm  thay th\n * @param {string|undefined} replace - Chui thay th hoc prefix\n * @param {string|undefined} postfix - Chui hu t (ch dng cho dng 3)\n * @returns {string} Chui sau khi  thay th\n */\nexport function replaceAll(input, find, replace, postfix) {\n    if (typeof input !== 'string' || !find) return input;\n\n    // Trng hp 1: find l string, replace l string\n    if (typeof find === 'string') {\n        if (find === '') return input;\n        return input.split(find).join(replace);\n    }\n\n    // Trng hp 2 & 3: find l object\n    if (typeof find === 'object' && find !== null) {\n        let result = input;\n        // Dng 3: c prefix (replace) v postfix\n\n        if (typeof replace === 'string' && typeof postfix === 'string') {\n            for (const [key, value] of Object.entries(find)) {\n                if (key === '') continue;\n                // Escape k t c bit trong prefix, key, postfix\n                const pattern = (replace + key + postfix).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                result = result.replace(new RegExp(pattern, 'g'), value);\n            }\n        }\n        // Dng 3: ch c prefix (replace), khng c postfix\n        else if (typeof replace === 'string' && typeof postfix === 'undefined') {\n            for (const [key, value] of Object.entries(find)) {\n                if (key === '') continue;\n                const pattern = (replace + key).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                result = result.replace(new RegExp(pattern, 'g'), value);\n            }\n        }\n        // Dng 2: khng c prefix, khng c postfix\n        else {\n            for (const [key, value] of Object.entries(find)) {\n                if (key === '') continue;\n                const pattern = key.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                result = result.replace(new RegExp(pattern, 'g'), value);\n            }\n        }\n        return result;\n    }\n\n    // Nu khng khp trng hp no, tr v input gc\n    return input;\n}\n\n\n\nexport function withScope(context = {}, callback) {\n    if (typeof callback !== 'function') {\n        throw new TypeError('withContext expects a function as the second argument.');\n    }\n\n    // Kim tra context phi l object\n    if (typeof context !== 'object' || context === null) {\n        throw new TypeError('Context must be a non-null object.');\n    }\n\n    // To danh sch key v value\n    const keys = Object.keys(context);\n    const values = Object.values(context);\n\n    // To hm mi c cc bin cc b tng ng\n    const func = new Function(\n        ...keys,\n        `\"use strict\"; return (${callback.toString()})();`\n    );\n\n    // Gi hm mi trong phm vi vi context\n    return func(...values);\n}\n\nfunction withContext(context, fn, self) {\n    const keys = Object.keys(context);\n    const values = Object.values(context);\n    return function (...args) {\n        return new Function(...keys, `\"use strict\"; return (${fn.toString()})(...arguments)`)\n            .apply(self ?? this, values.concat(args));\n    };\n}\n\n/**\n* Execute function and return result\n* @param {Function} fn - Function to execute\n* @returns {string} Result as string\n*/\nexport function exe(fn, defaultValue = '') {\n    try {\n        const result = typeof fn === 'function' ? fn() : fn;\n        return result !== undefined ? result : defaultValue;\n    } catch (error) {\n        console.error('App.execute error:', error);\n        return defaultValue;\n    }\n}\n","/**\n * Class qun l vic parse v tm kim cc cp comment tags\n * H tr tm kim theo pattern vi wildcard (*)\n * \n * @example\n * const parser = new TemplateDetectorService(document.body);\n * const pairs = parser.find('one-template:*');\n * parser.display(pairs);\n */\nexport class TemplateDetectorService {\n    /**\n     * Khi to parser vi element gc\n     * @param {Element} rootElement - Element gc  tm kim (mc nh: document.body)\n     */\n    constructor(rootElement = document.body) {\n        this.rootElement = rootElement;\n        this.cachedComments = null;\n    }\n\n    /**\n     * t element gc mi\n     * @param {Element} element - Element gc mi\n     */\n    setRootElement(element) {\n        this.rootElement = element;\n        this.cachedComments = null;\n        return this;\n    }\n\n    /**\n     * Ly tt c comment nodes t rootElement\n     * @param {boolean} useCache - S dng cache hay khng\n     * @returns {Array<Comment>}\n     */\n    getAllComments(useCache = true) {\n        if (useCache && this.cachedComments) {\n            return this.cachedComments;\n        }\n\n        const comments = [];\n        const walker = document.createTreeWalker(\n            this.rootElement,\n            NodeFilter.SHOW_COMMENT,\n            null,\n            false\n        );\n\n        let node;\n        while (node = walker.nextNode()) {\n            comments.push(node);\n        }\n\n        if (useCache) {\n            this.cachedComments = comments;\n        }\n\n        return comments;\n    }\n\n    /**\n     * Parse mt comment node  ly thng tin\n     * @param {Comment} commentNode - Comment node cn parse\n     * @returns {Object|null} - Thng tin tag hoc null nu khng phi tag hp l\n     */\n    parseComment(commentNode) {\n        const text = commentNode.nodeValue.trim();\n\n        // Pattern tng qut: [prefix:name] hoc [prefix]\n        // Kim tra tag m: <!-- [prefix:name attribute=\"...\"] -->\n        const openMatch = text.match(/^\\[([^\\/\\]]+?)(?:\\s+(.+))?\\]$/);\n        if (openMatch) {\n            const fullName = openMatch[1];\n            const attributes = {};\n\n            if (openMatch[2]) {\n                // Parse cc attributes nh subscribe=\"userState,items\"\n                const attrMatch = openMatch[2].match(/(\\w+)=\"([^\"]+)\"/g);\n                if (attrMatch) {\n                    attrMatch.forEach(attr => {\n                        const [key, value] = attr.split('=');\n                        attributes[key] = value.replace(/\"/g, '');\n                    });\n                }\n            }\n\n            return {\n                type: 'open',\n                fullName: fullName,\n                attributes: attributes,\n                node: commentNode\n            };\n        }\n\n        // Kim tra tag ng: <!-- [/prefix:name] -->\n        const closeMatch = text.match(/^\\[\\/([^\\/\\]]+?)\\]$/);\n        if (closeMatch) {\n            return {\n                type: 'close',\n                fullName: closeMatch[1],\n                node: commentNode\n            };\n        }\n\n        return null;\n    }\n\n    /**\n     * Ly tt c cc siblings gia hai node (cng parent)\n     * @param {Node} startNode - Node bt u\n     * @param {Node} endNode - Node kt thc\n     * @returns {Array<Node>|null} - Mng nodes hoc null nu khng cng parent\n     */\n    getNodesBetween(startNode, endNode) {\n        // Kim tra xem c cng parent khng\n        if (startNode.parentNode !== endNode.parentNode) {\n            return null;\n        }\n\n        const nodes = [];\n        let current = startNode.nextSibling;\n\n        while (current && current !== endNode) {\n            nodes.push(current);\n            current = current.nextSibling;\n        }\n\n        return nodes;\n    }\n\n    /**\n     * Chuyn i pattern thnh regex\n     * @param {string} pattern - Pattern vi wildcard (*)\n     * @returns {RegExp}\n     * \n     * @example\n     * patternToRegex('*:*')              // Match tt c\n     * patternToRegex('one-*')            // Match \"one-template\", \"one-component\"\n     * patternToRegex('one-template:*')   // Match \"one-template:profile\", etc.\n     */\n    patternToRegex(pattern) {\n        if (!pattern || pattern === '*' || pattern === '*:*') {\n            return /.*/;\n        }\n\n        // Escape cc k t c bit trong regex (tr *)\n        let regexStr = pattern\n            .replace(/[.+?^${}()|[\\]\\\\]/g, '\\\\$&')  // Escape regex special chars\n            .replace(/\\*/g, '.*');                    // Convert * thnh .*\n\n        // Thm ^ v $  match chnh xc ton b string\n        regexStr = '^' + regexStr + '$';\n\n        return new RegExp(regexStr);\n    }\n\n    /**\n     * Kim tra xem mt tn c khp vi pattern khng\n     * @param {string} fullName - Tn y  ca tag\n     * @param {string} pattern - Pattern  so khp\n     * @returns {boolean}\n     */\n    matchPattern(fullName, pattern) {\n        const regex = this.patternToRegex(pattern);\n        return regex.test(fullName);\n    }\n\n    /**\n     * Tm tt c cc cp tags theo pattern\n     * @param {string} pattern - Pattern  lc (mc nh: '*:*')\n     * @param {Object} options - Ty chn b sung\n     * @param {boolean} options.useCache - S dng cache comments\n     * @returns {Array<Object>} - Mng cc cp tags tm c\n     * \n     * @example\n     * parser.find('*:*')                   // Tm tt c\n     * parser.find('one-template:*')        // Ch tm one-template\n     * parser.find('one-template:profile')  // Tm chnh xc profile\n     */\n    find(pattern = '*:*', options = {}) {\n        const { useCache = true } = options;\n\n        const comments = this.getAllComments(useCache);\n        const parsed = comments.map(c => this.parseComment(c)).filter(p => p !== null);\n\n        const pairs = [];\n        const stack = [];\n\n        for (let i = 0; i < parsed.length; i++) {\n            const current = parsed[i];\n\n            // Kim tra xem c khp vi pattern khng\n            if (!this.matchPattern(current.fullName, pattern)) {\n                continue;\n            }\n\n            if (current.type === 'open') {\n                // y tag m vo stack\n                stack.push({\n                    ...current,\n                    index: i\n                });\n            } else if (current.type === 'close') {\n                // Tm tag m tng ng t stack\n                let foundIndex = -1;\n                for (let j = stack.length - 1; j >= 0; j--) {\n                    if (stack[j].fullName === current.fullName) {\n                        foundIndex = j;\n                        break;\n                    }\n                }\n\n                if (foundIndex !== -1) {\n                    const openTag = stack[foundIndex];\n\n                    // Ly cc nodes nm gia\n                    const nodesBetween = this.getNodesBetween(openTag.node, current.node);\n\n                    // Ch thm vo nu cng parent\n                    if (nodesBetween !== null) {\n                        pairs.push({\n                            fullName: current.fullName,\n                            openTag: openTag.node,\n                            closeTag: current.node,\n                            attributes: openTag.attributes,\n                            nodes: nodesBetween,\n                            parent: openTag.node.parentNode\n                        });\n                    }\n\n                    // Xa khi stack\n                    stack.splice(foundIndex, 1);\n                }\n            }\n        }\n\n        return pairs;\n    }\n\n    /**\n     * Tm mt cp tag duy nht theo pattern\n     * @param {string} pattern - Pattern  tm\n     * @returns {Object|null} - Cp tag tm c hoc null\n     */\n    findOne(pattern) {\n        const pairs = this.find(pattern);\n        return pairs.length > 0 ? pairs[0] : null;\n    }\n\n    /**\n     * Lc cc cp tags theo iu kin ty chnh\n     * @param {Function} filterFn - Hm filter (pair) => boolean\n     * @param {string} pattern - Pattern ban u\n     * @returns {Array<Object>}\n     */\n    filter(filterFn, pattern = '*:*') {\n        const pairs = this.find(pattern);\n        return pairs.filter(filterFn);\n    }\n\n    /**\n     * m s lng cp tags theo pattern\n     * @param {string} pattern - Pattern  m\n     * @returns {number}\n     */\n    count(pattern = '*:*') {\n        return this.find(pattern).length;\n    }\n\n    /**\n     * Ly danh sch tt c cc tn tags duy nht\n     * @param {string} pattern - Pattern  lc\n     * @returns {Array<string>}\n     */\n    getUniqueNames(pattern = '*:*') {\n        const pairs = this.find(pattern);\n        return [...new Set(pairs.map(p => p.fullName))];\n    }\n\n    /**\n     * Hin th kt qu tm kim trong console\n     * @param {Array<Object>|string} pairsOrPattern - Mng pairs hoc pattern string\n     * @param {Object} options - Ty chn hin th\n     */\n    display(pairsOrPattern, options = {}) {\n        const {\n            showAttributes = true,\n            showParent = true,\n            showNodes = true,\n            maxNodePreview = 3\n        } = options;\n\n        let pairs, patternInfo = '';\n\n        // Nu truyn vo l string, tm kim trc\n        if (typeof pairsOrPattern === 'string') {\n            patternInfo = ` vi pattern \"${pairsOrPattern}\"`;\n            pairs = this.find(pairsOrPattern);\n        } else {\n            pairs = pairsOrPattern;\n        }\n\n        console.log(`\\n${'='.repeat(80)}`);\n        console.log(`Tm thy ${pairs.length} cp tags${patternInfo}`);\n        console.log(`${'='.repeat(80)}\\n`);\n\n        if (pairs.length === 0) {\n            console.log(' Khng tm thy cp tags no!');\n            return;\n        }\n\n        pairs.forEach((pair, index) => {\n            console.log(`\\n Cp ${index + 1}: [${pair.fullName}]`);\n            console.log('-'.repeat(60));\n\n            if (showAttributes) {\n                console.log(' Attributes:',\n                    Object.keys(pair.attributes).length > 0\n                        ? pair.attributes\n                        : '(khng c)'\n                );\n            }\n\n            if (showParent) {\n                console.log(' Parent:', pair.parent.tagName.toLowerCase(),\n                    pair.parent.className ? `class=\"${pair.parent.className}\"` : ''\n                );\n            }\n\n            if (showNodes) {\n                console.log(` Ni dung (${pair.nodes.length} nodes):`);\n\n                const previewNodes = pair.nodes.slice(0, maxNodePreview);\n                previewNodes.forEach(node => {\n                    if (node.nodeType === Node.ELEMENT_NODE) {\n                        const className = node.className ? ` class=\"${node.className}\"` : '';\n                        console.log(`    <${node.tagName.toLowerCase()}${className}>`);\n                    } else if (node.nodeType === Node.TEXT_NODE && node.nodeValue.trim()) {\n                        const text = node.nodeValue.trim().substring(0, 50);\n                        console.log(`    Text: \"${text}${text.length >= 50 ? '...' : ''}\"`);\n                    }\n                });\n\n                if (pair.nodes.length > maxNodePreview) {\n                    console.log(`    ... v ${pair.nodes.length - maxNodePreview} nodes khc`);\n                }\n            }\n        });\n\n        console.log(`\\n${'='.repeat(80)}\\n`);\n    }\n\n    /**\n     * Xa cache  buc parse li\n     */\n    clearCache() {\n        this.cachedComments = null;\n        return this;\n    }\n}","import { __defineProp, __hasOwnProp } from '../helpers/utils.js';\nimport { TemplateDetectorService } from './services/TemplateDetectorService.js';\n\nexport class OneMarkupModel {\n    constructor(fullName, openTag, closeTag, attributes = {}, nodes = []) {\n        /**\n         * @type {Element|Comment}\n         */\n        this.__openTag = openTag;\n        /**\n         * @type {Element|Comment}\n         */\n        this.__closeTag = closeTag;\n        this.__attributes = attributes;\n        /**\n         * @type {Array<Element|Comment>}\n         */\n        this.__nodes = nodes;\n        this.__definedAttributes = [];\n        this.__tagName = fullName.split(':')[1];\n        this.__fullName = fullName;\n        this.__defineAttributes(Object.keys(attributes));\n    }\n    __update(fullName, openTag, closeTag, attributes = {}, nodes = []) {\n        this.__openTag = openTag;\n        this.__closeTag = closeTag;\n        this.__attributes = attributes;\n        this.__nodes = nodes;\n        this.__tagName = fullName.split(':')[1];\n        this.__fullName = fullName;\n        this.__defineAttributes(Object.keys(attributes));\n        return this;\n    }\n    __defineAttributes(attributeKeys = []) {\n        for (let i = 0; i < attributeKeys.length; i++) {\n            const key = attributeKeys[i];\n            this.__defineAttribute(key);\n        }\n        return this;\n    }\n    __defineAttribute(name) {\n        if (this.__definedAttributes.includes(name)) {\n            return this;\n        }\n        this.__definedAttributes.push(name);\n        __defineProp(this, name, {\n            set: (value) => {\n                this.__attributes[name] = value;\n                return value;\n            },\n            get: () => {\n                return this.__attributes[name];\n            }\n        });\n        return this;\n    }\n    get tagName() {\n        return this.__tagName;\n    }\n    set tagName(name) {\n        // this.__tagName = name;\n        return this;\n    }\n    get fullName() {\n        return this.__fullName;\n    }\n    set fullName(name) {\n        // this.__fullName = name;\n        return this;\n    }\n    get openTag() {\n        return this.__openTag;\n    }\n    get closeTag() {\n        return this.__closeTag;\n    }\n    get attributes() {\n        return this.__attributes;\n    }\n    /**\n     * Get the nodes of the markup element\n     * @returns {Array<Element|Comment>} - The nodes of the markup element\n     */\n    get nodes() {\n        return this.__nodes;\n    }\n    getAttribute(name) {\n        return this.__attributes[name];\n    }\n    setAttribute(name, value) {\n        this.__defineAttribute(name);\n        this.__attributes[name] = value;\n        return this;\n    }\n    __match(attributes = {}) {\n        let keys = Object.keys(attributes);\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            const value = attributes[key];\n            if (key === 'tagName') {\n                if (this.__tagName !== value) {\n                    return false;\n                }\n                continue;\n            }\n            else if (key === 'openTag') {\n                if (this.__openTag !== value) {\n                    return false;\n                }\n                continue;\n            }\n            else if (key === 'closeTag') {\n                if (this.__closeTag !== value) {\n                    return false;\n                }\n                continue;\n            }\n            else if (key === 'attributes') {\n                continue;\n            }\n            else if (key === 'nodes') {\n                continue;\n            }\n            else if (this.__attributes[key] !== value) {\n                return false;\n            }\n        }\n        return true;\n    }\n    __scan() {\n        const nodes = [];\n        let currentNode = this.__openTag.nextSibling;\n        while (currentNode && currentNode !== this.__closeTag) {\n            nodes.push(currentNode);\n            currentNode = currentNode.nextSibling;\n        }\n        this.__nodes.length = 0;\n        this.__nodes.push(...nodes);\n        return this.__nodes;\n    }\n    updateNodes(nodes = []) {\n        this.__nodes = nodes;\n        return this;\n    }\n}\n\nexport class OneMarkupCollection {\n    constructor(elements = []) {\n        this.__models = elements.map(element => (element instanceof OneMarkupModel) ? element : new OneMarkupModel(element.fullName, element.openTag, element.closeTag, element.attributes, element.nodes));\n    }\n    get models() {\n        return this.__models;\n    }\n    get length() {\n        return this.__models.length;\n    }\n\n    /**\n     * Get the first model in the collection\n     * @returns {OneMarkupModel} - The first model in the collection\n     */\n    get first() {\n        return this.__models[0];\n    }\n    /**\n     * Get the last model in the collection\n     */\n    get last() {\n        return this.__models[this.__models.length - 1];\n    }\n    push(model) {\n        if (!(model instanceof OneMarkupModel)) {\n            model = new OneMarkupModel(model.fullName, model.openTag, model.closeTag, model.attributes, model.nodes);\n        }\n        this.__models.push(model);\n        return this;\n    }\n    pop() {\n        return this.__models.pop();\n    }\n    shift() {\n        return this.__models.shift();\n    }\n    unshift(model) {\n        if (!(model instanceof OneMarkupModel)) {\n            model = new OneMarkupModel(model.fullName, model.openTag, model.closeTag, model.attributes, model.nodes);\n        }\n        this.__models.unshift(model);\n        return this;\n    }\n    splice(start, deleteCount, ...items) {\n        if (!(items instanceof OneMarkupCollection)) {\n            items = new OneMarkupCollection(items);\n        }\n        this.__models.splice(start, deleteCount, ...items.__models);\n        return this;\n    }\n    slice(start, end) {\n        return this.__models.slice(start, end);\n    }\n    concat(models) {\n        if (!(models instanceof OneMarkupCollection)) {\n            models = new OneMarkupCollection(models);\n        }\n        return new OneMarkupCollection(this.__models.concat(models.__models));\n    }\n    reverse() {\n        return new OneMarkupCollection(this.__models.reverse());\n    }\n\n    /**\n     * Get the model at the given index\n     * @param {number} index - The index of the model to get\n     * @returns {OneMarkupModel} - The model at the given index\n     */\n    get(index) {\n        return this.__models[index];\n    }\n    /**\n     * Set the model at the given index\n     * @param {number} index - The index of the model to set\n     * @param {OneMarkupModel} model - The model to set at the given index\n     * @returns {OneMarkupCollection} - The collection\n     */\n    set(index, model) {\n        this.__models[index] = model;\n        return this;\n    }\n\n    /**\n     * Map the collection to a new array\n     * @param {function} callback - The callback function to map the collection\n     * @returns {Array} - The new array\n     */\n    map(callback) {\n        return this.__models.map(callback);\n    }\n    /**\n     * Filter the collection to a new array\n     * @param {function} callback - The callback function to filter the collection\n     * @returns {Array} - The new array\n     */\n    filter(callback) {\n        return this.__models.filter(callback);\n    }\n    /**\n     * Reduce the collection to a single value\n     * @param {function} callback - The callback function to reduce the collection\n     * @param {any} initialValue - The initial value to reduce the collection\n     * @returns {any} - The reduced value\n     */\n    reduce(callback, initialValue) {\n        return this.__models.reduce(callback, initialValue);\n    }\n    /**\n     * For each the collection\n     * @param {function} callback - The callback function to for each the collection\n     * @returns {OneMarkupCollection} - The collection\n     */\n    forEach(callback) {\n        return this.__models.forEach(callback);\n    }\n    /**\n     * Some the collection\n     * @param {function} callback - The callback function to some the collection\n     * @returns {boolean} - True if some of the collection matches the callback, false otherwise\n     */\n    some(callback) {\n        return this.__models.some(callback);\n    }\n    /**\n     * Every the collection\n     * @param {function} callback - The callback function to every the collection\n     * @returns {boolean} - True if every of the collection matches the callback, false otherwise\n     */\n    every(callback) {\n        return this.__models.every(callback);\n    }\n    /**\n     * Query the collection\n     * @param {object} attributes - The attributes to query the collection\n     * @returns {Array} - The filtered array\n     */\n    query(attributes = {}) {\n        return this.__models.filter(model => model.__match(attributes));\n    }\n    find(attributes = {}) {\n        return this.query(attributes)[0] || null;\n    }\n}\n\nexport class OneMarkupService {\n    constructor() {\n        /**\n         * @type {TemplateDetectorService}\n         */\n        this.detector = new TemplateDetectorService(document.documentElement);\n    }\n\n    /**\n     * Find the first element that matches the pattern and attributes\n     * @param {string} pattern - The pattern to find\n     * @param {object} attributes - The attributes to find\n     * @param {object} options - The options to find\n     * @param {number} total - The total to find\n     * @returns {OneMarkupModel|OneMarkupCollection} - The first element that matches the pattern and attributes\n     */\n    find(pattern = '*', attributes = {}, options = {}, total = false) {\n        if (!__hasOwnProp(this, 'useCache')) {\n            options.useCache = false;\n        }\n        const elements = this.detector.find(\"one:\" + pattern, options);\n        const isTotal = total && typeof total === 'number' && total > 0;\n        const isLast = total && total === -1;\n        const isFirst = total && total === 1;\n        if (elements.length === 0) {\n            if (isLast) {\n                return null;\n            }\n            else if (isTotal && total == 1) {\n                return null;\n            }\n            return new OneMarkupCollection([]);\n        }\n        if (typeof attributes !== 'object' || attributes === null || Object.keys(attributes).length === 0) {\n            if (isLast) {\n                const lastElement = elements[elements.length - 1];\n                return new OneMarkupModel(lastElement.fullName, lastElement.openTag, lastElement.closeTag, lastElement.attributes, lastElement.nodes);\n            }\n            else if (isTotal) {\n                if (total == 1) {\n                    return new OneMarkupModel(elements[0].fullName, elements[0].openTag, elements[0].closeTag, elements[0].attributes, elements[0].nodes);\n                }\n                return new OneMarkupCollection(elements.slice(0, total));\n            }\n            return new OneMarkupCollection(elements);\n        }\n        const keys = Object.keys(attributes);\n        const result = [];\n        const elementCount = elements.length;\n        const lastIndex = elementCount - 1;\n        for (let i = 0; i < elementCount; i++) {\n            if(isLast && i < lastIndex) {\n                continue;\n            }\n            const element = elements[i];\n            let isMatch = true;\n            for (let j = 0; j < keys.length; j++) {\n                const key = keys[j];\n                const value = attributes[key];\n                if (element.attributes[key] !== value) {\n                    isMatch = false;\n                    break;\n                }\n            }\n            if (!isMatch) {\n                continue;\n            }\n            if (isFirst) {\n                return new OneMarkupModel(element.fullName, element.openTag, element.closeTag, element.attributes, element.nodes);\n            }\n            if(isLast && i === lastIndex) {\n                return new OneMarkupModel(element.fullName, element.openTag, element.closeTag, element.attributes, element.nodes);\n            }\n            result.push(element);\n            if (isTotal && result.length >= total) {\n                return new OneMarkupCollection(result);\n            }\n        }\n        return new OneMarkupCollection(result);\n    }\n\n    first(pattern = '*', attributes = {}, options = {}) {\n        return this.find(pattern, attributes, options, 1);\n    }\n}\n\nexport const OneMarkup = new OneMarkupService();\nexport default OneMarkup;","export class OneDOM {\n    static validateElement(element) {\n        if (!(element instanceof Element || element instanceof Comment)) {\n            throw new Error('Provided value is not a valid DOM Element');\n        }\n        return true;\n    }\n    /**\n     * Convert various input types to a safe DocumentFragment\n     * Supports: string, Element, NodeList, Array<Element|string>\n     */\n    static toFragment(content) {\n        const fragment = document.createDocumentFragment();\n\n        const appendItem = (item) => {\n            if (!item) return;\n            if (typeof item === 'string') {\n                const template = document.createElement('template');\n                template.innerHTML = item.trim();\n                fragment.appendChild(template.content);\n            } else if (item instanceof Element || item instanceof DocumentFragment) {\n                fragment.appendChild(item);\n            } else if (Array.isArray(item) || item instanceof NodeList) {\n                item.forEach(appendItem);\n            } else {\n                console.warn('Unsupported content type:', item);\n            }\n        };\n\n        appendItem(content);\n        return fragment;\n    }\n\n    /**\n     * Chn ni dung trc i tng tham chiu trong DOM\n     * @param {Element|Comment} target i tng dng  tham chiu\n     * @param {*} content ni dung thm vo\n     */\n    static before(target, content) {\n        if (!(target instanceof Element || target instanceof Comment)) throw new Error('Target must be a DOM element');\n        target.parentNode.insertBefore(this.toFragment(content), target);\n    }\n\n    /**\n     * Chn ni dung sau i tng tham chiu trong DOM\n     * @param {Element|Comment} target i tng dng  tham chiu\n     * @param {*} content ni dung thm vo\n     */\n    static after(target, content) {\n        if (!(target instanceof Element || target instanceof Comment)) throw new Error('Target must be a DOM element');\n        const frag = this.toFragment(content);\n        if (target.nextSibling) target.parentNode.insertBefore(frag, target.nextSibling);\n        else target.parentNode.appendChild(frag);\n    }\n\n    /**\n     * Thay th i tng tham chiu trong DOM bng ni dung mi\n     * @param {Element|Comment} target i tng dng  tham chiu\n     * @param {*} content ni dung thay th\n     */\n    static replace(target, content) {\n        if (!(target instanceof Element || target instanceof Comment)) throw new Error('Target must be a DOM element');\n        target.replaceWith(this.toFragment(content));\n    }\n\n    /**\n     * Thm ni dung vo cui phn t tham chiu trong DOM\n     * @param {Element} target phn t dng  tham chiu\n     * @param {*} content ni dung thm vo\n     */\n    static append(target, content) {\n        if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n        target.appendChild(this.toFragment(content));\n    }\n\n    /**\n     * Thm ni dung vo u phn t tham chiu trong DOM\n     * @param {Element} target phn t dng  tham chiu\n     * @param {*} content ni dung thm vo\n     */\n    static prepend(target, content) {\n        if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n        if (!target.firstChild) {\n            target.appendChild(this.toFragment(content));\n            return;\n        }\n        target.insertBefore(this.toFragment(content), target.firstChild);\n    }\n    /**\n     * Thit lp ni dung HTML cho phn t tham chiu trong DOM\n     * @param {Element} target phn t dng  tham chiu\n     * @param {*} content ni dung thit lp\n     */\n    static setHTML(target, content) {\n        if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n        target.innerHTML = '';\n        target.appendChild(this.toFragment(content));\n    }\n\n    /**\n     * Thay th ton b ni dung ca phn t tham chiu trong DOM\n     * @param {Element} target phn t dng  tham chiu\n     * @param {*} content ni dung thay th\n     */\n    static replaceContent(target, content) {\n        if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n        target.innerHTML = '';\n        target.appendChild(this.toFragment(content));\n    }\n\n    static content(target, content) {\n        if (content === undefined) {\n            // Ly ni dung\n            if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n            return target.innerHTML;\n        } else {\n            // Thit lp ni dung\n            this.setHTML(target, content);\n        }\n    }\n\n    static children(target, children = null) {\n        if (!(target instanceof Element)) throw new Error('Target must be a DOM element');\n        if (children === null || children === undefined) {\n            return Array.from(target.children);\n        } else {\n            target.innerHTML = '';\n            target.appendChild(this.toFragment(children));\n        }\n    }\n}\n\nexport default OneDOM;","export class LoggerService {\n    constructor(config) {\n        this.config = {\n            level: 'info',\n            enabled: false,\n            console: true,\n            remote: false\n        };\n        \n        if (config) {\n            this.setConfig(config);\n        }\n\n        this.logs = [];\n    }\n\n    setConfig(config) {\n        this.config = { ...this.config, ...config };\n    }\n\n    getConfig() {\n        return this.config;\n    }\n\n    consoleLog(method, ...args) {\n        this.logs.push(...args)\n        if (this.config.console && this.config.enabled) {\n            return console[method].apply(console, args);\n        }\n    }\n\n    log(...args) {\n        return this.consoleLog('log', ...args);\n    }\n\n    warn(...args) {\n        return this.consoleLog('warn', ...args);\n    }\n\n    error(...args) {\n        return this.consoleLog('error', ...args); \n    }\n\n    info(...args) {\n        return this.consoleLog('info', ...args);\n    }\n\n    debug(...args) {\n        return this.consoleLog('debug', ...args);\n    }\n\n}\n\n\nexport const logger = new LoggerService({level: 'info', enabled: true, console: true, remote: false});\nexport default logger;\n\n","import logger from \"./services/LoggerService.js\";\n\nexport class ViewState {\n    constructor(view) {\n        // Private properties using naming convention for browser compatibility\n        this._viewRef = view;\n        /**\n         * @type {Array<[any, function, string]>}\n         */\n        this._states = [];\n        this._stateIndex = 0;\n        this._canUpdateStateByKey = true;\n        /**\n         * @type {Map<string, Array<Function>>}\n         */\n        this.__listeners = new Map();\n\n        /**\n         * @type {Array<string>}\n         */\n        this.__ownProperties = ['_states', '_stateIndex', '_canUpdateStateByKey', '_viewRef', '__listeners', '__ownProperties', '__ownMethods', '__setters__'];\n        /**\n         * @type {Array<string>}\n         */\n        this.__ownMethods = ['__commitStateChange', '__setState', '__useState', '__updateStateByKey', '__register', '__lockUpdateRealState', '__subscribe', '__toJSON', 'toJSON', 'toString'];\n\n        this.__setters__ = {};\n\n        Object.defineProperty(this, 'on', {\n            value: (key, callback) => this.__subscribe(key, callback),\n            writable: true,\n            configurable: true,\n            enumerable: false,\n        });\n        Object.defineProperty(this, 'off', {\n            value: (key, callback) => this.__unsubscribe(key, callback),\n            writable: true,\n            configurable: true,\n            enumerable: false,\n        });\n    }\n    // Define public methods using Object.defineProperties for backward compatibility\n\n    // Private methods using naming convention\n    __commitStateChange(index, oldValue, stateKey = null) {\n        // Implementation placeholder\n        let key = stateKey ? stateKey : (this._states[index] ? this._states[index][2] : index);\n        const listeners = this.__listeners.get(key);\n        if (listeners) {\n            listeners.forEach(callback => callback(this._states[index][0], oldValue));\n        }\n        if(this._viewRef){\n\n        }\n\n    }\n\n    /**\n     * set state ni b\n     * @param {number} index index\n     * @param {*} value gi tr \n     * @param {function} setValue hm set gi tr\n     * @param {string} key key ca state\n     * @returns {[*, function, string]}\n     */\n    __setState(index, value, setValue = () => { }, key = null) {\n        this._states[index] = [value, setValue, key??index];\n        return [value, setValue, key??index];\n    }\n\n    /**\n     * tng t useState\n     * @param {*} value gi tr ca state\n     * @param {string} key key ca state (khng bt buc)\n     * @returns {Array<[*, function, string]>}\n     */\n    __useState(value, key = null) {\n        const index = this._stateIndex++;\n        const stateKey = key ?? index;\n        const setValue = (value) => {\n            const oldValue = this._states[index][0];\n            this._states[index][0] = value;\n            this.__commitStateChange(index, oldValue, stateKey);\n        };\n        this.__setState(index, value, setValue, stateKey);\n        \n        if (!this.__ownProperties.includes(stateKey) && !this.__ownMethods.includes(stateKey)) {\n\n            Object.defineProperty(this, stateKey, {\n                get: () => {\n                    return this._states[index][0];\n                },\n                set: (value) => {\n                    logger.log(\"Bn khng th thit lp gi tr cho \" + stateKey + \" theo cch ny\");\n                },\n                configurable: false,\n                enumerable: true,\n            });\n\n        }\n        return [value, setValue, stateKey];\n    }\n\n    /**\n     * cp nht state value theo key\n     * @param {string} key key ca state\n     * @param {*} value gi tr\n     * @returns {*}\n     */\n    __updateStateByKey(key, value) {\n        const index = this._states.findIndex(state => state[2] === key);\n        logger.log(`Updating state by key: ${key} at index: ${index} with value:`, value);\n        if (index !== -1) {\n            if (!this._canUpdateStateByKey) {\n                logger.log(`State updates are locked for key: ${key}`);\n                return this._states[index][0];\n            }\n\n            const oldValue = this._states[index][0];\n            this._states[index][0] = value;\n            this.__commitStateChange(index, oldValue, key);\n        } else {\n            logger.warn(`State key not found: ${key}`);\n        }\n        return value;\n    }\n\n    /**\n     * ng k key - value cho state - tr v hm setValue cho key tng ng\n     * @param {string} key key ca state\n     * @param {*} value gi tr\n     * @returns {function}\n     */\n    __register(key, value) {\n        return this.__useState(value, key)[1];\n    }\n\n    __lockUpdateRealState() {\n        this._canUpdateStateByKey = false;\n    }\n\n    __subscribe(key, callback) {\n        if (typeof key !== 'string' || this.__ownProperties.includes(key) || this.__ownMethods.includes(key)) {\n            return false\n        }\n        if (callback && typeof callback !== 'function') {\n            throw new Error('Callback must be a function');\n        }\n        if (!this.__listeners.has(key)) {\n            this.__listeners.set(key, []);\n        }\n        this.__listeners.get(key).push(callback);\n        let index = this.__listeners.get(key).length - 1;\n        return () => {\n            this.__listeners.get(key).splice(index, 1);\n            if (this.__listeners.get(key).length === 0) {\n                this.__listeners.delete(key);\n            }\n        };\n    }\n\n    __unsubscribe(key, callback = null) {\n        if (typeof key !== 'string' || this.__ownProperties.includes(key) || this.__ownMethods.includes(key)) {\n            return;\n        }\n        if (callback && typeof callback !== 'function') {\n            return;\n        }\n        if (callback) {\n            let index = this.__listeners.get(key).indexOf(callback);\n            if (index !== -1) {\n                this.__listeners.get(key).splice(index, 1);\n                if (this.__listeners.get(key).length === 0) {\n                    this.__listeners.delete(key);\n                }\n            }\n        } else {\n            this.__listeners.delete(key);\n        }\n    }\n\n\n    __reset() {\n        this._stateIndex = 0;\n        this._canUpdateStateByKey = true;\n        this.__listeners.clear();\n    }\n\n\n\n\n\n\n\n    __toJSON() {\n        const data = {};\n        this._states.forEach((state, index) => {\n            const key = state[2]; // state[2] is the key\n            data[key] = state[0]; // state[0] is the value\n        });\n        return data;\n    }\n\n    // Public methods\n    toJSON() {\n        return this.__toJSON();\n    }\n\n    toString() {\n        return JSON.stringify(this.__toJSON());\n    }\n\n\n\n\n}\n\n","import { uniqId } from \"../helpers/utils.js\";\nimport OneMarkup, { OneMarkupModel } from \"./OneMarkup.js\";\nimport OneDOM from \"./OneDOM.js\";\nimport { ViewState } from \"./ViewState.js\";\n\n\nexport class FollowingBlock {\n    constructor({ App, engine, stateKeys = [], renderBlock = () => '', scanMode = false, renderID = '' }) {\n        /**\n         * @type {Application}\n         */\n        this.App = App;\n        /**\n         * @type {ViewEngine}\n         */\n        this.engine = engine;\n        /**\n         * @type {ViewState}\n         */\n        this.states = engine.states;\n        /**\n         * @type {Array}\n         */\n        this.stateKeys = stateKeys;\n        /**\n         * @type {function}\n         */\n        this.renderBlock = renderBlock;\n        /**\n         * @type {boolean}\n         */\n        this.scanMode = scanMode;\n        /**\n         * @type {string}\n         */\n        this.id = renderID || uniqId();\n        /**\n         * @type {boolean}\n         */\n        this.isRendered = false;\n\n        this.openTag = null;\n        this.closeTag = null;\n        this.refElements = [];\n        this.subscribes = [];\n        this.isMounted = false;\n        this.isScanned = false;\n        /**\n         * @type {OneMarkupModel|null}\n         */\n        this.markup = null;\n    }\n    mounted() {\n        if (this.isMounted) return;\n        this.isMounted = true;\n        this.scan();\n        if (this.stateKeys.length > 0) {\n            this.stateKeys.forEach(stateKey => {\n                const unsubscribe = this.states.__subscribe(stateKey, () => {\n                    console.log(`FollowingBlock [id=${this.id}] detected change in state \"${stateKey}\", renewing...`);\n                    this.renew();\n                });\n                this.subscribes.push(unsubscribe);\n            });\n        }\n    }\n    unmounted() {\n        this.isMounted = false;\n        if (this.subscribes.length > 0) {\n            this.subscribes.forEach(unsubscribe => {\n                unsubscribe();\n            });\n            this.subscribes = [];\n        }\n    }\n\n    placeholder() {\n        return `<!-- [one:placeholder ref=\"following\" id=\"${this.id}\"] --><!-- [/one:placeholder] -->`;\n    }\n\n    render() {\n        \n        return `<!-- [one:follow type=\"state\" id=\"${this.id}\" following=\"${this.stateKeys.join(',')}\"] viewid=\"${this.id}\" -->${this.renderBlock()}<!-- [/one:follow] -->`;\n    }\n    rerender() {\n        return this.renderBlock();\n    }\n    renew() {\n        this.engine.onFollowUpdating();\n        try {\n            this.unmounted();\n            this.clear();\n            if (this.closeTag && this.closeTag.parentNode) {\n                OneDOM.before(this.closeTag, this.rerender());\n                this.mounted();\n            }\n        } catch (e) {\n            console.error('FollowingBlock renew error:', e);\n        }\n        this.engine.onFollowUpdated();\n    }\n\n    destroy() {\n        this.unmounted();\n        this.clear();\n    }\n\n\n    scan() {\n        console.log(`FollowingBlock [id=${this.id}] scanning...`);\n        if(!this.markup){\n            this.markup = OneMarkup.first('follow', { id: this.id }, {}, false);\n            this.openTag = this.markup.openTag;\n            this.closeTag = this.markup.closeTag;\n            this.refElements = this.markup.nodes.slice();\n        }else{\n            this.refElements = [];\n            this.markup.__scan();\n            this.refElements = this.markup.nodes.slice();\n        }\n        this.isScanned = true;\n    }\n    clear() {\n        this.refElements.forEach(node => {\n            if (node.parentNode) {\n                node.parentNode.removeChild(node);\n            }\n        });\n        this.refElements = [];\n    }\n\n}","const basePrefix = 'data-';\nconst ATTR = {\n    PREFIX: {\n        BASE: basePrefix,\n        YIELD: `${basePrefix}yield-`,\n        \n\n        // DOM EVENTS - Mouse Events\n        CLICK: `${basePrefix}click-`,\n        DBLCLICK: `${basePrefix}dblclick-`,\n        MOUSEDOWN: `${basePrefix}mousedown-`,\n        MOUSEUP: `${basePrefix}mouseup-`,\n        MOUSEOVER: `${basePrefix}mouseover-`,\n        MOUSEOUT: `${basePrefix}mouseout-`,\n        MOUSEMOVE: `${basePrefix}mousemove-`,\n        MOUSEENTER: `${basePrefix}mouseenter-`,\n        MOUSELEAVE: `${basePrefix}mouseleave-`,\n        WHEEL: `${basePrefix}wheel-`,\n        AUXCLICK: `${basePrefix}auxclick-`,\n\n        // Keyboard Events\n        KEYDOWN: `${basePrefix}keydown-`,\n        KEYUP: `${basePrefix}keyup-`,\n        KEYPRESS: `${basePrefix}keypress-`,\n\n        // Form Events\n        INPUT: `${basePrefix}input-`,\n        CHANGE: `${basePrefix}change-`,\n        SUBMIT: `${basePrefix}submit-`,\n        RESET: `${basePrefix}reset-`,\n        INVALID: `${basePrefix}invalid-`,\n        SEARCH: `${basePrefix}search-`,\n\n        // Focus Events\n        FOCUS: `${basePrefix}focus-`,\n        BLUR: `${basePrefix}blur-`,\n        FOCUSIN: `${basePrefix}focusin-`,\n        FOCUSOUT: `${basePrefix}focusout-`,\n\n        // Selection Events\n        SELECT: `${basePrefix}select-`,\n        SELECTSTART: `${basePrefix}selectstart-`,\n        SELECTIONCHANGE: `${basePrefix}selectionchange-`,\n\n        // Touch Events\n        TOUCHSTART: `${basePrefix}touchstart-`,\n        TOUCHMOVE: `${basePrefix}touchmove-`,\n        TOUCHEND: `${basePrefix}touchend-`,\n        TOUCHCANCEL: `${basePrefix}touchcancel-`,\n\n        // Drag & Drop Events\n        DRAGSTART: `${basePrefix}dragstart-`,\n        DRAG: `${basePrefix}drag-`,\n        DRAGEND: `${basePrefix}dragend-`,\n        DRAGENTER: `${basePrefix}dragenter-`,\n        DRAGLEAVE: `${basePrefix}dragleave-`,\n        DRAGOVER: `${basePrefix}dragover-`,\n        DROP: `${basePrefix}drop-`,\n\n        // Media Events\n        PLAY: `${basePrefix}play-`,\n        PAUSE: `${basePrefix}pause-`,\n        ENDED: `${basePrefix}ended-`,\n        LOADSTART: `${basePrefix}loadstart-`,\n        LOADEDDATA: `${basePrefix}loadeddata-`,\n        LOADEDMETADATA: `${basePrefix}loadedmetadata-`,\n        CANPLAY: `${basePrefix}canplay-`,\n        CANPLAYTHROUGH: `${basePrefix}canplaythrough-`,\n        WAITING: `${basePrefix}waiting-`,\n        SEEKING: `${basePrefix}seeking-`,\n        SEEKED: `${basePrefix}seeked-`,\n        RATECHANGE: `${basePrefix}ratechange-`,\n        DURATIONCHANGE: `${basePrefix}durationchange-`,\n        VOLUMECHANGE: `${basePrefix}volumechange-`,\n        SUSPEND: `${basePrefix}suspend-`,\n        STALLED: `${basePrefix}stalled-`,\n        PROGRESS: `${basePrefix}progress-`,\n        EMPTIED: `${basePrefix}emptied-`,\n        ENCRYPTED: `${basePrefix}encrypted-`,\n        WAKEUP: `${basePrefix}wakeup-`,\n\n        // Window Events\n        LOAD: `${basePrefix}load-`,\n        UNLOAD: `${basePrefix}unload-`,\n        BEFOREUNLOAD: `${basePrefix}beforeunload-`,\n        RESIZE: `${basePrefix}resize-`,\n        SCROLL: `${basePrefix}scroll-`,\n        ORIENTATIONCHANGE: `${basePrefix}orientationchange-`,\n        VISIBILITYCHANGE: `${basePrefix}visibilitychange-`,\n        PAGEHIDE: `${basePrefix}pagehide-`,\n        PAGESHOW: `${basePrefix}pageshow-`,\n        POPSTATE: `${basePrefix}popstate-`,\n        HASHCHANGE: `${basePrefix}hashchange-`,\n        ONLINE: `${basePrefix}online-`,\n        OFFLINE: `${basePrefix}offline-`,\n\n        // Document Events\n        DOMCONTENTLOADED: `${basePrefix}DOMContentLoaded-`,\n        READYSTATECHANGE: `${basePrefix}readystatechange-`,\n\n        // Error Events\n        ERROR: `${basePrefix}error-`,\n        ABORT: `${basePrefix}abort-`,\n\n        // Context Menu\n        CONTEXTMENU: `${basePrefix}contextmenu-`,\n\n        // Animation Events\n        ANIMATIONSTART: `${basePrefix}animationstart-`,\n        ANIMATIONEND: `${basePrefix}animationend-`,\n        ANIMATIONITERATION: `${basePrefix}animationiteration-`,\n\n        // Transition Events\n        TRANSITIONSTART: `${basePrefix}transitionstart-`,\n        TRANSITIONEND: `${basePrefix}transitionend-`,\n        TRANSITIONRUN: `${basePrefix}transitionrun-`,\n        TRANSITIONCANCEL: `${basePrefix}transitioncancel-`,\n\n        // Pointer Events (Modern browsers)\n        POINTERDOWN: `${basePrefix}pointerdown-`,\n        POINTERUP: `${basePrefix}pointerup-`,\n        POINTERMOVE: `${basePrefix}pointermove-`,\n        POINTEROVER: `${basePrefix}pointerover-`,\n        POINTEROUT: `${basePrefix}pointerout-`,\n        POINTERENTER: `${basePrefix}pointerenter-`,\n        POINTERLEAVE: `${basePrefix}pointerleave-`,\n        POINTERCANCEL: `${basePrefix}pointercancel-`,\n        GOTPOINTERCAPTURE: `${basePrefix}gotpointercapture-`,\n        LOSTPOINTERCAPTURE: `${basePrefix}lostpointercapture-`,\n\n        // Fullscreen Events\n        FULLSCREENCHANGE: `${basePrefix}fullscreenchange-`,\n        FULLSCREENERROR: `${basePrefix}fullscreenerror-`,\n\n        // Clipboard Events\n        COPY: `${basePrefix}copy-`,\n        CUT: `${basePrefix}cut-`,\n        PASTE: `${basePrefix}paste-`,\n\n        // Gamepad Events\n        GAMEPADCONNECTED: `${basePrefix}gamepadconnected-`,\n        GAMEPADDISCONNECTED: `${basePrefix}gamepaddisconnected-`,\n\n        // Battery Events\n        BATTERYCHARGINGCHANGE: `${basePrefix}batterychargingchange-`,\n        BATTERYLEVELCHANGE: `${basePrefix}batterylevelchange-`,\n\n        // Device Orientation Events\n        DEVICEORIENTATION: `${basePrefix}deviceorientation-`,\n        DEVICEMOTION: `${basePrefix}devicemotion-`,\n        DEVICELIGHT: `${basePrefix}devicelight-`,\n        DEVICEPROXIMITY: `${basePrefix}deviceproximity-`,\n\n        // WebGL Events\n        WEBGLCONTEXTLOST: `${basePrefix}webglcontextlost-`,\n        WEBGLCONTEXTRESTORED: `${basePrefix}webglcontextrestored-`,\n\n\n        // view\n        VIEW: `${basePrefix}view-`,\n    },\n    KEYS: {\n        VIEW: `${basePrefix}view`,\n        VIEW_ID: `${basePrefix}view-id`,\n        VIEW_REF: `${basePrefix}view-ref`,\n        VIEW_SECTION_REF: `${basePrefix}view-section-ref`,\n        VIEW_RESOURCE: `${basePrefix}view-resource`,\n        VIEW_STYLE: `${basePrefix}view-style`,\n        VIEW_WRAPPER: `${basePrefix}view-wrapper`,\n        // yield\n        YIELD_ATTR: `${basePrefix}yield-attr`,\n        YIELD_CONTENT: `${basePrefix}yield-content`,\n        YIELD_CHILDREN: `${basePrefix}yield-children`,\n        YIELD_SUBSCRIBE: `${basePrefix}yield-subscribe`,\n        YIELD_SUBSCRIBE_ATTR: `${basePrefix}yield-subscribe-attr`,\n        YIELD_SUBSCRIBE_CONTENT: `${basePrefix}yield-subscribe-content`,\n        YIELD_SUBSCRIBE_CHILDREN: `${basePrefix}yield-subscribe-children`,\n    },\n    CLASSNAME: {\n        BASE: basePrefix,\n        VIEW_ERROR: `${basePrefix}view-error`,\n        VIRTUAL_CONTAINER: `${basePrefix}virtual-container`,\n        SECTION_ERROR: `${basePrefix}section-error`,\n    },\n    prefix: (key) => ATTR.PREFIX[key.toUpperCase()] || basePrefix + key,\n    key: (key) => ATTR.KEYS[key.toUpperCase()] || basePrefix + key,\n    className: (key) => ATTR.CLASSNAME[key.toUpperCase()] || basePrefix + key.toLowerCase().replace(/_/g, '-'),\n\n}\n\nexport const FORBIDDEN_KEYS = [\n    'init',\n    'destroy',\n    'beforeInit',\n    'afterInit',\n    'beforeDestroy',\n    'destroyed',\n    'loadServerData',\n    'render',\n    'prerender',\n    'insertResources',\n    'removeResources',\n    'setMaster',\n    'setApp',\n    'addChild',\n    'removeChild',\n    'remove',\n    'setParent',\n    'parent',\n    'master',\n    'beforeCreate',\n    'created',\n    'beforeUpdate',\n    'updated',\n    'beforeMount',\n    'mounted',\n    'beforeUnmount',\n    'unmounted',\n    'renderLongSections',\n    'renderSections',\n    'prerenderSections',\n    'data',\n    'scope',\n    'subscribe',\n    'updateVariableItem',\n    'updateVariableData',\n];\n\nexport { ATTR };","/**\n * View Engine class for managing view instances\n * @param {Object} config - View configuration\n */\nimport { __defineGetters, __defineMethods, __defineProperties, __defineProps, deleteProp, hasData, uniqId } from '../helpers/utils.js';\nimport { FollowingBlock } from './FollowingBlock.js';\nimport OneMarkup from './OneMarkup.js';\nimport { ViewState } from './ViewState.js';\nimport logger from './services/LoggerService.js';\nimport { ATTR, FORBIDDEN_KEYS } from './ViewConfig.js';\n\nexport class ViewEngine {\n    constructor(path, config) {\n\n        // Private properties using naming convention for browser compatibility\n        /**\n         * @type {Application}\n         */\n        this.App = null;\n        /**\n         * @type {boolean}\n         */\n        this.isSuperView = false;\n        /**\n         * @type {function}\n         */\n        this._emptyFn = () => { };\n        /**\n         * @type {string}\n         */\n        this.id = null;\n        /**\n         * @type {function}\n         */\n        this.init = this._emptyFn;\n        /**\n         * @type {ViewEngine}\n         */\n        this.parent = null;\n        /**\n         * @type {Array<ViewEngine>}\n         */\n        this.children = [];\n        /**\n         * @type {ViewEngine}\n         */\n        this.superView = null;\n        /**\n         * @type {string}\n         */\n        this.superViewPath = null;\n        /**\n         * @type {string}\n         */\n        this.superViewId = null;\n        /**\n         * @type {boolean}\n         */\n        this.hasSuperView = false;\n\n        /**\n         * @type {string}\n         */\n        this.originalViewPath = null;\n        /**\n         * @type {string}\n         */\n        this.originalViewId = null;\n        /**\n         * @type {ViewEngine}\n         */\n        this.originalView = null;\n        /**\n         * @type {boolean}\n         */\n        this.hasAwaitData = false;\n        /**\n         * @type {boolean}\n         */\n        this.hasFetchData = false;\n        /**\n         * @type {Object}\n         */\n        this.fetch = {};\n        /**\n         * @type {boolean}\n         */\n        this.usesVars = false;\n        /**\n         * @type {boolean}\n         */\n        this.hasSections = false;\n        /**\n         * @type {Array<string>}\n         */\n        this.renderLongSections = [];\n        /**\n         * @type {boolean}\n         */\n        this.hasSectionPreload = false;\n        /**\n         * @type {boolean}\n         */\n        this.hasPrerender = false;\n        /**\n         * @type {Object}\n         */\n        this.sections = {};\n        /**\n         * @type {function}\n         */\n        this.addCSS = this._emptyFn;\n        this.removeCSS = this._emptyFn;\n        /**\n         * @type {Array<string>}\n         */\n        this.resources = [];\n        this.userDefined = {};\n        /**\n         * @type {Object}\n         */\n        this.events = {};\n        this.eventIndex = 0;\n        /**\n         * @type {Object}\n         */\n        this.eventHandlers = {};\n        /**\n         * @type {Object}\n         */\n        this.data = {};\n        /**\n         * @type {ViewState}\n         */\n        this.states = {};\n        this.urlPath = '';\n        /**\n         * @type {boolean}\n         */\n        this.isInitlized = false;\n\n        /**\n         * @type {Object}\n         */\n        this.wrapperConfig = { enable: false, tag: null, follow: true, attributes: {}, ...(typeof config?.wrapperConfig === 'object' ? config.wrapperConfig : {}) };\n\n        /**\n         * @type {TemplateEngine}\n         */\n        this.templateEngine = null;\n\n        // Initialize\n        this.path = path;\n        this.config = config || {};\n\n\n\n        this.wrapTag = null;\n\n\n        /**\n         * @type {Map<string, FollowingBlock>}\n         */\n        this.followingBlocks = new Map();\n\n        this.followingConfig = [];\n        this.followingIndex = 0;\n        this.followingScanIndex = 0;\n        this.followingIDs = [];\n        this.followingPrerenderIDs = [];\n        this.followingRenderIDs = [];\n\n\n        this.subscribeStates = true;\n\n        this.childrenConfig = [];\n        this.childrenIndex = 0;\n        this.refreshChildrenIndex = 0;\n\n        /**\n         * @type {boolean}\n         */\n        this.isRendering = false;\n        /**\n         * @type {boolean}\n         */\n        this.isRendered = false;\n\n        this.isMounted = false;\n        this.isDestroyed = false; // Flag to prevent processing after destroy\n        this.isScanning = false;\n        this.isScanned = false;\n\n\n        this.isReady = false;\n\n        /**\n         * @type {OneMarkupModel}\n         */\n        this.markup = null;\n        /**\n         * @type {Array<OneMarkupModel>}\n         */\n        this.refElements = [];\n\n\n        this.eventListenerStatus = false;\n\n        this.eventListeners = [];\n\n        this.eventQuickHandles = [];\n\n        this.isVirtualRendering = false;\n        this.cachedSections = {};\n        this.renderedContent = null;\n\n        /**\n         * @type {Object<{name: string, id: string, index: number, view: ViewEngine, data: Object, subscribe: Array<string>}>}\n         */\n        this.__scope = null;\n        this.isRefreshing = false;\n\n        this.changeStateQueueCount = 0;\n        this.changedStateKeys = new Set(); // Use Set to avoid duplicates\n        this._stateChangePending = false; // Flag to track if processing is scheduled\n\n        /**\n         * @type {LoopContext}\n         */\n        this.loopContext = null;\n\n        this.isCommitedConstructorData = false;\n\n\n    }\n\n\n    /**\n     * Setup the view engine with configuration\n     * @param {string} path - View path\n     * @param {Object} config - View configuration\n     */\n    setup(path, config) {\n        if (this.isInitlized) {\n            return this;\n        }\n\n        // Set config and path\n        this.path = path;\n        this.config = config || {};\n\n        // Call _initialize to do the actual setup\n        this.initialize();\n        return this;\n    }\n\n\n    /**\n     * Initialize the view engine with configuration\n     * @private\n     */\n    initialize() {\n        if (this.isInitlized) {\n            return;\n        }\n\n        this.isInitlized = true;\n        const config = this.config;\n\n        // Set basic properties (gi nguyn tn t code gc)\n        this.id = config.viewId || uniqId();\n        deleteProp(config, 'viewId');\n        this.init = config.init || this._emptyFn;\n        deleteProp(config, 'init');\n        this.addCSS = config.addCSS || this._emptyFn;\n        deleteProp(config, 'addCSS');\n        this.removeCSS = config.removeCSS || this._emptyFn;\n        deleteProp(config, 'removeCSS');\n        this.states = config.states || new ViewState(this);\n        deleteProp(config, 'states');\n        this.superViewPath = config.superViewPath || config.superView;\n        deleteProp(config, 'superViewPath');\n        deleteProp(config, 'superView');\n        this.hasSuperView = config.hasSuperView;\n        deleteProp(config, 'hasSuperView');\n        this.hasAwaitData = config.hasAwaitData;\n        deleteProp(config, 'hasAwaitData');\n        this.hasFetchData = config.hasFetchData;\n        deleteProp(config, 'hasFetchData');\n        this.fetch = config.fetch;\n        deleteProp(config, 'fetch');\n        this.usesVars = config.usesVars;\n        deleteProp(config, 'usesVars');\n        this.hasSections = config.hasSections;\n        deleteProp(config, 'hasSections');\n        this.hasSectionPreload = config.hasSectionPreload;\n        deleteProp(config, 'hasSectionPreload');\n        this.renderLongSections = config.renderLongSections || [];\n        deleteProp(config, 'renderLongSections');\n        this.hasPrerender = config.hasPrerender;\n        deleteProp(config, 'hasPrerender');\n        this.sections = config.sections;\n        deleteProp(config, 'sections');\n        this.wrapperConfig = { ...this.wrapperConfig, ...(typeof config.wrapperConfig === 'object' ? config.wrapperConfig : {}) };\n        deleteProp(config, 'wrapperConfig');\n        this.resources = config.resources;\n        deleteProp(config, 'resources');\n        this.userDefined = config.userDefined;\n        deleteProp(config, 'userDefined');\n        // Initialize arrays and objects\n        this.master = null;\n        this.children = [];\n        this.events = {};\n        this.eventHandlers = {};\n\n        // Process defined properties and methods (gi nguyn logic t code gc)\n        this.processDefinedProperties(config);\n\n        if (config && config.data && typeof config.data === 'object' && config.data.__SSR_VIEW_ID__) {\n            config.data.__SSR_VIEW_ID__ = null;\n            deleteProp(config.data, '__SSR_VIEW_ID__');\n        }\n\n        // Merge data\n        this.data = { ...(this.data || {}), ...(config.data || {}) };\n        this.commitConstructorData();\n    }\n\n    /**\n     * Process defined properties and methods from config\n     * @private\n     */\n    processDefinedProperties(config) {\n        let definedProps = {};\n        let definedMethods = {};\n\n        if (config.__props__ && config.__props__.length > 0) {\n            config.__props__.forEach(prop => {\n                if (typeof config[prop] === 'function') {\n                    definedMethods[prop] = config[prop].bind(this);\n                }\n                else if (typeof config[prop] !== 'undefined') {\n                    definedProps[prop] = config[prop];\n                }\n            });\n        }\n        /**\n         * lifecycle methods\n         * beforeCreate hm dc gi trc khi view c to\n         * created hm dc gi sau khi view c to\n         * beforeMount hm dc gi trc khi view c mount\n         * mounted hm dc gi sau khi view c mount\n         * beforeUpdate hm dc gi trc khi view c update\n         * updated hm dc gi sau khi view c update\n         * beforeUnmount hm dc gi trc khi view c unmount\n         * unmounted hm dc gi sau khi view c unmount\n         */\n        if (this.userDefined) {\n            Object.entries(this.userDefined).forEach(([key, value]) => {\n                if (FORBIDDEN_KEYS.includes(key)) {\n                    return;\n                }\n                if (typeof value === 'function') {\n                    definedMethods[key] = value.bind(this);\n                }\n                else {\n                    definedProps[key] = value;\n                }\n            });\n        }\n\n        __defineProps(this, definedProps, {\n            writable: true,\n            configurable: true,\n            enumerable: true,\n        });\n\n        __defineMethods(this, definedMethods);\n    }\n\n\n\n    setScope(scope) {\n        this.__scope = scope;\n    }\n\n    loadServerData(_serverData = {}) {\n        const [data, events] = _serverData;\n        const result = typeof this.config.loadServerData === 'function' ? this.config.loadServerData.apply(this, [{ ...this.App.View.data, ...this.data, ..._data }]) : this.config.loadServerData;\n        if (typeof result === 'object' && result.constructor === this.constructor) {\n            return result;\n        }\n        return result;\n    }\n\n    commitConstructorData() {\n        if (this.isCommitedConstructorData) {\n            return;\n        }\n        if (hasData(this.data) && typeof this.config.updateVariableData === 'function') {\n            this.config.updateVariableData.apply(this, [{ ...this.App.View.data, ...this.data }]);\n            this.isCommitedConstructorData = true;\n        }\n        if (typeof this.config.commitConstructorData === 'function') {\n            this.config.commitConstructorData.apply(this, []);\n        }\n\n    }\n\n    /**\n     * Add event configuration for view engine\n     * @param {string} eventType - Type of event\n     * @param {Array} handlers - Array of handler objects\n     * @returns {string} Event attribute string\n     * @example\n     * <AppViewEngine>.addEventConfig('click', [{handler: 'handleClick', params: [1, 2, 3]}]);\n     */\n    addEventConfig(eventType, handlers) {\n        if (typeof eventType !== 'string' || eventType === '') {\n            return;\n        }\n        if (typeof handlers !== 'object' || handlers === null) {\n            return;\n        }\n        return this.addEventStack(eventType, handlers);\n    }\n\n\n\n    /**\n     * Render the view with data\n     * @param {Object} _data - Additional data to merge\n     * @returns {string|Object} Rendered content\n     */\n    render() {\n        let renderFollowIDStart = this.followingIDs.length;\n        this.commitConstructorData();\n        console.log(`path: ${this.path}`, this);\n        const result = this.config.render.apply(this, []);\n        this.renderedContent = result;\n        let renderFollowIDEnd = this.followingIDs.length;\n        if (renderFollowIDEnd >= renderFollowIDStart) {\n            this.followingRenderIDs.push(...this.followingIDs.slice(renderFollowIDStart));\n        }\n\n        if (typeof result === 'string' && result.trim() !== '' && this.isHtmlString(result)) {\n            this.renderedContent = this.addXRefViewToRootElements(result);\n        }\n        return this.renderedContent;\n    }\n\n    /**\n     * Virtual render the view with data (Scan version)\n     * @param {Object} _data - Additional data to merge\n     * @returns {string|Object} Virtual rendered content\n     */\n    virtualRender() {\n        this.isScanning = true;\n        this.isVirtualRendering = true;\n        let renderFollowIDStart = this.followingIDs.length;\n        this.commitConstructorData();\n        const result = this.config.render.apply(this, []);\n        let renderFollowIDEnd = this.followingIDs.length;\n        if (renderFollowIDEnd >= renderFollowIDStart) {\n            this.followingRenderIDs.push(...this.followingIDs.slice(renderFollowIDStart));\n        }\n        this.isVirtualRendering = false;\n        this.isScanning = false;\n        return result;\n    }\n\n\n\n\n    /**\n     * Prerender the view with data\n     * @param {Object} _data - Additional data to merge\n     * @returns {string|Object} Prerendered content\n     */\n    prerender(_data = {}) {\n        let renderFollowIDStart = this.followingIDs.length;\n        this.commitConstructorData();\n        const result = this.config.prerender.apply(this, []);\n        let renderFollowIDEnd = this.followingIDs.length;\n        if (renderFollowIDEnd >= renderFollowIDStart) {\n            this.followingPrerenderIDs.push(...this.followingIDs.slice(renderFollowIDStart));\n        }\n        if (typeof result === 'string' && result.trim() !== '' && this.isHtmlString(result)) {\n            return this.addXRefViewToRootElements(result);\n        }\n        return result;\n    }\n\n    /**\n     * Virtual prerender the view with data (Scan version)\n     * @param {Object} _data - Additional data to merge\n     * @returns {string|Object} Virtual prerendered content\n     */\n    virtualPrerender(_data = {}) {\n        this.isScanning = true;\n        this.isVirtualRendering = true;\n        let renderFollowIDStart = this.followingIDs.length;\n        this.commitConstructorData();\n        const result = this.config.prerender.apply(this, []);\n        let renderFollowIDEnd = this.followingIDs.length;\n        if (renderFollowIDEnd >= renderFollowIDStart) {\n            this.followingPrerenderIDs.push(...this.followingIDs.slice(renderFollowIDStart));\n        }\n        this.isVirtualRendering = false;\n        this.isScanning = false;\n        return result;\n    }\n\n\n\n\n    /**\n     * Replace view content with new HTML\n     * @param {string} htmlString - New HTML content\n     * @returns {boolean} True if replaced successfully\n     */\n    replaceView(htmlString) {\n        if (this.isHtmlString(htmlString)) {\n            const container = document.createElement('div');\n            container.innerHTML = htmlString;\n            const frag = container.content;\n            const oldElements = document.querySelectorAll(`[x-ref-view=\"${this.id}\"]`);\n            const elemtntCount = oldElements.length;\n            for (let i = elemtntCount - 1; i > 0; i--) {\n                const oldElement = oldElements[i];\n                const newElement = frag.childNodes[i];\n                oldElement.parentNode.replaceChild(newElement, oldElement);\n            }\n            const oldElement = oldElements[0];\n            oldElement.parentNode.replaceChild(frag, oldElement);\n            return true;\n        }\n        return false;\n    }\n\n\n    /** lifecycle methods */\n\n    /**\n     * Lifecycle: Called before view is created (gi nguyn tn t code gc)\n     */\n\n    beforeCreate() {\n        if (typeof this.userDefined.beforeCreate === 'function') {\n            this.userDefined.beforeCreate.call(this);\n        }\n    }\n    /**\n     * Lifecycle: Called after view is created (gi nguyn tn t code gc)\n     */\n    created() {\n        if (typeof this.userDefined.created === 'function') {\n            this.userDefined.created.call(this);\n        }\n    }\n\n    /**\n     * Lifecycle: Called before view is updated (gi nguyn tn t code gc)\n     */\n    beforeUpdate() {\n        if (typeof this.userDefined.beforeUpdate === 'function') {\n            this.userDefined.beforeUpdate.call(this);\n        }\n    }\n    /**\n     * Lifecycle: Called after view is updated (gi nguyn tn t code gc)\n     */\n    updated() {\n        if (typeof this.userDefined.updated === 'function') {\n            this.userDefined.updated.call(this);\n        }\n    }\n\n    beforeInit() {\n        if (typeof this.userDefined.beforeInit === 'function') {\n            this.userDefined.beforeInit.call(this);\n        }\n    }\n    init() {\n        if (typeof this.userDefined.init === 'function') {\n            this.userDefined.init.call(this);\n        }\n    }\n    afterInit() {\n        if (typeof this.userDefined.afterInit === 'function') {\n            this.userDefined.afterInit.call(this);\n        }\n    }\n    /**\n     * Lifecycle: Called before view is destroyed (gi nguyn tn t code gc)\n     */\n    beforeDestroy() {\n        if (typeof this.userDefined.beforeDestroy === 'function') {\n            this.userDefined.beforeDestroy.call(this);\n        }\n    }\n    /**\n     * Lifecycle: Called after view is destroyed (gi nguyn tn t code gc)\n     */\n    destroyed() {\n        if (typeof this.userDefined.destroyed === 'function') {\n            this.userDefined.destroyed.call(this);\n        }\n    }\n    /**\n     * Lifecycle: Called before view is mounted (gi nguyn tn t code gc)\n     */\n    beforeMount() {\n        if (typeof this.userDefined.beforeMount === 'function') {\n            this.userDefined.beforeMount.call(this);\n        }\n    }\n\n\n    /**\n     * Lifecycle: Called when view is mounted (gi nguyn tn t code gc)  \n     */\n    mounted() {\n        if (!this.isMounted) {\n            if (typeof this.userDefined.mounted === 'function') {\n                this.userDefined.mounted.call(this);\n            }\n\n            this.startEventListener();\n            this.isMounted = true;\n        }\n\n        if (this.originalView && this.originalView instanceof ViewEngine) {\n            this.originalView.onSuperViewMounted();\n        }\n        if (this.children && this.children.length > 0) {\n            this.children.forEach(child => {\n                if (child && child instanceof ViewEngine) {\n                    child.onParentMounted();\n                }\n            });\n        }\n        if (this.followingBlocks && this.followingBlocks.size > 0) {\n            this.followingBlocks.forEach(block => {\n                block.mounted();\n            });\n        }\n    }\n\n    /**\n     * Lifecycle: Called before view is unmounted (gi nguyn tn t code gc)\n     */\n    beforeUnmount() {\n        if (typeof this.userDefined.beforeUnmounted === 'function') {\n            this.userDefined.beforeUnmounted.call(this);\n        }\n    }\n\n    /**\n     * Lifecycle: Called when view is unmounted (gi nguyn tn t code gc)\n     */\n    unmounted() {\n        if (this.isMounted) {\n            if (typeof this.userDefined.unmounted === 'function') {\n                this.userDefined.unmounted.call(this);\n            }\n            this.stopEventListener();\n            this.isMounted = false;\n        }\n        if (this.originalView && this.originalView instanceof ViewEngine) {\n            this.originalView.onSuperViewUnmounted();\n        }\n        if (this.children && this.children.length > 0) {\n            this.children.forEach(child => {\n                if (child && child instanceof ViewEngine) {\n                    child.onParentUnmounted();\n                }\n            });\n        }\n        if (this.followingBlocks && this.followingBlocks.size > 0) {\n            this.followingBlocks.forEach(block => {\n                block.unmounted();\n            });\n        }\n    }\n\n\n    /**\n     * Lifecycle: Called when view is destroyed (gi nguyn tn t code gc)\n     */\n    destroy() {\n        // Mark as destroyed to prevent processing after destroy\n        this.isDestroyed = true;\n\n        // Reset pending flag to prevent processing after destroy\n        this._stateChangePending = false;\n\n        // Clear state change collections\n        if (this.changedStateKeys) {\n            this.changedStateKeys.clear();\n        }\n        this.changeStateQueueCount = 0;\n\n        this.unmounted();\n        if (this.originalView && this.originalView instanceof ViewEngine) {\n            this.originalView.destroy();\n        }\n        if (this.children && this.children.length > 0) {\n            this.children.forEach(child => child.destroy());\n        }\n        if (this.followingBlocks && this.followingBlocks.size > 0) {\n            this.followingBlocks.forEach(block => block.destroy());\n            this.followingBlocks.clear();\n        }\n        if (this.refElements && this.refElements.length > 0) {\n            this.refElements.forEach(element => element.parentNode && element.parentNode.removeChild(element));\n            this.refElements = [];\n        }\n    }\n\n    refresh() {\n        this.isRefreshing = true;\n        // TH1: c super view\n        if (this.parent && this.parent instanceof ViewEngine) {\n            this.parent.refresh();\n        }\n        // TH2: nu l super view\n        // TH3: nu l page view\n        // TH4: nu l child view\n    }\n    /**\n     * Lifecycle: Called when super view is mounted (gi nguyn tn t code gc)\n     */\n    onSuperViewMounted() {\n        this.mounted();\n    }\n\n    /**\n     * Lifecycle: Called when super view is unmounted (gi nguyn tn t code gc)\n     */\n    onSuperViewUnmounted() {\n\n    }\n\n    /**\n     * Lifecycle: Called when parent view is mounted (gi nguyn tn t code gc)\n     */\n    onParentMounted() {\n        this.mounted();\n    }\n    /**\n     * Lifecycle: Called when parent view is unmounted (gi nguyn tn t code gc)\n     */\n    onParentUnmounted() {\n        // Placeholder for when parent view is unmounted\n    }\n\n\n\n    /**\n     * Hm parse string HTML thnh DOM, thm thuc tnh x-ref-view cho cc phn t con level 0, tr v string HTML mi.\n     * @param {string} htmlString - Chui HTML u vo\n     * @param {string|number} id - Gi tr cho thuc tnh x-ref-view\n     * @returns {string} Chui HTML  thm thuc tnh x-ref-view cho cc phn t level 0\n     */\n    addXRefViewToRootElements(htmlString) {\n        // To mt container o  parse HTML\n        const container = document.createElement('div');\n        container.innerHTML = htmlString;\n\n        // Lp qua cc phn t con trc tip (level 0)\n        Array.from(container.children).forEach(child => {\n            child.setAttribute('x-ref-view', this.id);\n        });\n\n        // Tr v HTML  c thm thuc tnh\n        return container.innerHTML;\n    }\n\n    /**\n     * Check if string is HTML\n     * @param {string} str - String to check\n     * @returns {boolean} True if HTML string\n     * @private\n     */\n    isHtmlString(str) {\n        return /<[a-z][\\s\\S]*>/i.test(str);\n    }\n\n\n\n    renderPlaceholder() {\n        return `<div class=\"${ATTR.className('placeholder')}\" ${ATTR.KEYS.VIEW_ID}=\"${this.id}\"></div>`;\n    }\n\n    showError(error) {\n        if (this.isSuperView) {\n            return `<div class=\"${ATTR.className('ERROR_VIEW')}\">${error}</div>`;\n        }\n        else if (this.hasSuperView) {\n            if (this.renderLongSections.length > 0) {\n                return this.renderLongSections.map(section => {\n                    return this.App.View.section(section, `<div class=\"${ATTR.className('section-error')}\" ${ATTR.KEYS.VIEW_SECTION_REF}=\"${this.id}\">${error}</div>`, 'html');\n                }).join('');\n            }\n            else {\n                return `<div class=\"${ATTR.className('ERROR_VIEW')}\" ${ATTR.KEYS.VIEW_ID}=\"${this.id}\">${error}</div>`;\n            }\n        }\n        else {\n            if (this.renderLongSections.length > 0) {\n                return this.renderLongSections.map(section => {\n                    return this.App.View.section(section, `<div class=\"${ATTR.className('section-error')}\" ${ATTR.KEYS.VIEW_SECTION_REF}=\"${this.id}\">${error}</div>`, 'html');\n                }).join('');\n            }\n            return `<div class=\"${ATTR.className('ERROR_VIEW')}\" ${ATTR.KEYS.VIEW_ID}=\"${this.id}\">${error}</div>`;\n        }\n    }\n\n    showErrorScan(error) {\n        return null;\n    }\n\n\n    resetOriginalView() {\n        if (this.originalView && this.originalView instanceof ViewEngine) {\n            this.originalView.destroy();\n        }\n    }\n\n    ejectOriginalView() {\n        if (this.originalView && this.originalView instanceof ViewEngine) {\n            this.originalView = null;\n            this.originalViewId = null;\n            this.originalViewPath = null;\n        }\n    }\n\n    /**\n     * Remove this view and all children\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    remove() {\n        this.master?.removeChild(this);\n        this.children.forEach(child => child.remove());\n        this.master = null;\n        this.children = [];\n        return this;\n    }\n\n    /**\n     * Insert resources into DOM\n     */\n    insertResources() {\n        this.resources.forEach(resource => {\n            if (document.querySelector(`[data-resource-uuid=\"${resource.uuid}\"]`)) {\n                return;\n            }\n            const element = document.createElement(resource.tag);\n            Object.entries(resource.attrs).forEach(([key, value]) => {\n                element.setAttribute(key, value);\n            });\n            element.setAttribute('data-resource-uuid', resource.uuid);\n            if (resource.tag === 'script') {\n                document.body.appendChild(element);\n            }\n            else if (resource.tag === 'link') {\n                document.head.appendChild(element);\n            }\n            else if (resource.tag === 'style') {\n                document.head.appendChild(element);\n            }\n            document.head.appendChild(element);\n        });\n    }\n\n    /**\n     * Remove resources from DOM\n     */\n    removeResources() {\n        this.resources.forEach(resource => {\n            const element = document.querySelector(`[data-resource-uuid=\"${resource.uuid}\"]`);\n            if (element) {\n                element.remove();\n            }\n        });\n    }\n\n\n    __showError(error) {\n        logger.error(`ViewEngine Error [${this.path}]: ${error}`);\n        return this.showError(error);\n    }\n\n\n\n    /**\n     * \n     * @param {string} name tn ca section\n     * @param {string} content ni dung ca section\n     * @param {string} type loi ca section\n     * @returns {string} kt qu ca vic render section\n     * @example\n     * <AppViewEngine>.section(\"section.name\", \"<div>Content</div>\", \"html\");\n     */\n    __section(name, content, type) {\n        this.cachedSections[name] = content;\n        // Nu l virtual rendering th khng render section\n        if(this.isVirtualRendering){\n            return null;\n        }\n        return this.App.View.section(name, content, type);\n    }\n\n    /**\n     * \n     * @param {string} name tn ca section\n     * @param {string} defaultValue gi tr mc nh ca section\n     * @returns {string} kt qu ca vic render section\n     * @example\n     * <AppViewEngine>.yield(\"section.name\", \"Default Content\");\n     */\n    __yield(name, defaultValue = '') {\n        return this.App.View.yield(name, defaultValue);\n    }\n\n    __yieldContent(name, defaultValue = '') {\n        return this.App.View.yieldContent(name, defaultValue);\n    }\n\n\n\n    /**\n     * \n     * @param {...any} args cc tham s ca hm execute\n     * @returns {string} kt qu ca vic execute\n     * @example\n     * <AppViewEngine>.execute(\"console.log('Hello, world!');\");\n     */\n    __execute(...args) {\n        return this.App.View.execute(...args);\n    }\n\n    __subscribe(...args) {\n        // return this.subscribe(...args);\n    }\n\n\n    __text(...args) {\n        return this.App.View.text(...args);\n    }\n\n    /**\n     * __ methods \n     */\n\n    /**\n     * \n     * @param {string[]} stateKeys danh sch cc state keys\n     * @param {() => string} renderBlock hm render block\n     * @returns {string} kt qu ca vic render block\n     * @example\n     * <AppViewEngine>.follow([\"userState\"], () => {\n     *     return `<div>User State: ${userState}</div>`;\n     * });\n     * // returns '<div>User State: 1</div>'\n     */\n    __follow(stateKeys = [], renderBlock = () => '') {\n        if(this.isVirtualRendering){\n            return this.renderFollowingBlockScan(stateKeys, renderBlock);\n        }\n        return this.renderFollowingBlock(stateKeys, renderBlock);\n    }\n\n\n\n    /**\n     * \n     * @param {string} name tn ca block\n     * @param {Object} attributes thuc tnh ca block\n     * @param {string} content ni dung ca block\n     * @returns {string} kt qu ca vic render block\n     * @example\n     * <AppViewEngine>.block(\"name\", { \"class\": \"class-name\" }, \"<div>Content</div>\");\n     */\n    __block(name, attributes = {}, content) {\n        return this.addBlock(name, attributes, content);\n    }\n\n    /**\n     * \n     * @param {string} path ng dn ca view\n     * @param {Object} data d liu ca view\n     * @returns {string} kt qu ca vic render view\n     * @example\n     * <AppViewEngine>.include(\"path.to.view\", { \"data\": \"value\" });\n     */\n    __include(path, data = {}) {\n        // Nu l virtual rendering th tm child config t server data\n        if (this.isVirtualRendering) {\n            const childParams = this.childrenConfig[this.childrenIndex];\n            if (!(childParams && childParams.name === path)) {\n                return null;\n            }\n            this.childrenIndex++;\n            const childConfig = this.App.View.ssrViewManager.getInstance(childParams.name, childParams.id);\n            if (!childConfig) {\n                return null;\n            }\n            const childData = { ...data, ...childConfig.data, __SSR_VIEW_ID__: childParams.id };\n            const child = this.$include(childParams.name, childData);\n            if (!child) {\n                return null;\n            }\n            child.__scan(childConfig);\n            return child;\n        }\n        // Nu khng phi virtual rendering th gi $include\n        return this.$include(path, data);\n\n    }\n\n    __includeif(path, data = {}) {\n        if (!this.App.View.exists(path)) {\n            return null;\n        }\n        return this.__include(path, data);\n    }\n\n    __includewhen(condition, path, data = {}) {\n        if (!condition) {\n            return null;\n        }\n        return this.__include(path, data);\n    }\n\n\n    __extends(name, data = {}) {\n        // Nu l virtual rendering th tm super view t server data\n        if(this.isVirtualRendering){\n            if (!this.App.View.exists(name)) {\n                return null;\n            }\n            let superViewConfig = null;\n            let superViewOfChildren = this.childrenConfig.find((child, index) => child.name === name && index == this.childrenConfig.length - 1);\n            if (superViewOfChildren) {\n                superViewConfig = this.App.View.ssrViewManager.getInstance(superViewOfChildren.name, superViewOfChildren.id);\n            } else {\n                superViewConfig = this.App.View.ssrViewManager.scan(name);\n            }\n            if (!superViewConfig) {\n                return null;\n            }\n            const superViewData = { ...data, ...superViewConfig.data, __SSR_VIEW_ID__: superViewConfig.viewId };\n            const superView = this.$extends(name, superViewData);\n            if (!superView) {\n                return null;\n            }\n            superView.__scan(superViewConfig);\n            return superView;\n        }\n        return this.$extends(name, data);\n    }\n\n\n    __setLoopContext(length) {\n        let parent = this.loopContext;\n        this.loopContext = new LoopContext(parent);\n        this.loopContext.setCount(length);\n        return this.loopContext;\n    }\n\n    __resetLoopContext() {\n        if (this.loopContext && this.loopContext.parent) {\n            let parent = this.loopContext.parent;\n            this.loopContext.parent = null;\n            Object.freeze(this.loopContext);\n            this.loopContext = parent;\n        } else if (this.loopContext) {\n            Object.freeze(this.loopContext);\n            this.loopContext = null;\n        } else {\n            this.loopContext = null;\n        }\n        return this.loopContext;\n    }\n\n    /**\n     * Lp qua danh sch hoc i tng v gi callback cho mi phn t hoc key\n     * @param {Array|Object} list danh sch cn lp hoc i tng cn lp\n     * @param {function(item: any, defaultKeyName: string, index: number, loopContext: LoopContext): string} callback hm callback  x l mi phn t hoc key ca i tng\n     * @returns {string} kt qu ca vic lp\n     * @example\n     * <AppViewEngine>.foreach([1, 2, 3], (item, defaultKeyName, index, loopContext) => {\n     *     return `<div>${defaultKeyName}: ${item}</div>`;\n     * });\n     * // returns '<div>1</div><div>2</div><div>3</div>'\n     * <AppViewEngine>.foreach({a: 1, b: 2, c: 3}, (value, key, index, loopContext) => {\n     *     return `<div>${key}: ${value}</div>`;\n     * });\n     */\n    __foreach(list, callback) {\n        if (!list) {\n            return '';\n        }\n        if (!(list && typeof list === 'object' && !Array.isArray(list))) {\n            return '';\n        }\n        let result = '';\n        if (Array.isArray(list)) {\n            let loopContext = this.__setupLoopContext(list);\n            loopContext.setType('increment');\n            list.forEach((item, index) => {\n                loopContext.setCurrentTimes(index);\n                result += callback(item, index, index, loopContext);\n            });\n            this.__resetLoopContext();\n        } else {\n            let count = Object.keys(list).length;\n            let loopContext = this.__setupLoopContext(count);\n            loopContext.setType('increment');\n            let index = 0;\n            Object.entries(list).forEach(([key, value]) => {\n                loopContext.setCurrentTimes(index);\n                result += callback(value, key, index, loopContext);\n                index = index + 1;\n            });\n            this.__resetLoopContext();\n        }\n        return result;\n    }\n\n\n    /**\n     * Scan and hydrate server-rendered view\n     * This method:\n     * 1. Finds DOM elements for this view\n     * 2. Attaches event handlers from server data\n     * 3. Sets up state subscriptions\n     * 4. Stores children and following block references\n     *\n     * @param {Object} config - Server-side view configuration\n     * @param {string} config.viewId - View instance ID\n     * @param {Object} config.data - View data from server\n     * @param {Object} config.events - Event handlers to attach\n     * @param {Array} config.following - Following blocks to setup\n     * @param {Array} config.children - Child views to scan\n     * @param {Object} config.parent - Parent view reference\n     */\n    __scan(config) {\n        if (this.isScanned) {\n            return;\n        }\n        // this.isScanned = true;\n        this.isScanning = true;\n        const { viewId, data, events, following, children, parent } = config;\n        if (data && typeof data === 'object') {\n            // this.data = { ...this.data, ...data };\n            this.updateVariableData(data);\n        }\n\n\n        if (typeof viewId !== 'string' || viewId === '') {\n            logger.warn(' ViewEngine.__scan: Invalid viewId', viewId);\n            return null;\n        }\n\n        logger.log(` ViewEngine.__scan: Scanning view ${this.path} (${viewId})`);\n\n        // ========================================================================\n        // STEP 1: Find DOM Elements\n        // ========================================================================\n\n        this.__scanDOMElements(viewId);\n\n        // ========================================================================\n        // STEP 2: Attach Event Handlers\n        // ========================================================================\n\n        // if (events && typeof events === 'object') {\n        //     this.__attachEventHandlers(events, viewId);\n\n        // }\n\n        // ========================================================================\n        // STEP 3: Setup State Subscriptions (Following Blocks)\n        // ========================================================================\n\n        if (following && following.length > 0) {\n            this.__setupFollowingBlocks(following, viewId);\n        }\n\n        // ========================================================================\n        // STEP 4: Store Children References\n        // ========================================================================\n\n        if (children && children.length > 0) {\n            this.__storeChildrenReferences(children);\n        }\n\n        // ========================================================================\n        // STEP 5: Store Parent Reference\n        // ========================================================================\n\n        // if (parent) {\n        //     this.parentView = parent;\n        // }\n\n        logger.log(` ViewEngine.__scan: Scan complete for ${this.path} (${viewId})`);\n        // this.isScanning = false;\n        this.isScanned = true;\n    }\n\n    /**\n     * Find and store DOM elements for this view\n     * @private\n     * @param {string} viewId - View instance ID\n     */\n    __scanDOMElements(viewId) {\n        if (this.hasSuperView) {\n            logger.log(` ViewEngine.__scanDOMElements: Skipping element scan for ${this.path} (${viewId}) due to super view`);\n            return;\n        }\n        if (this.wrapperConfig.enable) {\n            if (this.wrapperConfig.tag) {\n                // Custom wrapper tag\n                let elements = document.querySelectorAll(\n                    `${this.wrapperConfig.tag}[data-wrap-view=\"${this.path}\"][${ATTR.KEYS.VIEW_WRAPPER}=\"${viewId}\"]`\n                );\n                if (elements.length > 0) {\n                    this.refElements = Array.from(elements).map((el) => {\n                        el.setAttribute('x-ref-view', viewId);\n                        return el;\n                    });\n                    logger.log(` ViewEngine.__scanDOMElements: Found ${elements.length} custom wrapper elements`);\n                }\n            } else {\n                // Use OneMarkup to find view boundary\n                const markup = OneMarkup.first('view', { name: this.path, id: viewId });\n                if (markup) {\n                    this.markup = markup;\n                    this.refElements = markup.nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n                    logger.log(` ViewEngine.__scanDOMElements: Found view boundary with ${this.refElements.length} elements`);\n                }\n            }\n        } else {\n            // Standard view wrapper\n            let elements = document.querySelectorAll(`[data-view-wrapper=\"${viewId}\"]`);\n            if (elements.length > 0) {\n                this.refElements = Array.from(elements).map((el) => {\n                    el.setAttribute('x-ref-view', viewId);\n                    return el;\n                });\n                logger.log(` ViewEngine.__scanDOMElements: Found ${elements.length} standard wrapper elements`);\n            }\n        }\n\n        if (!this.refElements || this.refElements.length === 0) {\n            logger.warn(` ViewEngine.__scanDOMElements: No elements found for ${this.path} (${viewId})`);\n        }\n    }\n\n    /**\n     * Attach event handlers to DOM elements from server data\n     * @private\n     * @param {Object} events - Event map from server\n     * @param {string} viewId - View instance ID\n     */\n    __attachEventHandlers(events, viewId) {\n        let attachedCount = 0;\n        this.events = events;\n        return;\n\n        logger.log(` ViewEngine.__attachEventHandlers: Attached ${attachedCount} event handlers`);\n    }\n\n    /**\n     * Setup following blocks for reactive state updates\n     * @private\n     * @param {Array} following - Following block configurations\n     * @param {string} viewId - View instance ID\n     */\n    __setupFollowingBlocks(following, viewId) {\n        following.forEach(followConfig => {\n            const { id, stateKeys } = followConfig;\n\n            // Store config\n            this.followingConfig.push({\n                id,\n                stateKeys,\n            });\n            return;\n        });\n\n    }\n\n\n    /**\n     * Store children view references for hydration\n     * @private\n     * @param {Array} children - Child view configurations\n     */\n    __storeChildrenReferences(children) {\n        children.forEach(child => {\n            const { name, id } = child;\n            this.childrenConfig.push({\n                name,\n                id,\n            });\n        });\n\n        // logger.log(` ViewEngine.__storeChildrenReferences: Stored ${children.length} children references`);\n    }\n\n\n\n    $extends(path, data = {}) {\n        const originData = this.data ? this.data : {};\n        if (originData.__SSR_VIEW_ID__) {\n            originData.__SSR_VIEW_ID__ = null;\n            delete originData.__SSR_VIEW_ID__;\n        }\n        const viewInstance = this.App.View.extendView(path, { ...originData, ...data });\n        if (!viewInstance) {\n            return null;\n        }\n        this.superViewPath = path;\n        this.setSuperView(viewInstance);\n        viewInstance.setOriginalView(this);\n        return viewInstance;\n    }\n\n\n\n    $include(path, data = {}) {\n        const parentData = this.data ? this.data : {};\n        if (parentData.__SSR_VIEW_ID__) {\n            parentData.__SSR_VIEW_ID__ = null;\n            delete parentData.__SSR_VIEW_ID__;\n        }\n        const viewInstance = this.App.View.include(path, { ...parentData, ...data });\n        if (!viewInstance) {\n            return null;\n        }\n        viewInstance.setParent(this);\n        this.addChild(viewInstance, data);\n        return viewInstance;\n    }\n\n\n    /**\n     * Add event stack for specific event type and ID\n     * @param {string} eventType - Type of event\n     * @param {Array} handlers - Array of handler objects\n     * @returns {string} Event attribute string\n     */\n    addEventStack(eventType, handlers) {\n        if (typeof eventID !== 'string' || eventID === '') {\n            return;\n        }\n        if (typeof handlers !== 'object' || handlers === null) {\n            return;\n        }\n        let eventIndex = this.eventIndex++;\n        let eventID = this.viewId + '-' + eventType + '-' + eventIndex;\n        if (typeof this.events[eventType] === 'undefined') {\n            this.events[eventType] = {};\n        }\n        if (typeof this.events[eventType][eventID] === 'undefined') {\n            this.events[eventType][eventID] = []\n        }\n        this.events[eventType][eventID].push(...handlers);\n\n        return ` data-${eventType}-id=\"${eventID}\"`;\n    }\n\n\n    __addEventConfig(eventType, handlers) {\n        return this.addEventConfig(eventType, handlers);\n    }\n\n    /**\n     * Set event configuration for view engine\n     * @param {Object} events - Event configuration object\n     */\n    setEventConfig(events) {\n        if (typeof events !== 'object' || events === null) {\n            return;\n        }\n        Object.entries(events).forEach((eventType, eventObjectList) => {\n            if (typeof eventObjectList !== 'object' || eventObjectList === null) {\n                return;\n            }\n            Object.entries(eventObjectList).forEach((eventID, handlers) => {\n                this.addEventStack(eventType, eventID, handlers);\n            });\n        });\n    }\n\n    startEventListener() {\n        const needDeleted = [];\n        Object.entries(this.events).forEach(([eventType, eventMap]) => {\n            Object.entries(eventMap).forEach(([eventID, handlers]) => {\n                const selector = `[data-${eventType}-id=\"${eventID}\"]`;\n                const elements = document.querySelectorAll(selector);\n                const parsedHandlers = this.parseEventHandlerFunctions(handlers);\n                if (parsedHandlers.length !== 0 && elements.length > 0) {\n                    elements.forEach(element => {\n                        const handler = (event) => {\n                            let returnValue = null;\n                            for (let i = 0; i < parsedHandlers.length; i++) {\n                                const handlerFn = parsedHandlers[i];\n                                returnValue = handlerFn(event);\n                                if (returnValue === false || event.defaultPrevented) {\n                                    event.preventDefault();\n                                    event.stopPropagation();\n                                    break;\n                                }\n                            }\n                            if (returnValue === false || returnValue === true) {\n                                return returnValue;\n                            }\n                        }\n                        element.addEventListener(eventType, handler);\n                        this.eventListeners.push({ element, eventType, handler });\n                    });\n                } else {\n                    logger.warn(` ViewEngine.startEventListener: No elements found for selector ${selector} or no handlers defined`);\n                    needDeleted.push({ eventType, eventID });\n                }\n            });\n        });\n        needDeleted.forEach(({ eventType, eventID }) => {\n            delete this.events[eventType][eventID];\n            // If no more event handlers for this eventType, remove the entire eventType\n            if (Object.keys(this.events[eventType]).length === 0) {\n                delete this.events[eventType];\n            }\n        });\n        this.eventListenerStatus = true;\n    }\n\n    stopEventListener() {\n        this.eventListeners.forEach(({ element, eventType, handler }) => {\n            element.removeEventListener(eventType, handler);\n        });\n        this.eventListeners = [];\n        this.eventListenerStatus = false;\n    }\n\n    /**\n     * Clear all event data when elements are not found\n     * This helps prevent memory leaks from orphaned event handlers\n     */\n    clearOrphanedEventData() {\n        const needDeleted = [];\n        Object.entries(this.events).forEach(([eventType, eventMap]) => {\n            Object.entries(eventMap).forEach(([eventID, handlers]) => {\n                const selector = `[data-${eventType}-id=\"${eventID}\"]`;\n                const elements = document.querySelectorAll(selector);\n                if (elements.length === 0) {\n                    needDeleted.push({ eventType, eventID });\n                }\n            });\n        });\n\n        needDeleted.forEach(({ eventType, eventID }) => {\n            delete this.events[eventType][eventID];\n            // If no more event handlers for this eventType, remove the entire eventType\n            if (Object.keys(this.events[eventType]).length === 0) {\n                delete this.events[eventType];\n            }\n        });\n\n        if (needDeleted.length > 0) {\n            logger.log(` ViewEngine.clearOrphanedEventData: Cleaned up ${needDeleted.length} orphaned event handlers`);\n        }\n    }\n\n\n    parseEventHandlerFunctions(handlers) {\n        let parsedHandlers = [];\n        handlers.forEach(handlerObj => {\n            const handlerName = handlerObj.handler;\n            const params = handlerObj.params || [];\n            const func = this.parseHandlerFunction(handlerName);\n            const fn = (event) => func(...this.parseEventHandlerParams(event, params));\n            parsedHandlers.push(fn);\n        });\n        return parsedHandlers;\n    }\n\n    parseHandlerFunction(funcName) {\n        if(!(typeof funcName === 'string' || typeof funcName === 'function')) {\n            return null;\n        }\n        if (typeof funcName === 'function') {\n            if(typeof funcName.bind === 'function') {\n                return funcName.bind(this);\n            }\n            return funcName;\n        }\n        // nu l function trong userDefined th ly thng tin hm \n        if (typeof this.userDefined[funcName] === 'function') {\n            let func = this.userDefined[funcName];\n            if(typeof func.bind === 'function') {\n                func = func.bind(this);\n            }\n            return func;\n        }\n        // nu l function trong this th ly thng tin hm \n        if (typeof this[funcName] === 'function') {\n            let func = this[funcName];\n            if(typeof func.bind === 'function') {\n                func = func.bind(this);\n            }\n            return func;\n        }\n        // nu l function trong states.__setters__ th ly thng tin hm \n        if (typeof this.states.__setters__[funcName] === 'function') {\n            let func = this.states.__setters__[funcName];\n            if(typeof func.bind === 'function') {\n                func = func.bind(this);\n            }\n            return func;\n        }\n        // nu l function trong window th ly thng tin hm \n        if (window && typeof window[funcName] === 'function') {\n            let func = window[funcName];\n            if(typeof func.bind === 'function') {\n                func = func.bind(window);\n            }\n            return func;\n        }\n        return (event) => logger.warn(` Event handler ${funcName} is not defined`, event);\n    }\n\n    parseEventHandlerParams(event, params = []) {\n        return params.map(param => {\n            if (param === '@EVENT') {\n                return event;\n            }\n            else if (typeof param === 'object' && param !== null) {\n                if (typeof param.handler === 'string' && (Array.isArray(param.params) || (typeof param.params == 'object' && param.params !== null && param.params.constructor === Array))) {\n                    const func = this.parseHandlerFunction(param.handler);\n                    return func(...this.parseEventHandlerParams(event, param.params));\n                }\n                return this.parseEventHandlerObject(event, param);\n            }\n            else if (Array.isArray(param) || (typeof param === 'object' && param !== null && param.constructor === Array)) {\n                return this.parseEventHandlerParams(event, param);\n            }\n            else if (typeof param === 'function') {\n                return param(event);\n            }\n            return param;\n        });\n    }\n\n    parseEventHandlerObject(event, object = {}) {\n        let parsedObject = {};\n        Object.entries(object).forEach(([key, value]) => {\n            if (value === '@EVENT') {\n                parsedObject[key] = event;\n            }\n            else if (typeof value === 'object' && value !== null) {\n                if (typeof value.handler === 'string' && (Array.isArray(value.params) || (typeof value.params == 'object' && value.params !== null && value.params.constructor === Array))) {\n                    const func = this.parseHandlerFunction(value.handler);\n                    parsedObject[key] = func(...this.parseEventHandlerParams(event, value.params));\n                }\n                else {\n                    parsedObject[key] = this.parseEventHandlerObject(event, value);\n                }\n            }\n            else if (Array.isArray(value) || (typeof value === 'object' && value !== null && value.constructor === Array)) {\n                parsedObject[key] = this.parseEventHandlerParams(event, value);\n            }\n            else if (typeof value === 'function') {\n                parsedObject[key] = value(event);\n            }\n            else {\n                parsedObject[key] = value;\n            }\n        });\n        return parsedObject;\n    }\n\n\n\n\n\n    wrapattr() {\n        return ` ${ATTR.KEYS.VIEW_WRAPPER}=\"${this.id}\"`;\n    }\n\n    startWrapper(tag = null, attributes = {}) {\n        this.wrapTag = null;\n        if (typeof tag === 'string') {\n            this.wrapTag = tag;\n        }\n        else if (typeof tag === 'object') {\n            this.wrapTag = tag.tag || 'div';\n            delete tag.tag;\n            attributes = { ...attributes, ...tag.attributes };\n            tag = null;\n        }\n        if (typeof attributes === 'string' || !attributes) {\n            attributes = {};\n        }\n        if (this.wrapTag) {\n            return `<${this.wrapTag} data-wrap-view=\"${this.path}\" data-wrap-id=\"${this.id}\" ${Object.entries(attributes).map(([key, value]) => `${key}=\"${value}\"`).join(' ')}>`;\n        }\n        return `<!-- [one:view name=\"${this.path}\" id=\"${this.id}\"] -->`;\n\n    }\n    endWrapper() {\n        if (this.wrapTag) {\n            this.wrapTag = null;\n            return `</${this.wrapTag}>`;\n        }\n        this.wrapTag = null;\n        return `<!-- [/one:view] -->`;\n    }\n\n    addBlock(name, attributes = {}, content) {\n        if (typeof name !== 'string' || name === '') {\n            return;\n        }\n        if(this.isVirtualRendering){\n            return this.App.View.section(\"block.\" + name, `<!-- [one:block name=\"${this.path}\" ref=\"${this.id}\"] -->${content}<!-- [/one:block] -->`, 'html');\n        }\n        return this.App.View.section(\"block.\" + name, `<!-- [one:block name=\"${this.path}\" ref=\"${this.id}\"] -->${content}<!-- [/one:block] -->`, 'html');\n    }\n\n    useBlock(name, defaultValue = '') {\n        if (typeof name !== 'string' || name === '') {\n            return;\n        }\n        if(this.isVirtualRendering){\n            return `<!-- [one:subscribe type=\"block\" key=\"${name}\"] -->${this.App.View.yield(\"block.\" + name, defaultValue)}<!-- [/one:subscribe] -->`;\n        }\n        return `<!-- [one:subscribe type=\"block\" key=\"${name}\"] -->${this.App.View.yield(\"block.\" + name, defaultValue)}<!-- [/one:subscribe] -->`;\n    }\n\n\n    mountBlock(name, defaultValue = '') {\n        return this.useBlock(name, defaultValue);\n    }\n\n    subscribeBlock(name, defaultValue = '') {\n        return \" data-subscribe-block=\\\"\" + name + \"\\\"\";\n    }\n\n    renderFollowingBlock(stateKeys = [], renderBlock = () => '') {\n        if (!Array.isArray(stateKeys) || stateKeys.length === 0) {\n            return '';\n        }\n\n        if (typeof renderBlock !== 'function') {\n            return '';\n        }\n        if (this.isVirtualRendering) {\n            this.isVirtualRendering = false;\n            let result = this.renderFollowingBlockScan(stateKeys, renderBlock);\n            this.isVirtualRendering = true;\n            return result;\n        }\n        const followBlock = new FollowingBlock({ stateKeys, renderBlock, engine: this, states: this.states, App: this.App });\n        // this.followingBlocks.push(followBlock);\n        this.followingIDs.push(followBlock.id);\n        this.followingBlocks.set(followBlock.id, followBlock);\n        const result = followBlock.render();\n        return result;\n    }\n\n    renderFollowingBlockScan(stateKeys = [], renderBlock = () => '') {\n        let followingIndex = this.followingScanIndex;\n        let followingConfig = this.followingConfig[followingIndex];\n        if (!(followingConfig || (followingConfig.stateKeys == stateKeys) || (followingConfig.stateKeys.length == stateKeys.length && followingConfig.stateKeys.every(value => stateKeys.includes(value))))) {\n            return '';\n        }\n        const { id: renderID } = followingConfig;\n        const followBlock = new FollowingBlock({ renderID, stateKeys, renderBlock, engine: this, states: this.states, App: this.App });\n        followBlock.scan();\n        // this.followingBlocks.push(followBlock);\n        this.followingIDs.push(followBlock.id);\n        this.followingBlocks.set(followBlock.id, followBlock);\n        this.followingScanIndex++;\n        return ``;\n    }\n\n\n    onFollowUpdating() {\n        this.stopEventListener();\n        setTimeout(() => {\n            if (!this.eventListenerStatus) {\n                this.startEventListener();\n            }\n        }, 10);\n    }\n\n    onFollowUpdated() {\n        if (!this.eventListenerStatus) {\n            this.startEventListener();\n        }\n    }\n\n    onStateChange(key, value, oldValue) {\n        // Use Set to automatically handle duplicates\n        this.changedStateKeys.add(key);\n\n        // Increment queue count (for tracking/statistics if needed)\n        this.changeStateQueueCount++;\n\n        // Schedule batch processing using Promise for async execution\n        // Promise.resolve().then() runs in microtask queue, faster than setTimeout\n        // and works even when tab is hidden (unlike requestAnimationFrame)\n        // The _stateChangePending flag ensures only one Promise is scheduled at a time\n        // All subsequent changes will be batched into the Set\n        if (!this._stateChangePending) {\n            this._stateChangePending = true;\n\n            // Use Promise.resolve().then() for microtask queue (fastest, works in background)\n            Promise.resolve().then(() => {\n                // Clear pending flag before processing\n                this._stateChangePending = false;\n                this._processStateChanges();\n            });\n        }\n    }\n\n    /**\n     * Process batched state changes efficiently\n     * @private\n     */\n    _processStateChanges() {\n        // Skip if view is destroyed\n        if (this.isDestroyed) {\n            return;\n        }\n\n        // Get all changed keys as array for processing\n        const changedKeys = Array.from(this.changedStateKeys);\n\n        // Reset collections\n        this.changedStateKeys.clear();\n        this.changeStateQueueCount = 0;\n\n        // If no keys changed, skip processing\n        if (changedKeys.length === 0) {\n            return;\n        }\n\n        // Process state changes - trigger view updates\n        // Already in microtask queue (from Promise.resolve().then()), so execute directly\n        this._notifyStateChanges(changedKeys);\n    }\n\n    /**\n     * Notify views about state changes\n     * @param {Array<string>} changedKeys - Array of changed state keys\n     * @private\n     */\n    _notifyStateChanges(changedKeys) {\n        // Trigger refresh for views that subscribe to these keys\n        // This will be called after all synchronous operations complete\n        if (this.isRefreshing) {\n            return; // Prevent recursive refresh\n        }\n\n        // Check if this view subscribes to any of the changed keys\n        if (this.subscribe && Array.isArray(this.subscribe) && this.subscribe.length > 0) {\n            const shouldRefresh = changedKeys.some(key => this.subscribe.includes(key));\n            if (shouldRefresh) {\n                this.refresh();\n            }\n        }\n\n        // Notify children that subscribe to changed keys\n        if (this.children && this.children.length > 0) {\n            this.children.forEach(childScope => {\n                if (childScope.subscribe && Array.isArray(childScope.subscribe)) {\n                    const shouldRefresh = changedKeys.some(key => childScope.subscribe.includes(key));\n                    if (shouldRefresh && childScope.view) {\n                        childScope.view._notifyStateChanges(changedKeys);\n                    }\n                }\n            });\n        }\n    }\n\n    onStateDataChanges() {\n        const data = this.stateChangeData;\n        this.stateChangeData = null;\n    }\n\n    /**\n     * Set App instance\n     * @param {Object} app - App instance\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    setApp(app) {\n        this.App = app;\n        return this;\n    }\n\n    setUrlPath(urlPath) {\n        this.urlPath = urlPath;\n        return this;\n    }\n    /**\n     * Set super view\n     * @param {AppViewEngine} superView - Super view instance\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    setSuperView(superView) {\n        this.superView = superView;\n        return this;\n    }\n\n    /**\n     * Set parent view\n     * @param {AppViewEngine} parent - Parent view instance\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    setParent(parent) {\n        this.parent = parent;\n        return this;\n    }\n\n\n    setOriginalView(originalView) {\n        this.originalView = originalView;\n        this.originalViewPath = originalView.path;\n        this.originalViewId = originalView.id;\n        return this;\n    }\n\n    /**\n     * Add child view\n     * @param {ViewEngine} child - Child view to add\n     * @param {Object} data - Data to add to the child view\n     * @returns {ViewEngine} This instance for chaining\n     */\n    addChild(child, data = {}) {\n        let index = this.children.length;\n        let scope = {\n            name: child.path,\n            id: child.id,\n            index,\n            view: child,\n            data,\n            subscribe: [],\n        }\n        child.setScope(scope);\n        this.children.push(scope);\n        return this;\n    }\n\n\n    /**\n     * Remove child view\n     * @param {AppViewEngine} child - Child view to remove\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    removeChild(child) {\n        this.children = this.children.filter(c => c !== child);\n        return this;\n    }\n\n    /**\n     * Update data\n     * @param {Object} __data - New data to merge\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    updateData(__data = {}) {\n        this.data = { ...this.data, ...__data };\n        // this.states.__reset();\n\n        return this;\n    }\n\n    updateVariableData(data = {}) {\n        if (typeof this.config.updateVariableData === 'function') {\n            this.config.updateVariableData.call(this, data);\n            this.isCommitedConstructorData = true;\n        }\n\n        return this;\n    }\n\n    updateVariableItem(key, value) {\n        if (typeof this.config.updateVariableItemData === 'function') {\n            this.config.updateVariableItemData.call(this, key, value);\n        }\n        return this;\n    }\n\n    /**\n     * Set isSuperView flag\n     * @param {boolean} isSuperView - Super view flag\n     * @returns {AppViewEngine} This instance for chaining\n     */\n    setIsSuperView(isSuperView) {\n        this.isSuperView = isSuperView;\n        return this;\n    }\n\n    /** Events */\n\n\n    /**\n     * Reset view engine\n     */\n    reset() {\n        // Implementation placeholder\n    }\n\n}","/**\n * router Module\n * ES6 Module for Blade Compiler\n */\n\n// import { Application } from \"../app.js\";\nimport { ViewEngine } from \"./ViewEngine.js\";\n\nclass ActiveRoute {\n    constructor(route, urlPath, params, query = {}, fragment = {}) {\n        this.$route = route;\n        this.$urlPath = urlPath;\n        this.$params = params || {};\n        this.$query = query || {};\n        this.$fragment = fragment || {};\n        this.$paramKeys = [...Object.keys(params || {})];\n        Object.keys(params).forEach(key => {\n            Object.defineProperty(this, key, {\n                get: () => this.$params[key],\n                set: (value) => {\n                    this.$params[key] = value;\n                },\n                enumerable: true,\n                configurable: false,\n            });\n        });\n    }\n\n\n\n    getPath() {\n        return this.$urlPath || null;\n    }\n    getUrlPath() {\n        return this.$urlPath || null;\n    }\n\n    getParams() {\n        return this.$params || {};\n    }\n    getParam(name) {\n        return this.$params[name] || null;\n    }\n    getQuery() {\n        return this.$query || {};\n    }\n    getFragment() {\n        return this.$fragment || {};\n    }\n}\n\nexport class Router {\n    static activeRoute = null;\n    static containers = {};\n    constructor(App = null) {\n        /**\n         * @type {Application}\n         */\n        this.App = App;\n        this.routes = [];\n        this.currentRoute = null;\n        this.mode = 'history';\n        this.base = '';\n        this._beforeEach = null;\n        this._afterEach = null;\n        this.defaultRoute = '/';\n\n        // Bind methods\n        this.handleRoute = this.handleRoute.bind(this);\n        this.handlePopState = this.handlePopState.bind(this);\n\n        /**\n         * @type {Object<string, {path: string, view: string, params: object}>}\n         */\n        this.routeConfigs = {};\n        this.currentUri = window.location.pathname + window.location.search;\n    }\n\n    setApp(app) {\n        this.App = app;\n        return this;\n    }\n\n    addRouteConfig(routeConfig) {\n        this.routeConfigs[routeConfig.name] = routeConfig;\n    }\n\n    setAllRoutes(routes) {\n        for (const route of routes) {\n            this.addRouteConfig(route);\n        }\n    }\n\n\n    getURL(name, params = {}) {\n        const routeConfig = this.routeConfigs[name];\n        if (!routeConfig) {\n            return null;\n        }\n        let url = this.generateUrl(routeConfig.path, params);\n        if (!(url.startsWith('/') || url.startsWith('http:') || url.startsWith('https:'))) {\n            url = this.base + url;\n        }\n        return url;\n    }\n\n    addRoute(path, view, options = {}) {\n        this.routes.push({\n            path: this.normalizePath(path),\n            view: view,\n            options: options\n        });\n    }\n\n    setMode(mode) {\n        this.mode = mode;\n    }\n\n    setBase(base) {\n        this.base = base;\n    }\n\n    setDefaultRoute(route) {\n        this.defaultRoute = route;\n    }\n\n    beforeEach(callback) {\n        this._beforeEach = callback;\n    }\n\n    afterEach(callback) {\n        this._afterEach = callback;\n    }\n\n    normalizePath(path) {\n        // Remove leading slash if present, then add it back to ensure consistency\n        let normalized = path.startsWith('/') ? path : '/' + path;\n\n        // Remove trailing slash except for root path\n        if (normalized.length > 1 && normalized.endsWith('/')) {\n            normalized = normalized.slice(0, -1);\n        }\n\n        // Handle empty path as root\n        if (normalized === '') {\n            normalized = '/';\n        }\n\n        return normalized;\n    }\n\n    /**\n     * So snh xem chui str c khp vi format khng.\n     * @param {string} str - Chui u vo cn kim tra\n     * @param {string} format - nh dng, v d: {abc}, {abc}-def, demo-{key}, test-demo-{key}.xyz, ...\n     * @returns {boolean} true nu khp, false nu khng\n     */\n    matchFormat(str, format) {\n        // Chuyn format thnh regex\n        // Thay th {param} thnh ([^\\/\\-.]+)  match 1 on khng cha /, -, .\n        // Gi li cc k t c bit nh -, ., ...\n        let regexStr = format.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'); // escape k t c bit\n        regexStr = regexStr.replace(/\\{[a-zA-Z0-9_]+\\}/g, '([^\\\\/\\\\-.]+)');\n        // Cho php match ton b chui\n        regexStr = '^' + regexStr + '$';\n        const regex = new RegExp(regexStr);\n        return regex.test(str);\n    }\n\n    hasParameter(path) {\n        return /\\{[a-zA-Z0-9_]+\\}/.test(path);\n    }\n\n    isAnyParameter(path) {\n        return path.includes('*') || path.toLowerCase() === '{any}';\n    }\n\n    /**\n     * Ly tn tham s u tin trong path c format {param}\n     * m bo hot ng trn tt c cc trnh duyt (khng dng lookbehind/lookahead)\n     * @param {string} format - Chui path, v d: \"abc-{name}.html\"\n     * @returns {string|null} - Tr v tn param u tin nu c, ngc li tr v null\n     */\n    getParameterName(format) {\n        // Dng RegExp n gin, khng lookbehind/lookahead  tng thch trnh duyt c\n        var regex = /\\{([a-zA-Z0-9_]+)\\}/;\n        var match = regex.exec(format);\n        if (match && match[1]) {\n            return match[1];\n        }\n        return null;\n    }\n\n    /**\n     * Ly gi tr tham s u tin trong path theo format {param}\n     * @param {string} format - Chui format, v d: \"{id}\"\n     * @param {string} path - Chui path thc t, v d: \"1\"\n     * @returns {string|null} - Gi tr param nu tm thy, ngc li tr v null\n     */\n    getParameterValue(format, path) {\n        if (typeof path !== 'string' || typeof format !== 'string') return null;\n\n        // Nu format ch l {param} th tr v path\n        if (format.match(/^\\{[a-zA-Z0-9_]+\\}$/)) {\n            return path;\n        }\n\n        // Escape cc k t c bit trong format (tr {param})\n        let regexStr = format.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        // Thay th {param} thnh nhm bt\n        regexStr = regexStr.replace(/\\{[a-zA-Z0-9_]+\\}/g, '([^\\\\/\\\\-.]+)');\n        // To regex\n        const regex = new RegExp('^' + regexStr + '$');\n        const match = regex.exec(path);\n        if (match && match[1]) {\n            return match[1];\n        }\n        return null;\n    }\n\n    getAnyParameterValue(format, path) {\n        // Nu format cha du * th xem nh l {any}\n        if (typeof format === 'string' && format.includes('*')) {\n            format = format.replace(/\\*/g, '{any}');\n        }\n        if (typeof path !== 'string' || typeof format !== 'string') return null;\n        // Escape cc k t c bit trong format (tr {param})\n        let regexStr = format.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        // Thay th tng {param} thnh nhm bt\n        regexStr = regexStr.replace(/\\{[a-zA-Z0-9_]+\\}/g, '([^\\\\/\\\\-.]+)');\n        const regex = new RegExp('^' + regexStr + '$');\n        const valueMatch = regex.exec(path);\n        if (!valueMatch) return null;\n        // Tr v gi tr u tin (hoc null nu khng c)\n        return valueMatch[1] || null;\n    }\n\n    /**\n     * Check if a route with parameters matches the given path\n     * @param {object<{path: string, view: string, params: object}>} route - The route pattern (e.g., \"/web/users/{id}\")\n     * @param {string} urlPath - The actual path to match (e.g., \"/web/users/1\")\n     * @returns {Object|null} - Returns {params} if match, null if no match\n     */\n    checkParameterRoute(route, urlPath) {\n        const routePathParts = this.App.Helper.trim(route.path, '/').split('/');\n        const urlPathParts = this.App.Helper.trim(urlPath, '/').split('/');\n        // Must have same number of segments\n        if (routePathParts.length !== urlPathParts.length) {\n            console.log(' Different number of segments');\n            return null;\n        }\n\n        const lastRoutePathIndex = routePathParts.length - 1;\n        const params = {};\n\n\n\n\n        for (let i = 0; i < routePathParts.length; i++) {\n            const routePathPart = routePathParts[i];\n            const urlPathPart = urlPathParts[i];\n\n            if (this.isAnyParameter(routePathPart)) {\n                const paramValue = this.getAnyParameterValue(routePathPart, urlPathPart);\n                params.any = paramValue;\n                if (i === lastRoutePathIndex && i === 0) {\n                    return params;\n                }\n            } else if (this.hasParameter(routePathPart)) {\n                const paramName = this.getParameterName(routePathPart);\n                const paramValue = this.getParameterValue(routePathPart, urlPathPart);\n                if (paramValue === null) {\n                    console.log(' Parameter value is null');\n                    return null;\n                }\n                params[paramName] = paramValue;\n            }\n            else {\n                // Regular route part - exact match required\n                if (routePathPart !== urlPathPart) {\n                    console.log(' Exact match failed');\n                    return null;\n                }\n            }\n        }\n\n        return params;\n    }\n\n    matchRoute(path) {\n        const normalizedPath = this.normalizePath(path);\n\n        // Process routes in order - first match wins\n        for (const route of this.routes) {\n            const routePath = route.path;\n\n            // Check if route has parameters\n            const hasParameters = routePath.split('/').some(part => this.hasParameter(part) || this.isAnyParameter(part));\n\n            if (hasParameters) {\n                // Handle parameter route\n                const params = this.checkParameterRoute(route, normalizedPath);\n                if (params !== null) {\n                    return { route, params, path: normalizedPath };\n                }\n            } else {\n                // Handle exact route match\n                if (routePath === normalizedPath) {\n                    return { route, params: {}, path: normalizedPath };\n                }\n            }\n        }\n\n        return null;\n    }\n\n    async handleRoute(path, ignoreSetActiveRoute = false) {\n        // Remove query string for route matching\n        const pathForMatching = path.split('?')[0];\n        const match = this.matchRoute(pathForMatching);\n\n        if (!match) {\n            console.warn(`No route found for: ${path}`);\n            return;\n        }\n\n        const { route, params } = match;\n\n        // Call beforeEach hook\n        if (this._beforeEach) {\n            const result = await this._beforeEach(route, params);\n            if (result === false) {\n                return; // Navigation cancelled\n            }\n        }\n        const URLParts = Router.getUrlParts();\n        const query = URLParts.query;\n        const fragment = URLParts.hash;\n\n        if (!ignoreSetActiveRoute) {\n            Router.addActiveRoute(route, match.path, params, query, fragment);\n        }\n\n        // Update current route\n        this.currentRoute = { ...route, $params: params, $query: query, $fragment: fragment, $urlPath: match.path };\n\n        // Render view\n        if (this.App.View && (route.view || route.component)) {\n            this.App.View.mountView(route.view || route.component, params, Router.getActiveRoute());\n        }\n\n        // Call afterEach hook\n        if (this._afterEach) {\n            this._afterEach(route, params);\n        }\n    }\n\n\n    /**\n     * Hydrate server-rendered views\n     * Scans SSR HTML and attaches JavaScript behavior without re-rendering\n     *\n     * Flow:\n     * 1. Get active route (from Router.activeRoute)\n     * 2. Call beforeEach hook\n     * 3. Call View.scanView() to:\n     *    - Scan page view + all parent layouts\n     *    - Setup view hierarchy (virtualRender)\n     *    - Attach event handlers to existing DOM\n     *    - Setup state subscriptions\n     *    - Mount all views bottom-up\n     * 4. Call afterEach hook\n     * 5. Mark hydration complete\n     */\n    async hydrateViews() {\n        console.log(' Router.hydrateViews: Starting hydration of server-rendered views...');\n\n        if (!this.App?.View) {\n            console.error(' Router.hydrateViews: App.View not available');\n            return;\n        }\n\n        // Get active route info\n        const activeRoute = Router.activeRoute || this.currentRoute;\n\n        if (!activeRoute) {\n            console.error(' Router.hydrateViews: No active route found');\n            return;\n        }\n\n        const { $route: route, $params: params, $urlPath: urlPath, $query: query, $fragment: fragment } = activeRoute;\n\n        // Call beforeEach hook (if exists)\n        if (this._beforeEach) {\n            const result = await this._beforeEach(route, params, urlPath);\n            if (result === false) {\n                console.log(' Router.hydrateViews: Cancelled by beforeEach hook');\n                return;\n            }\n        }\n\n        // Handle view hydration\n        if (route.view || route.component) {\n            try {\n                const viewName = route.view || route.component;\n\n                this.App.View.mountViewScan(viewName, params, activeRoute);\n                // Call afterEach hook\n                if (this._afterEach) {\n                    this._afterEach(route, params);\n                }\n\n\n            } catch (error) {\n                console.error(' Router.hydrateViews: Error during hydration:', error);\n            }\n        }\n    }\n\n\n    handlePopState(event) {\n        const path = window.location.pathname + window.location.search;\n        this.handleRoute(path);\n    }\n\n    navigate(path) {\n\n        if (this.mode === 'history') {\n            window.history.pushState({}, '', path);\n            try {\n                this.handleRoute(path);\n                this.currentUri = path;\n            } catch (error) {\n                console.error(' Router.navigate handleRoute error:', error);\n            }\n        } else {\n            // Hash mode\n            window.location.hash = path;\n            try {\n                this.handleRoute(path);\n                this.currentUri = path;\n            } catch (error) {\n                console.error(' Router.navigate handleRoute (hash mode) error:', error);\n            }\n        }\n    }\n\n    /**\n     * Generate URL with file extension\n     * @param {string} route - Route pattern (e.g., '/users/{id}')\n     * @param {object} params - Parameters to fill in\n     * @param {string} extension - File extension (e.g., '.html', '.php')\n     * @returns {string} Generated URL\n     */\n    generateUrl(route, params = {}, extension = '') {\n        let url = route;\n\n        // Replace parameters\n        for (const [key, value] of Object.entries(params)) {\n            url = url.replace(`{${key}}`, value);\n        }\n\n        // Add extension if provided\n        if (extension && !url.endsWith(extension)) {\n            url += extension;\n        }\n\n        return url;\n    }\n\n    /**\n     * Navigate to route with file extension\n     * @param {string} route - Route pattern\n     * @param {object} params - Parameters\n     * @param {string} extension - File extension\n     */\n    navigateTo(route, params = {}, extension = '') {\n        const url = this.generateUrl(route, params, extension);\n        this.navigate(url);\n    }\n\n    start(skipInitial = false) {\n        // Detect if page has server-rendered content\n        // Check container for data-server-rendered attribute\n        const container = this.App?.View?.container || document.querySelector('#spa-content, #app-root, #app');\n        const isServerRendered = container && container.getAttribute('data-server-rendered') === 'true';\n        const URLParts = Router.getUrlParts();\n        const initialPath = this.mode === 'history' ? (window.location.pathname + window.location.search) : (window.location.hash.substring(1) || this.defaultRoute);\n\n        console.log(' Router.start: Detected SSR:', isServerRendered);\n        console.log(' Router.start: Container:', container?.id || container?.tagName);\n        console.log(' Router.start: Initial path:', initialPath);\n\n        this.setActiveRouteForCurrentPath(initialPath);\n\n        // Add event listeners\n        if (this.mode === 'history') {\n            window.addEventListener('popstate', this.handlePopState);\n        } else {\n            window.addEventListener('hashchange', this.handlePopState);\n        }\n\n        // Choose initial rendering strategy\n        if (isServerRendered) {\n            // SSR: Hydrate existing HTML\n            console.log(' Router.start: Starting SSR hydration...');\n            this.hydrateViews();\n        } else if (!skipInitial) {\n            // CSR: Render from scratch\n            console.log(' Router.start: Starting CSR rendering...');\n            this.handleRoute(initialPath);\n        } else {\n            console.log(' Router.start: Skipping initial route handling' + (this.mode === 'history' ? '' : '( hash)') + ' but activeRoute is set');\n        }\n\n        this.setupAutoNavigation();\n\n    }\n\n    stop() {\n        if (this.mode === 'history') {\n            window.removeEventListener('popstate', this.handlePopState);\n        } else {\n            window.removeEventListener('hashchange', this.handlePopState);\n        }\n        // Remove auto-navigation listener\n        document.removeEventListener('click', this._autoNavHandler);\n    }\n\n    /**\n     * Set activeRoute for current path without rendering view\n     * Used when starting router with skipInitial = true\n     */\n    setActiveRouteForCurrentPath(path) {\n        // console.log(' setActiveRouteForCurrentPath called with:', path);\n        // Remove query string for route matching\n        const pathForMatching = path.split('?')[0];\n        const match = this.matchRoute(pathForMatching);\n\n        if (match) {\n            const { route, params } = match;\n            const URLParts = Router.getUrlParts();\n            const query = URLParts.query;\n            const fragment = URLParts.hash;\n            // console.log(' Setting activeRoute for current path:', route.path, 'with params:', params);\n\n            // Set activeRoute without rendering\n            Router.addActiveRoute(route, match.path, params, query, fragment);\n            this.currentRoute = { ...route, $params: params, $query: query, $fragment: fragment, $urlPath: match.path };\n\n            // console.log(' activeRoute set successfully:', Router.activeRoute);\n        } else {\n            console.log(' No matching route found for current path:', path);\n        }\n    }\n\n    /**\n     * Setup auto-detect navigation for internal links\n     */\n    setupAutoNavigation() {\n        console.log(' setupAutoNavigation called');\n        // Store reference to handler for removal\n        this._autoNavHandler = this.handleAutoNavigation.bind(this);\n        document.addEventListener('click', this._autoNavHandler);\n        console.log(' Auto-navigation setup complete - event listener added');\n    }\n\n    /**\n     * Handle auto-detect navigation\n     * @param {Event} e - Click event\n     */\n    handleAutoNavigation(e) {\n        // console.log(' handleAutoNavigation called for:', e.target);\n\n        // Check for data-nav-link attribute first (highest priority)\n        const oneNavElement = e.target.closest('[data-nav-link]');\n\n        if (oneNavElement) {\n            // Check if navigation is disabled\n            if (oneNavElement.hasAttribute('data-nav-disabled')) {\n                console.log(' Skipping disabled data-nav-link element');\n                return;\n            }\n\n            const navPath = oneNavElement.getAttribute('data-nav-link');\n            console.log(' navPath:', navPath);\n\n            if (navPath && navPath.trim() !== '') {\n                console.log(' Auto-navigating via data-nav-link attribute:', navPath);\n                e.preventDefault();\n                if (navPath === this.currentUri) {\n                    console.log(' Same path - no navigation needed:', navPath);\n                    return;\n                }\n                this.navigate(navPath);\n                return;\n            }\n        }\n\n        // Check for data-navigate attribute (alternative to data-nav-link)\n        const navigateElement = e.target.closest('[data-navigate]');\n\n        if (navigateElement) {\n            // Check if navigation is disabled\n            if (navigateElement.hasAttribute('data-nav-disabled')) {\n                console.log(' Skipping disabled data-navigate element');\n                return;\n            }\n\n            const navPath = navigateElement.getAttribute('data-navigate');\n            console.log(' navPath from data-navigate:', navPath);\n\n            if (navPath && navPath.trim() !== '') {\n                console.log(' Auto-navigating via data-navigate attribute:', navPath);\n                e.preventDefault();\n                if (navPath === this.currentUri) {\n                    console.log(' Same path - no navigation needed:', navPath);\n                    return;\n                }\n                this.navigate(navPath);\n                return;\n            }\n        }\n\n        // Fallback to traditional <a> tag handling\n        const link = e.target.closest('a[href]');\n        if (!link) return;\n\n        // Skip if link has target=\"_blank\"\n        if (link.target === '_blank') {\n            console.log(' Skipping external link with target=\"_blank\":', link.href);\n            return;\n        }\n\n        // Skip if link has data-nav=\"disabled\" or on-nav=\"false\"\n        if (link.dataset.nav === 'disabled' || link.getAttribute('data-nav') === 'false') {\n            console.log(' Skipping disabled link:', link.href);\n            return;\n        }\n\n        // Skip if link has data-nav=\"false\" (explicitly disabled)\n        if (link.dataset.nav === 'false') {\n            console.log(' Skipping explicitly disabled link:', link.href);\n            return;\n        }\n\n        // Skip mailto, tel, and other special protocols\n        if (link.href.startsWith('mailto:') || link.href.startsWith('tel:') || link.href.startsWith('javascript:')) {\n            console.log(' Skipping special protocol link:', link.href);\n            return;\n        }\n\n        const href = link.href;\n\n        // Check if it's an external URL (different domain)\n        try {\n            const linkUrl = new URL(href);\n            const currentUrl = new URL(window.location.href);\n\n            // If different host, skip (external link)\n            if (linkUrl.host !== currentUrl.host) {\n                console.log(' Skipping external domain link:', href);\n                return;\n            }\n        } catch (error) {\n            // If URL parsing fails, treat as internal link\n            console.log(' URL parsing failed, treating as internal:', href);\n        }\n\n        // Check if it's a full URL with same domain (and not same path - already checked above)\n        if (href.startsWith('http://') || href.startsWith('https://')) {\n            try {\n                const linkUrl = new URL(href);\n                const currentUrl = new URL(window.location.href);\n\n                if (linkUrl.host === currentUrl.host) {\n                    // Same domain, extract path with query string for navigation\n                    const path = linkUrl.pathname + linkUrl.search;\n                    console.log(' Auto-navigating to same domain URL:', path);\n                    e.preventDefault();\n                    if (path === this.currentUri) {\n                        console.log(' Same path - no navigation needed:', path);\n                        return;\n                    }\n                    this.navigate(path);\n                    return;\n                }\n            } catch (error) {\n                console.log(' URL parsing failed for full URL:', href);\n            }\n        }\n\n        // Handle relative URLs (and not same path - already checked above)\n        if (href && !href.startsWith('http') && !href.startsWith('//')) {\n            console.log(' Auto-navigating to relative URL:', href);\n            e.preventDefault();\n            if (href === this.currentUri) {\n                console.log(' Same path - no navigation needed:', href);\n                return;\n            }\n            this.navigate(href);\n            return;\n        }\n\n        // If we get here, it's likely an external link or unsupported format\n        console.log(' Skipping unsupported link format:', href);\n    }\n    static getUrlParts() {\n        const { location } = window;\n        const { search, hash, pathname } = location;\n        return {\n            url: location.href,\n            protocol: location.protocol,\n            search: search.startsWith('?') ? search.substring(1) : search,\n            path: pathname,\n            query: Object.fromEntries(new URLSearchParams(search)),\n            hash: hash.startsWith('#') ? hash.substring(1) : hash\n        };\n    }\n\n    static addActiveRoute(route, urlPath, params, query = {}, fragment = null) {\n        if (!route.path) {\n            return;\n        }\n        if (!Router.containers[route.path]) {\n            Router.containers[route.path] = new ActiveRoute(route, urlPath, params, query, fragment);\n            Router.activeRoute = Router.containers[route.path];\n        } else {\n            Router.containers[route.path].$urlPath = urlPath;\n            Router.containers[route.path].$params = params;\n            Router.containers[route.path].$query = query;\n            Router.containers[route.path].$fragment = fragment;\n            Router.activeRoute = Router.containers[route.path];\n        }\n    }\n\n    static getCachedRoute(routePath) {\n        return Router.containers[routePath] || null;\n    }\n\n    static getCurrentRoute() {\n        return Router.activeRoute || null;\n    }\n    static getActiveRoute() {\n        return Router.activeRoute || null;\n    }\n    static getCurrentPath() {\n        return window.location.pathname;\n    }\n    static getCurrentUri() {\n        return this.mode === 'history' ? Router.getCurrentPath() : Router.getCurrentHash();\n    }\n    static getCurrentHash() {\n        const fragmentString = window.location.hash.substring(1) || '';\n        return fragmentString;\n    }\n    static getCurrentUrl() {\n        return this.mode === 'history' ? Router.getCurrentPath() + window.location.search : Router.getCurrentHash();\n    }\n    static getCurrentQuery() {\n        const query = Object.fromEntries(new URLSearchParams(window.location.search));\n        return query;\n    }\n    static getCurrentFragment() {\n        const fragmentString = window.location.hash.substring(1) || '';\n        return fragmentString;\n    }\n}\n\nexport default Router;\n\nexport const useRoute = () => Router.getCurrentRoute();\nexport const useParams = () => useRoute()?.getParams() || {};\nexport const useQuery = () => Router.getCurrentQuery() || {};\nexport const useFragment = () => Router.getCurrentFragment() || {};","/**\n * seo-config Module\n * ES6 Module for Blade Compiler\n */\n\nexport const ViewState = function (view) {\n    const viewRef = view;\n    const states = [];\n    let stateIndex = 0;\n    const stateMap = [];\n    \n}\nexport const SEOTagConfig = {\n    \"meta:title\": [\n        {\n            tag: \"title\",\n            selector: \"title\",\n            attribute: \"@content\",\n            attrs: {}\n        },\n        {\n            tag: \"meta\",\n            selector: \"meta[name='title']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"title\"\n            }\n\n        }\n    ],\n    \"meta:description\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='description']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"description\"\n            }\n        }\n    ],\n    \"meta:keywords\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='keywords']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"keywords\"\n            }\n        }\n    ],\n    \"link:meta:canonical\": [\n        {\n            tag: \"link\",\n            selector: \"link[rel='canonical']\",\n            attribute: \"href\",\n            attrs: {\n                \"rel\": \"canonical\"\n            }\n        }\n    ],\n    \"meta:robots\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='robots']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"robots\"\n            }\n        }\n    ],\n    \"meta:author\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='author']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"author\"\n            }\n        }\n    ],\n    \"meta:image\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='image']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"image\"\n            }\n        }\n    ],\n    \"meta:og:image\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:image']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:image\"\n            }\n        }\n    ],\n    \"meta:og:title\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:title']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:title\"\n            }\n        }\n    ],\n    \"meta:og:description\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:description']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:description\"\n            }\n        }\n    ],\n    \"meta:og:type\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:type']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:type\"\n            }\n        }\n    ],\n    \"meta:og:url\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:url']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:url\"\n            }\n        }\n    ],\n    \"meta:og:site_name\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:site_name']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:site_name\"\n            }\n        }\n    ],\n    \"meta:og:locale\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:locale']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:locale\"\n            }\n        }\n    ],\n    \"meta:article:published_time\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:published_time']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:published_time\"\n            }\n        }\n    ],\n    \"meta:article:modified_time\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:modified_time']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:modified_time\"\n            }\n        }\n    ],\n    \"meta:article:section\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:section']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:section\"\n            }\n        }\n    ],\n    \"meta:article:tag\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:tag']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:tag\"\n            }\n        }\n    ],\n    \"meta:article:author\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:author']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:author\"\n            }\n        }\n    ],\n    \"meta:article:publisher\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:publisher']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:publisher\"\n            }\n        }\n    ],\n    \"meta:article:image\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='article:image']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"article:image\"\n            }\n        }\n    ],\n    \"meta:og:image:width\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:image:width']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:image:width\"\n            }\n        }\n    ],\n    \"meta:og:image:height\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[property='og:image:height']\",\n            attribute: \"content\",\n            attrs: {\n                \"property\": \"og:image:height\"\n            }\n        }\n    ],\n    \"meta:twitter:card\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='twitter:card']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"twitter:card\"\n            }\n        }\n    ],\n    \"meta:twitter:label1\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='twitter:label1']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"twitter:label1\"\n            }\n        }\n    ],\n    \"meta:twitter:label2\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='twitter:label2']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"twitter:label2\"\n            }\n        }\n    ],\n    \"twitter:data1\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='twitter:data1']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"twitter:data1\"\n            }\n        }\n    ],\n    \"twitter:data2\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='twitter:data2']\",\n            attribute: \"content\",\n            attrs: {\n                \"name\": \"twitter:data2\"\n            }\n        }\n    ],\n    \"link:rel:shortlink\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='rel:shortlink']\",\n            attribute: \"content\",\n            attrs: {\n                \"rel\": \"shortlink\"\n            }\n        }\n    ],\n    \"link:rel:alternate\": [\n        {\n            tag: \"meta\",\n            selector: \"meta[name='rel:alternate']\",\n            attribute: \"content\",\n            attrs: {\n                \"rel\": \"alternate\"\n            }\n        }\n    ]\n};","import { ViewEngine } from '@app/core/ViewEngine.js';\n    const viewEngine = ViewEngine.getInstance();\n\nexport function PartialsFooter($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'partials.footer';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('partials.footer', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {\n    mounted() {\n        console.log('Footer mounted');\n    },\n    install(){\n        console.log('Footer installed');\n    }\n},\n        scripts: [{\"type\":\"src\",\"src\":\"https://cdn.jquery.com/main.js\"}],\n        styles: [{\"type\":\"code\",\"content\":\".footer {\\\\n    background-color: #f8f9fa;\\\\n    padding: 20px 0;\\\\n}\\\\n\\\\n.footer-content {\\\\n    max-width: 1200px;\\\\n    margin: 0 auto;\\\\n    padding: 0 15px;\\\\n}\\\\n\\\\n.footer-nav {\\\\n    list-style: none;\\\\n    padding: 0;\\\\n}\\\\n\\\\n.footer-nav a {\\\\n    text-decoration: none;\\\\n    color: #007bff;\\\\n}\\\\n\\\\n.footer-nav a:hover {\\\\n    text-decoration: underline;\\\\n}\",\"attributes\":{\"scoped\":true}},{\"type\":\"href\",\"href\":`${App.View.escString(App.Helper.asset('css/footer.css'))}`}],\n        resources: [{\"tag\":\"script\",\"uuid\":\"script-0\",\"attrs\":{\"src\":\"https://cdn.jquery.com/main.js\"}},{\"tag\":\"link\",\"uuid\":\"link-1\",\"attrs\":{\"rel\":\"stylesheet\",\"href\":`${App.View.escString(App.Helper.asset('css/footer.css'))}`}}],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `<footer class=\"footer\">\n<div class=\"footer-content\">\n<p>&copy; ${App.View.escString(App.Helper.date('Y'))} ${App.View.escString(App.Helper.config('app.name'))}. All rights reserved.</p>\n<nav class=\"footer-nav\">\n<a href=\"${App.View.escString(App.View.route('home'))}\">Trang ch</a>\n<a href=\"${App.View.escString(App.View.route('about'))}\">Gii thiu</a>\n<a href=\"${App.View.escString(App.View.route('contact'))}\">Lin h</a>\n</nav>\n</div>\n</footer>`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","// Auto-generated ViewTemplate.js\n// This file imports all view functions and assigns them to templates\n\nimport { WebComponentsLinks } from './../views/WebComponentsLinks.js';\nimport { WebLayoutsBase } from './../views/WebLayoutsBase.js';\nimport { WebPagesDocs } from './../views/WebPagesDocs.js';\nimport { WebPagesAbout } from './../views/WebPagesAbout.js';\nimport { WebPagesHome } from './../views/WebPagesHome.js';\nimport { WebPagesExamples } from './../views/WebPagesExamples.js';\nimport { WebPagesContact } from './../views/WebPagesContact.js';\nimport { PartialsTestPartial } from './../views/PartialsTestPartial.js';\nimport { PartialsAssetsScripts } from './../views/PartialsAssetsScripts.js';\nimport { PartialsFooter } from './../views/PartialsFooter.js';\nimport { PartialsDataExample } from './../views/PartialsDataExample.js';\n\nexport const ViewTemplates = {\n    'web.components.links': WebComponentsLinks,\n    'web.layouts.base': WebLayoutsBase,\n    'web.pages.docs': WebPagesDocs,\n    'web.pages.about': WebPagesAbout,\n    'web.pages.home': WebPagesHome,\n    'web.pages.examples': WebPagesExamples,\n    'web.pages.contact': WebPagesContact,\n    'partials.test-partial': PartialsTestPartial,\n    'partials.assets-scripts': PartialsAssetsScripts,\n    'partials.footer': PartialsFooter,\n    'partials.data-example': PartialsDataExample,\n};\n","export function WebComponentsLinks($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.components.links';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.components.links', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `<!-- Fonts -->\n<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap\" rel=\"stylesheet\">\n\n<!-- Styles -->\n<link rel=\"stylesheet\" href=\"${App.View.escString(App.Helper.asset('static/assets/web/css/main.css'))}\">\n<link rel=\"stylesheet\" href=\"${App.View.escString(App.Helper.asset('static/assets/web/css/components.css'))}\">`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebLayoutsBase($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.layouts.base';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.layouts.base', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n\n\n\n\n<!-- Main Content -->\n<main id=\"spa-content\" class=\"spa-content\" data-server-rendered=\"true\">\n${App.View.yield('content')}\n</main>\n\n\n\n\n\n`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebPagesDocs($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.pages.docs';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.pages.docs', {\n        superView: 'layouts.base',\n        hasSuperView: true,\n        viewType: 'view',\n        sections: {\n        \"meta:title\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:description\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:keywords\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"content\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"scripts\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        }\n    },\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: true,\n        hasFetchData: true,\n        subscribe: [\"count\", \"onCountChange\"],\n        fetch: {\"url\": `users`, \"method\": \"GET\", \"data\": {}, \"headers\": {}},\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: true,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [\"content\",\"scripts\"],\n        renderSections: [\"meta:title\",\"meta:description\",\"meta:keywords\",\"content\",\"scripts\"],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n${this.__section('meta:title', 'Documentation - One Laravel Framework', 'string')}\n${this.__section('meta:description', 'Complete documentation for One Laravel - Learn how to build reactive SPAs with Laravel and Blade templates.', 'string')}\n${this.__section('meta:keywords', 'One Laravel docs, Laravel SPA documentation, Blade reactive components', 'string')}\n\n${this.__section('content', `<!-- Hero Section -->\n<section class=\"hero\" style=\"padding: 3rem 0;\">\n<div class=\"container\">\n<h1>Documentation</h1>\n<p>Everything you need to build amazing SPAs with One Laravel</p>\n</div>\n</section>\n\n<section class=\"py-4\">\n<div class=\"container\">\n<div class=\"row\">\n<!-- Sidebar Navigation -->\n<div class=\"col-3\">\n<div class=\"docs-nav\">\n<h4 style=\"margin-bottom: 1rem;\">Getting Started</h4>\n<ul>\n<li><a href=\"#installation\" class=\"active\">Installation</a></li>\n<li><a href=\"#quick-start\">Quick Start</a></li>\n<li><a href=\"#directory-structure\">Directory Structure</a></li>\n</ul>\n\n<h4 style=\"margin: 2rem 0 1rem;\">Core Concepts</h4>\n<ul>\n<li><a href=\"#reactive-components\">Reactive Components</a></li>\n<li><a href=\"#state-management\">State Management</a></li>\n<li><a href=\"#event-handling\">Event Handling</a></li>\n<li><a href=\"#lifecycle-methods\">Lifecycle Methods</a></li>\n</ul>\n\n<h4 style=\"margin: 2rem 0 1rem;\">Advanced Topics</h4>\n<ul>\n<li><a href=\"#spa-routing\">SPA Routing</a></li>\n<li><a href=\"#component-communication\">Component Communication</a></li>\n<li><a href=\"#performance\">Performance</a></li>\n<li><a href=\"#testing\">Testing</a></li>\n</ul>\n\n<h4 style=\"margin: 2rem 0 1rem;\">API Reference</h4>\n<ul>\n<li><a href=\"#directives\">Blade Directives</a></li>\n<li><a href=\"#javascript-api\">JavaScript API</a></li>\n<li><a href=\"#configuration\">Configuration</a></li>\n</ul>\n</div>\n</div>\n\n<!-- Main Content -->\n<div class=\"col-9\">\n<div class=\"docs-content\">\n<!-- Installation -->\n<section id=\"installation\" class=\"mb-5\">\n<h2>Installation</h2>\n<div class=\"breadcrumb\">\n<span class=\"breadcrumb-item\">Documentation</span>\n<span class=\"breadcrumb-item\">Getting Started</span>\n<span class=\"breadcrumb-item\">Installation</span>\n</div>\n\n<p>One Laravel can be installed via Composer. Make sure you have PHP 8.1 or higher installed.</p>\n\n<div class=\"alert alert-info\">\n<strong>Prerequisites:</strong> PHP 8.1+, Composer, Node.js 16+ (for asset compilation)\n</div>\n\n<div class=\"example-container\">\n<div class=\"example-header\">Create New Project</div>\n<div class=\"example-code\">\n                                    <pre><code># Create a new One Laravel project\ncomposer create-project one-laravel/laravel my-spa-app\n\n# Navigate to the project directory\ncd my-spa-app\n\n# Install dependencies\ncomposer install\nnpm install\n\n# Set up environment\ncp .env.example .env\nphp artisan key:generate\n\n# Start development server\nphp artisan serve</code></pre>\n</div>\n</div>\n\n<h3>Add to Existing Laravel Project</h3>\n<p>You can also add One Laravel to an existing Laravel application:</p>\n\n<div class=\"example-container\">\n<div class=\"example-header\">Install Package</div>\n<div class=\"example-code\">\n                                    <pre><code># Install One Laravel package\ncomposer require one-laravel/framework\n\n# Publish configuration\nphp artisan vendor:publish --provider=\"OneLaravel\\ServiceProvider\"\n\n# Compile assets\nphp artisan one:compile</code></pre>\n</div>\n</div>\n</section>\n\n<!-- Quick Start -->\n<section id=\"quick-start\" class=\"mb-5\">\n<h2>Quick Start</h2>\n<div class=\"breadcrumb\">\n<span class=\"breadcrumb-item\">Documentation</span>\n<span class=\"breadcrumb-item\">Getting Started</span>\n<span class=\"breadcrumb-item\">Quick Start</span>\n</div>\n\n<p>Let's create your first reactive component in One Laravel. We'll build a simple counter.</p>\n\n<div class=\"example-container\">\n<div class=\"example-header\">resources/views/components/counter.blade.php</div>\n<div class=\"example-code\">\n                                    <pre><code class=\"syntax-highlight\">\n@useState(0, $count, $setCount)\n\n&lt;div class=\"counter-component\"&gt;\n    &lt;h3&gt;Counter: {{ $count }}&lt;/h3&gt;\n    \n    &lt;div&gt;\n        &lt;button data-click=\"decrement\"&gt;-&lt;/button&gt;\n        &lt;button data-click=\"increment\"&gt;+&lt;/button&gt;\n        &lt;button data-click=\"reset\"&gt;Reset&lt;/button&gt;\n    &lt;/div&gt;\n    \n    &lt;p&gt;\n        @if ($count > 0)\n            Positive number!\n        @elseif($count < 0)\n            Negative number!\n        @else\n            Zero!\n        @endif\n    &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction increment() {\n    this.updateStateByKey('count', count + 1);\n}\n\nfunction decrement() {\n    this.updateStateByKey('count', count - 1);\n}\n\nfunction reset() {\n    this.updateStateByKey('count', 0);\n}\n&lt;/script&gt;\n</code></pre>\n</div>\n<div class=\"example-preview\">\n<strong>Result:</strong> A fully reactive counter that updates the DOM automatically when state changes.\n</div>\n</div>\n\n<h3>Using the Component</h3>\n<div class=\"example-container\">\n<div class=\"example-header\">resources/views/welcome.blade.php</div>\n<div class=\"example-code\">\n                                    <pre><code>\n@extends('layouts.app')\n\n@section('content')\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Welcome to One Laravel&lt;/h1&gt;\n        \n        \n        @include('components.counter')\n    &lt;/div&gt;\n@endsection\n</code></pre>\n</div>\n</div>\n</section>\n<!-- Reactive Components -->\n                        <section id=\"reactive-components\" class=\"mb-5\">\n                            <h2>Reactive Components</h2>\n                            <div class=\"breadcrumb\">\n                                <span class=\"breadcrumb-item\">Documentation</span>\n                                <span class=\"breadcrumb-item\">Core Concepts</span>\n                                <span class=\"breadcrumb-item\">Reactive Components</span>\n                            </div>\n\n                            <p>One Laravel components automatically update when their state changes. This is achieved through a reactive system similar to Vue.js or React.</p>\n\n                            <h3>State Declaration</h3>\n                            <p>Use the <code class=\"code-inline\">@useState</code> directive to declare reactive state:</p>\n\n                            <div class=\"example-container\">\n                                <div class=\"example-header\">State Declaration Examples</div>\n                                <div class=\"example-code\">\n                                    <pre><code class=\"syntax-highlight\">\n\n@const([$message, $setMessage] = useState('Hello World'))\n@useState(['message' => 'Hello World'])\n\n\n\n@const([$user, $setUser] = useState([\n    'name' => 'John Doe',\n    'email' => 'john@example.com',\n]))\n\n@const([$todos, $setTodos] = useState([]))\n@const([$loading, $setLoading] = useState(false))\n@const([$count, $setCount] = useState(0))\n                                    </code></pre>\n                                </div>\n                            </div>\n\n                            <h3>Computed Properties</h3>\n                            <p>Create computed values that automatically update when dependencies change:</p>\n\n                            <div class=\"example-container\">\n                                <div class=\"example-header\">Computed Properties</div>\n                                <div class=\"example-code\">\n                                    <pre><code class=\"syntax-highlight\">\n\n@const([$firstName, $setFirstName] = useState('John'))\n@const([$lastName, $setLastName] = useState('Doe'))\n\n&lt;div&gt;\n    &lt;p&gt;Full Name: {{ $firstName . ' ' . $lastName }}&lt;/p&gt;\n    &lt;p&gt;Initials: {{ substr($firstName, 0, 1) . substr($lastName, 0, 1) }}&lt;/p&gt;\n&lt;/div&gt;\n                                </code></pre>\n                                </div>\n                            </div>\n                        </section>\n\n<!-- State Management -->\n<section id=\"state-management\" class=\"mb-5\">\n<h2>State Management</h2>\n<div class=\"breadcrumb\">\n<span class=\"breadcrumb-item\">Documentation</span>\n<span class=\"breadcrumb-item\">Core Concepts</span>\n<span class=\"breadcrumb-item\">State Management</span>\n</div>\n\n<p>One Laravel provides several ways to update component state:</p>\n\n<div class=\"table\">\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>updateStateByKey()</code></td>\n<td>Update a single state property</td>\n<td><code>this.updateStateByKey('count', 5)</code></td>\n</tr>\n<tr>\n<td><code>updateRealState()</code></td>\n<td>Update multiple state properties</td>\n<td><code>this.updateRealState({count: 5, loading: false})</code></td>\n</tr>\n<tr>\n<td><code>useState()</code></td>\n<td>Get current state value</td>\n<td><code>const [count, setCount] = useState(0)</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n\n<div class=\"alert alert-warning\">\n<strong>Important:</strong> Always use the provided methods to update state. Direct assignment won't trigger reactivity.\n</div>\n</section>\n\n<!-- Event Handling -->\n<section id=\"event-handling\" class=\"mb-5\">\n<h2>Event Handling</h2>\n<div class=\"breadcrumb\">\n<span class=\"breadcrumb-item\">Documentation</span>\n<span class=\"breadcrumb-item\">Core Concepts</span>\n<span class=\"breadcrumb-item\">Event Handling</span>\n</div>\n\n<p>Handle user interactions with data attributes:</p>\n\n<div class=\"example-container\">\n<div class=\"example-header\">Event Handling Examples</div>\n<div class=\"example-code\">\n                                    <pre><code class=\"syntax-highlight\">&lt;!-- Click events --&gt;\n&lt;button data-click=\"handleClick\"&gt;Click Me&lt;/button&gt;\n\n&lt;!-- Form events --&gt;\n&lt;input type=\"text\" data-input=\"handleInput\" data-change=\"handleChange\"&gt;\n&lt;form data-submit=\"handleSubmit\"&gt;...&lt;/form&gt;\n\n&lt;!-- Mouse events --&gt;\n&lt;div data-mouseenter=\"showTooltip\" data-mouseleave=\"hideTooltip\"&gt;\n    Hover me\n&lt;/div&gt;\n\n&lt;!-- Keyboard events --&gt;\n&lt;input data-keydown=\"handleKeyDown\" data-keyup=\"handleKeyUp\"&gt;\n\n&lt;script&gt;\nfunction handleClick(event) {\n    console.log('Button clicked!', event);\n}\n\nfunction handleInput(event) {\n    this.updateStateByKey('inputValue', event.target.value);\n}\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    // Handle form submission\n}\n&lt;/script&gt;</code></pre>\n</div>\n</div>\n</section>\n<!-- API Reference -->\n                        <section id=\"directives\" class=\"mb-5\">\n                            <h2>Blade Directives</h2>\n                            <div class=\"breadcrumb\">\n                                <span class=\"breadcrumb-item\">Documentation</span>\n                                <span class=\"breadcrumb-item\">API Reference</span>\n                                <span class=\"breadcrumb-item\">Blade Directives</span>\n                            </div>\n\n                            <p>One Laravel extends Blade with reactive directives:</p>\n\n                            <div class=\"table\">\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th>Directive</th>\n                                            <th>Description</th>\n                                            <th>Example</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr>\n                                            <td><code>@useState</code></td>\n                                            <td>Declare reactive state</td>\n                                            <td><code>@useState(['count' => 0])</code></td>\n                                        </tr>\n                                        <tr>\n                                            <td><code>@fetch</code></td>\n                                            <td>Fetch data from API</td>\n                                            <td><code>@fetch('users', '/api/users')</code></td>\n                                        </tr>\n                                        <tr>\n                                            <td><code>@await</code></td>\n                                            <td>Handle async operations</td>\n                                            <td><code>@await('fetchUsers')</code></td>\n                                        </tr>\n                                        <tr>\n                                            <td><code>@subscribe</code></td>\n                                            <td>Subscribe to state changes</td>\n                                            <td><code>@subscribe('count', 'onCountChange')</code></td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n\n                            <div class=\"text-center mt-5\">\n                                <a href=\"{{ url('/examples') }}\" class=\"btn btn-primary\" data-navigate=\"/web/examples\">\n                                    See More Examples \n                                </a>\n                            </div>\n                        </section>\n</div>\n</div>\n</div>\n</div>\n</section>`, 'html')}\n\n${this.__section('scripts', `<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n// Smooth scrolling for navigation links\ndocument.querySelectorAll('.docs-nav a[href^=\"#\"]').forEach(link => {\nlink.addEventListener('click', function(e) {\ne.preventDefault();\nconst target = document.querySelector(this.getAttribute('href'));\nif (target) {\ntarget.scrollIntoView({\nbehavior: 'smooth',\nblock: 'start'\n});\n\n// Update active link\ndocument.querySelectorAll('.docs-nav a').forEach(l => l.classList.remove('active'));\nthis.classList.add('active');\n\n// Update URL without triggering navigation\nhistory.pushState(null, null, this.getAttribute('href'));\n}\n});\n});\n\n// Highlight current section on scroll\nconst observer = new IntersectionObserver((entries) => {\nentries.forEach(entry => {\nif (entry.isIntersecting) {\nconst id = entry.target.id;\ndocument.querySelectorAll('.docs-nav a').forEach(link => {\nlink.classList.remove('active');\nif (link.getAttribute('href') === \\`#${id}\\`) {\nlink.classList.add('active');\n}\n});\n}\n});\n}, {\nrootMargin: '-20% 0px -70% 0px'\n});\n\ndocument.querySelectorAll('section[id]').forEach(section => {\nobserver.observe(section);\n});\n});\n</script>\n\n<style>\n.docs-content h2 {\nborder-bottom: 2px solid var(--bg-light);\npadding-bottom: 0.5rem;\nmargin-bottom: 1.5rem;\n}\n\n.docs-content h3 {\ncolor: var(--primary-color);\nmargin-top: 2rem;\n}\n\n.docs-nav {\nposition: sticky;\ntop: 2rem;\nmax-height: calc(100vh - 4rem);\noverflow-y: auto;\n}\n\n@media (max-width: 768px) {\n.docs-nav {\nposition: static;\nmargin-bottom: 2rem;\n}\n}\n</style>`, 'html')}`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return this.__extends('layouts.base');\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebPagesAbout($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.pages.about';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.pages.about', {\n        superView: 'layouts.base',\n        hasSuperView: true,\n        viewType: 'view',\n        sections: {\n        \"meta:title\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:description\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:keywords\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"content\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"styles\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        }\n    },\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: true,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [\"content\",\"styles\"],\n        renderSections: [\"meta:title\",\"meta:description\",\"meta:keywords\",\"content\",\"styles\"],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n${this.__section('meta:title', 'About One Laravel - Advanced SPA Framework', 'string')}\n${this.__section('meta:description', 'Learn about One Laravel, the innovative framework that bridges Laravel backend with modern SPA frontend capabilities.', 'string')}\n${this.__section('meta:keywords', 'About One Laravel, Laravel SPA, Framework History, Team, Mission', 'string')}\n\n${this.__section('content', `<!-- Hero Section -->\n<section class=\"hero\" style=\"padding: 4rem 0;\">\n<div class=\"container\">\n<h1>About One Laravel</h1>\n<p>Revolutionizing web development by seamlessly merging Laravel's robustness with modern SPA capabilities</p>\n</div>\n</section>\n\n<!-- Mission Section -->\n<section class=\"py-5\">\n<div class=\"container\">\n<div class=\"row\">\n<div class=\"col-6\">\n<h2>Our Mission</h2>\n<p>\nOne Laravel was born from a simple belief: developers shouldn't have to choose between\nLaravel's powerful backend capabilities and modern frontend reactivity. We set out to\ncreate a framework that gives you the best of both worlds.\n</p>\n<p>\nOur mission is to empower developers to build lightning-fast, reactive web applications\nwithout sacrificing the productivity and elegance that Laravel is known for.\n</p>\n</div>\n<div class=\"col-6\">\n<div class=\"card\">\n<h3 class=\"card-title\">Core Values</h3>\n<ul style=\"color: var(--text-secondary); line-height: 1.8;\">\n<li><strong>Simplicity:</strong> Complex problems, simple solutions</li>\n<li><strong>Performance:</strong> Speed without compromising functionality</li>\n<li><strong>Developer Experience:</strong> Joy in coding, every day</li>\n<li><strong>Community:</strong> Built by developers, for developers</li>\n<li><strong>Innovation:</strong> Pushing the boundaries of what's possible</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</section>\n\n<!-- The Story Section -->\n<section class=\"py-5\" style=\"background: var(--bg-secondary);\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">The Story Behind One Laravel</h2>\n\n<div class=\"timeline\" style=\"max-width: 800px; margin: 0 auto;\">\n<div class=\"timeline-item\" style=\"margin-bottom: 3rem; position: relative; padding-left: 3rem;\">\n<div style=\"position: absolute; left: 0; top: 0; width: 2rem; height: 2rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">1</div>\n<h4>The Problem</h4>\n<p>\nWe found ourselves constantly switching between Laravel for backend logic and\nReact/Vue for frontend interactivity. The context switching was slowing us down,\nand we were maintaining two separate codebases with different paradigms.\n</p>\n</div>\n\n<div class=\"timeline-item\" style=\"margin-bottom: 3rem; position: relative; padding-left: 3rem;\">\n<div style=\"position: absolute; left: 0; top: 0; width: 2rem; height: 2rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">2</div>\n<h4>The Vision</h4>\n<p>\nWhat if we could write reactive frontend components using familiar Blade syntax?\nWhat if state management could be as simple as Laravel's Eloquent models?\nWhat if we didn't need complex build tools and configurations?\n</p>\n</div>\n\n<div class=\"timeline-item\" style=\"margin-bottom: 3rem; position: relative; padding-left: 3rem;\">\n<div style=\"position: absolute; left: 0; top: 0; width: 2rem; height: 2rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">3</div>\n<h4>The Innovation</h4>\n<p>\nWe developed a revolutionary compiler that transforms Blade templates into reactive\nJavaScript components. Server-side rendering for SEO, client-side reactivity for UX,\nall in one unified framework.\n</p>\n</div>\n\n<div class=\"timeline-item\" style=\"position: relative; padding-left: 3rem;\">\n<div style=\"position: absolute; left: 0; top: 0; width: 2rem; height: 2rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">4</div>\n<h4>The Result</h4>\n<p>\nOne Laravel - a framework that lets you build modern, reactive applications using\nthe Laravel skills you already have. No new languages to learn, no complex\nconfigurations to manage.\n</p>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Technical Architecture -->\n<section class=\"py-5\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">Technical Architecture</h2>\n\n<div class=\"row\">\n<div class=\"col-4\">\n<div class=\"card text-center\">\n<div class=\"feature-icon\" style=\"margin: 0 auto 1rem;\"></div>\n<h4>Blade Compiler</h4>\n<p>\nAdvanced PHP-to-JavaScript compiler that transforms Blade templates into\noptimized, reactive components while preserving Laravel's syntax and conventions.\n</p>\n</div>\n</div>\n\n<div class=\"col-4\">\n<div class=\"card text-center\">\n<div class=\"feature-icon\" style=\"margin: 0 auto 1rem;\"></div>\n<h4>Reactive Engine</h4>\n<p>\nLightweight JavaScript runtime that provides Vue-like reactivity with automatic\ndependency tracking and efficient DOM updates.\n</p>\n</div>\n</div>\n\n<div class=\"col-4\">\n<div class=\"card text-center\">\n<div class=\"feature-icon\" style=\"margin: 0 auto 1rem;\"></div>\n<h4>SPA Router</h4>\n<p>\nIntelligent client-side router that works seamlessly with Laravel routes,\nproviding instant navigation while maintaining SEO compatibility.\n</p>\n</div>\n</div>\n</div>\n\n<div class=\"text-center mt-5\">\n<a href=\"${App.View.escString(App.Helper.url('/docs'))}\" class=\"btn btn-outline\" data-navigate=\"/web/docs\">\nExplore Technical Documentation \n</a>\n</div>\n</div>\n</section>\n\n<!-- Key Features Deep Dive -->\n<section class=\"py-5\" style=\"background: var(--bg-secondary);\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">What Makes One Laravel Different</h2>\n\n<div class=\"features-grid\">\n<div class=\"feature-card\">\n<h4>Zero Learning Curve</h4>\n<p>\nIf you know Laravel and Blade, you already know One Laravel. We extend familiar\nconcepts rather than replacing them with new paradigms.\n</p>\n</div>\n\n<div class=\"feature-card\">\n<h4>Progressive Enhancement</h4>\n<p>\nStart with traditional Laravel views and progressively add reactivity where needed.\nNo need to rewrite your entire application.\n</p>\n</div>\n\n<div class=\"feature-card\">\n<h4>Performance Focused</h4>\n<p>\nOur compiler generates highly optimized JavaScript with automatic dead code elimination\nand intelligent component splitting.\n</p>\n</div>\n\n<div class=\"feature-card\">\n<h4>SEO by Default</h4>\n<p>\nServer-side rendering is built-in, not an afterthought. Your SPA is fully crawlable\nand indexable from day one.\n</p>\n</div>\n\n<div class=\"feature-card\">\n<h4>Developer Tools</h4>\n<p>\nRich debugging experience with Vue DevTools integration, comprehensive error messages,\nand development-friendly source maps.\n</p>\n</div>\n\n<div class=\"feature-card\">\n<h4>Laravel Ecosystem</h4>\n<p>\nFull compatibility with Laravel packages, middleware, events, and all the tools\nyou're already using in your Laravel projects.\n</p>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Community & Support -->\n<section class=\"py-5\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">Community & Support</h2>\n\n<div class=\"row\">\n<div class=\"col-6\">\n<h3>Open Source</h3>\n<p>\nOne Laravel is proudly open source, licensed under MIT. We believe great tools\nshould be accessible to everyone, regardless of budget or company size.\n</p>\n\n<h3>Community Driven</h3>\n<p>\nOur roadmap is shaped by real developer needs. Every feature request is considered,\nevery bug report is valued, and every contribution is welcomed.\n</p>\n\n<a href=\"https://github.com/one-laravel/framework\" class=\"btn btn-outline\" target=\"_blank\">\nView on GitHub \n</a>\n</div>\n\n<div class=\"col-6\">\n<div class=\"card\">\n<h4>Get Involved</h4>\n<ul style=\"list-style: none; padding: 0;\">\n<li style=\"margin-bottom: 1rem;\">\n<strong> Report Issues:</strong><br>\nFound a bug? Let us know on GitHub\n</li>\n<li style=\"margin-bottom: 1rem;\">\n<strong> Feature Requests:</strong><br>\nHave an idea? Start a discussion\n</li>\n<li style=\"margin-bottom: 1rem;\">\n<strong> Documentation:</strong><br>\nHelp improve our docs\n</li>\n<li style=\"margin-bottom: 1rem;\">\n<strong> Community:</strong><br>\nJoin our Discord server\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Future Roadmap -->\n<section class=\"py-5\" style=\"background: var(--gradient-primary); color: white;\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">What's Coming Next</h2>\n\n<div class=\"row\">\n<div class=\"col-3\">\n<div style=\"text-align: center; margin-bottom: 2rem;\">\n<h4>Q1 2025</h4>\n<ul style=\"list-style: none; padding: 0; opacity: 0.9;\">\n<li> Mobile optimizations</li>\n<li> Testing utilities</li>\n<li> Performance profiler</li>\n</ul>\n</div>\n</div>\n\n<div class=\"col-3\">\n<div style=\"text-align: center; margin-bottom: 2rem;\">\n<h4>Q2 2025</h4>\n<ul style=\"list-style: none; padding: 0; opacity: 0.9;\">\n<li> Component library</li>\n<li> CLI improvements</li>\n<li> IDE extensions</li>\n</ul>\n</div>\n</div>\n\n<div class=\"col-3\">\n<div style=\"text-align: center; margin-bottom: 2rem;\">\n<h4>Q3 2025</h4>\n<ul style=\"list-style: none; padding: 0; opacity: 0.9;\">\n<li> PWA support</li>\n<li> Offline capabilities</li>\n<li> Advanced routing</li>\n</ul>\n</div>\n</div>\n\n<div class=\"col-3\">\n<div style=\"text-align: center; margin-bottom: 2rem;\">\n<h4>Q4 2025</h4>\n<ul style=\"list-style: none; padding: 0; opacity: 0.9;\">\n<li> Real-time features</li>\n<li> Advanced animations</li>\n<li> Enterprise tools</li>\n</ul>\n</div>\n</div>\n</div>\n\n<div class=\"text-center mt-4\">\n<a href=\"${App.View.escString(App.Helper.url('/contact'))}\" class=\"btn btn-secondary\" data-navigate=\"/web/contact\">\nShare Your Ideas\n</a>\n</div>\n</div>\n</section>`, 'html')}\n\n${this.__section('styles', `<style>\n.timeline-item::before {\ncontent: '';\nposition: absolute;\nleft: 1rem;\ntop: 2rem;\nbottom: -3rem;\nwidth: 2px;\nbackground: var(--bg-light);\n}\n\n.timeline-item:last-child::before {\ndisplay: none;\n}\n\n@media (max-width: 768px) {\n.timeline-item {\npadding-left: 2rem !important;\n}\n\n.timeline-item > div:first-child {\nwidth: 1.5rem !important;\nheight: 1.5rem !important;\nfont-size: 0.8rem;\n}\n\n.timeline-item::before {\nleft: 0.75rem;\n}\n}\n</style>`, 'html')}`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return this.__extends('layouts.base');\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebPagesHome($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.pages.home';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.pages.home', {\n        superView: 'layouts.base',\n        hasSuperView: true,\n        viewType: 'view',\n        sections: {\n        \"meta:title\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:description\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:keywords\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"content\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"scripts\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        }\n    },\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: true,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [\"content\",\"scripts\"],\n        renderSections: [\"meta:title\",\"meta:description\",\"meta:keywords\",\"content\",\"scripts\"],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n${this.__section('meta:title', 'One Laravel - Advanced SPA Framework', 'string')}\n${this.__section('meta:description', 'One Laravel combines Laravel\\'s powerful backend with modern SPA capabilities for lightning-fast, reactive web applications.', 'string')}\n${this.__section('meta:keywords', 'Laravel, SPA, PHP, JavaScript, Framework, Reactive, One Laravel, Web Development', 'string')}\n\n${this.__section('content', `<!-- Hero Section -->\n<section class=\"hero\">\n<div class=\"container\">\n<h1 class=\"fade-in\">One Laravel</h1>\n<p class=\"fade-in\">The next-generation SPA framework that seamlessly blends Laravel's power with modern frontend reactivity</p>\n\n<div class=\"hero-actions\" style=\"margin-top: 2rem;\">\n<a href=\"${App.View.escString(App.Helper.url('/docs'))}\" class=\"btn btn-large\" data-navigate=\"/web/docs\">Get Started</a>\n<a href=\"${App.View.escString(App.Helper.url('/examples'))}\" class=\"btn btn-secondary btn-large\" data-navigate=\"/web/examples\">View Examples</a>\n</div>\n\n<!-- Quick Demo -->\n<div class=\"hero-demo\" style=\"margin-top: 3rem; text-align: left;\">\n<div class=\"code-block\">\n<pre><code class=\"syntax-highlight\">// Create reactive components with One Laravel\n@useState(0, $count, $setCountFn)\n&lt;div&gt;\n    &lt;h3&gt;Counter: {{ count }}&lt;/h3&gt;\n    &lt;button data-click=\"updateCount\"&gt;Increment&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction updateCount() {\n    this.updateStateByKey('count', count + 1);\n}\n&lt;/script&gt;\n</code></pre>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Features Section -->\n<section class=\"features\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">Why Choose One Laravel?</h2>\n\n<div class=\"features-grid\">\n<!-- Feature 1: Laravel Integration -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">Laravel Integration</h3>\n<p class=\"feature-description\">\nBuilt on top of Laravel, inheriting all its powerful features like Eloquent ORM,\nmiddleware, authentication, and more. No need to learn a completely new framework.\n</p>\n</div>\n\n<!-- Feature 2: Reactive Frontend -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">Reactive Frontend</h3>\n<p class=\"feature-description\">\nCreate dynamic, reactive user interfaces with automatic state management.\nComponents update automatically when data changes, just like Vue or React.\n</p>\n</div>\n\n<!-- Feature 3: SPA Performance -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">SPA Performance</h3>\n<p class=\"feature-description\">\nLightning-fast navigation with client-side routing. Pages load instantly\nwithout full page refreshes, providing a native app-like experience.\n</p>\n</div>\n\n<!-- Feature 4: Blade Templates -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">Enhanced Blade</h3>\n<p class=\"feature-description\">\nUse familiar Blade syntax with added superpowers. Create components,\nmanage state, and handle events with intuitive directives.\n</p>\n</div>\n\n<!-- Feature 5: No Build Step -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">No Complex Build</h3>\n<p class=\"feature-description\">\nWrite your frontend code in PHP and Blade templates. Our compiler\nautomatically generates optimized JavaScript. No webpack configuration needed.\n</p>\n</div>\n\n<!-- Feature 6: SEO Friendly -->\n<div class=\"feature-card\">\n<div class=\"feature-icon\"></div>\n<h3 class=\"feature-title\">SEO Optimized</h3>\n<p class=\"feature-description\">\nServer-side rendering ensures your SPA is fully SEO-friendly.\nSearch engines can crawl and index your content properly.\n</p>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Code Example Section -->\n<section class=\"py-5\" style=\"background: var(--bg-secondary);\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">See It In Action</h2>\n\n<div class=\"example-container\">\n<div class=\"example-header\">Creating a Todo App Component</div>\n\n<div class=\"example-code\">\n<pre><code class=\"syntax-highlight\">\n@const([$todos, $setTodos] = useState([['text' => 'Learn One Laravel', 'completed' => false], ['text' => 'Build a SPA', 'completed' => false]]));\n@const([$newTodo, $setNewTodo] = useState(''));\n\n&lt;div class=\"todo-app\"&gt;\n    &lt;h2&gt;My Todo List&lt;/h2&gt;\n    \n    &lt;form data-submit=\"addTodo\"&gt;\n        &lt;input type=\"text\" \n               data-input=\"updateNewTodo\" \n               value=\"{{ newTodo }}\" \n               placeholder=\"Add a new todo...\"&gt;\n        &lt;button type=\"submit\"&gt;Add&lt;/button&gt;\n    &lt;/form&gt;\n    \n    &lt;ul&gt;\n        @verbatim\n            \n        @foreach($todos as $index => $todo)\n            &lt;li class=\"{{ $todo['completed'] ? 'completed' : '' }}\"&gt;\n                &lt;span&gt;{{ $todo['text'] }}&lt;/span&gt;\n                &lt;button data-click=\"toggleTodo({{ $index }})\"&gt;Toggle&lt;/button&gt;\n                &lt;button data-click=\"removeTodo({{ $index }})\"&gt;Remove&lt;/button&gt;\n            &lt;/li&gt;\n        @endforeach\n    &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction addTodo(event) {\n    event.preventDefault();\n    if (newTodo.trim()) {\n        const newTodos = [...todos, { text: newTodo, completed: false }];\n        this.updateStateByKey('todos', newTodos);\n        this.updateStateByKey('newTodo', '');\n    }\n}\n\nfunction updateNewTodo(event) {\n    this.updateStateByKey('newTodo', event.target.value);\n}\n\nfunction toggleTodo(index) {\n    const updatedTodos = [...todos];\n    updatedTodos[index].completed = !updatedTodos[index].completed;\n    this.updateStateByKey('todos', updatedTodos);\n}\n\nfunction removeTodo(index) {\n    const updatedTodos = todos.filter((_, i) => i !== index);\n    this.updateStateByKey('todos', updatedTodos);\n}\n&lt;/script&gt;\n@endverbatim\n</code></pre>\n</div>\n\n<div class=\"example-preview\">\n<strong>Result:</strong> A fully functional, reactive todo application with automatic state management and DOM updates.\n</div>\n</div>\n\n<div class=\"text-center mt-4\">\n<a href=\"${App.View.escString(App.Helper.url('/examples'))}\" class=\"btn btn-outline\" data-navigate=\"/web/examples\">\nView More Examples \n</a>\n</div>\n</div>\n</section>\n\n<!-- Stats Section -->\n<section class=\"py-5\">\n<div class=\"container\">\n<h2 class=\"text-center mb-5\">Built for Performance</h2>\n\n<div class=\"stats-grid\">\n<div class=\"stat-card\">\n<span class=\"stat-number\">< 50KB</span>\n<div class=\"stat-label\">Runtime Size</div>\n</div>\n<div class=\"stat-card\">\n<span class=\"stat-number\">< 100ms</span>\n<div class=\"stat-label\">Navigation Speed</div>\n</div>\n<div class=\"stat-card\">\n<span class=\"stat-number\">100%</span>\n<div class=\"stat-label\">Laravel Compatible</div>\n</div>\n<div class=\"stat-card\">\n<span class=\"stat-number\">0</span>\n<div class=\"stat-label\">Build Dependencies</div>\n</div>\n</div>\n</div>\n</section>\n\n<!-- Getting Started Section -->\n<section class=\"py-5\" style=\"background: var(--gradient-primary); color: white;\">\n<div class=\"container text-center\">\n<h2 class=\"mb-3\">Ready to Get Started?</h2>\n<p class=\"mb-4\" style=\"font-size: 1.2rem; opacity: 0.9;\">\nInstall One Laravel and build your first reactive application in minutes\n</p>\n\n<div class=\"code-block\" style=\"text-align: left; margin: 2rem 0;\">\n<pre><code># Install via Composer\ncomposer create-project one-laravel/laravel my-app\n\n# Start developing\ncd my-app\nphp artisan serve</code></pre>\n</div>\n\n<a href=\"${App.View.escString(App.Helper.url('/docs'))}\" class=\"btn btn-secondary btn-large\" data-navigate=\"/web/docs\">\nRead the Documentation\n</a>\n</div>\n</section>`, 'html')}\n\n${this.__section('scripts', `<script>\n// Add some interactive elements to the home page\ndocument.addEventListener('DOMContentLoaded', function() {\n// Animate hero elements on load\nconst heroElements = document.querySelectorAll('.hero .fade-in');\nheroElements.forEach((el, index) => {\nsetTimeout(() => {\nel.style.opacity = '1';\nel.style.transform = 'translateY(0)';\n}, index * 200);\n});\n\n// Add hover effects to feature cards\nconst featureCards = document.querySelectorAll('.feature-card');\nfeatureCards.forEach(card => {\ncard.addEventListener('mouseenter', function() {\nthis.style.transform = 'translateY(-8px) scale(1.02)';\n});\n\ncard.addEventListener('mouseleave', function() {\nthis.style.transform = 'translateY(0) scale(1)';\n});\n});\n\n// Animate stats when they come into view\nconst observerOptions = {\nthreshold: 0.5,\nrootMargin: '0px'\n};\n\nconst statsObserver = new IntersectionObserver((entries) => {\nentries.forEach(entry => {\nif (entry.isIntersecting) {\nconst statNumber = entry.target.querySelector('.stat-number');\nconst originalText = statNumber.textContent;\n\n// Simple counter animation for numbers\nif (originalText.includes('ms') || originalText.includes('KB')) {\nlet start = 0;\nconst end = parseInt(originalText);\nconst duration = 1000;\nconst increment = end / (duration / 16);\n\nconst counter = setInterval(() => {\nstart += increment;\nif (start >= end) {\nstart = end;\nclearInterval(counter);\n}\nstatNumber.textContent = originalText.replace(/\\d+/, Math.floor(start));\n}, 16);\n}\n\nstatsObserver.unobserve(entry.target);\n}\n});\n}, observerOptions);\n\ndocument.querySelectorAll('.stat-card').forEach(card => {\nstatsObserver.observe(card);\n});\n});\n</script>\n\n<style>\n.hero .fade-in {\nopacity: 0;\ntransform: translateY(30px);\ntransition: all 0.6s ease-out;\n}\n\n.btn-large {\npadding: 1rem 2rem;\nfont-size: 1.1rem;\n}\n\n.hero-actions {\ndisplay: flex;\ngap: 1rem;\njustify-content: center;\nflex-wrap: wrap;\n}\n\n.hero-demo {\nmax-width: 800px;\nmargin: 3rem auto 0;\n}\n\n@media (max-width: 768px) {\n.hero h1 {\nfont-size: 2.5rem;\n}\n\n.hero p {\nfont-size: 1.1rem;\n}\n\n.hero-actions {\nflex-direction: column;\nalign-items: center;\n}\n\n.btn-large {\nwidth: 100%;\nmax-width: 300px;\n}\n}\n</style>`, 'html')}`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return this.__extends('layouts.base');\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebPagesExamples($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.pages.examples';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.pages.examples', {\n        superView: 'layouts.base',\n        hasSuperView: true,\n        viewType: 'view',\n        sections: {\n        \"meta:title\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:description\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:keywords\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"content\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"scripts\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        }\n    },\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: true,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [\"content\",\"scripts\"],\n        renderSections: [\"meta:title\",\"meta:description\",\"meta:keywords\",\"content\",\"scripts\"],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n${this.__section('meta:title', 'Examples - One Laravel Framework', 'string')}\n${this.__section('meta:description', 'Interactive examples and demos showcasing One Laravel features - from simple counters to complex applications.', 'string')}\n${this.__section('meta:keywords', 'One Laravel examples, Laravel SPA demos, reactive components examples', 'string')}\n\n${this.__section('content', `<!-- Hero Section -->\n<section class=\"hero\" style=\"padding: 3rem 0;\">\n<div class=\"container\">\n<h1>Interactive Examples</h1>\n<p>Live demos and code examples showcasing One Laravel's capabilities</p>\n</div>\n</section>\n\n<section class=\"py-4\">\n<div class=\"container\">\n<!-- Example Categories -->\n<div class=\"examples-filter mb-4\">\n<div class=\"row\">\n<div class=\"col-12\">\n<div class=\"filter-tabs\">\n<button class=\"filter-tab active\" data-filter=\"all\">All Examples</button>\n<button class=\"filter-tab\" data-filter=\"basic\">Basic</button>\n<button class=\"filter-tab\" data-filter=\"forms\">Forms</button>\n<button class=\"filter-tab\" data-filter=\"api\">API Integration</button>\n<button class=\"filter-tab\" data-filter=\"advanced\">Advanced</button>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Examples Grid -->\n<div class=\"examples-grid\">\n<div class=\"row\">\n<!-- Counter Example -->\n<div class=\"col-lg-6 mb-4\" data-category=\"basic\">\n<div class=\"example-card\">\n<div class=\"example-header\">\n<h3>Reactive Counter</h3>\n<div class=\"example-tags\">\n<span class=\"tag tag-basic\">Basic</span>\n<span class=\"tag tag-state\">State</span>\n</div>\n</div>\n\n<div class=\"example-description\">\n<p>A simple counter demonstrating reactive state management and event handling.</p>\n</div>\n\n<div class=\"example-demo\">\n<div class=\"demo-container\" id=\"counter-demo\">\n<div class=\"counter-component\">\n<h4>Count: <span id=\"counter-value\">0</span></h4>\n<div class=\"btn-group\">\n<button class=\"btn btn-outline-secondary\" onclick=\"updateCounter(-1)\">-</button>\n<button class=\"btn btn-outline-secondary\" onclick=\"updateCounter(1)\">+</button>\n<button class=\"btn btn-outline-secondary\" onclick=\"resetCounter()\">Reset</button>\n</div>\n</div>\n</div>\n</div>\n\n<div class=\"example-code\">\n<div class=\"code-tabs\">\n<button class=\"code-tab active\" data-lang=\"blade\">Blade</button>\n<button class=\"code-tab\" data-lang=\"js\">JavaScript</button>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block active\" data-lang=\"blade\">\n<pre><code class=\"syntax-highlight\">\n\n&lt;div class=\"counter-component\"&gt;\n    &lt;h4&gt;Count: ${App.View.escString(count)}&lt;/h4&gt;\n    &lt;div class=\"btn-group\"&gt;\n        &lt;button data-click=\"decrement\"&gt;-&lt;/button&gt;\n        &lt;button data-click=\"increment\"&gt;+&lt;/button&gt;\n        &lt;button data-click=\"reset\"&gt;Reset&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"js\">\n<pre><code class=\"syntax-highlight\">function increment() {\n    this.updateStateByKey('count', count + 1);\n}\n\nfunction decrement() {\n    this.updateStateByKey('count', count - 1);\n}\n\nfunction reset() {\n    this.updateStateByKey('count', 0);\n}</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Todo List Example -->\n<div class=\"col-lg-6 mb-4\" data-category=\"basic forms\">\n<div class=\"example-card\">\n<div class=\"example-header\">\n<h3>Todo List</h3>\n<div class=\"example-tags\">\n<span class=\"tag tag-basic\">Basic</span>\n<span class=\"tag tag-forms\">Forms</span>\n<span class=\"tag tag-list\">Lists</span>\n</div>\n</div>\n\n<div class=\"example-description\">\n<p>Interactive todo list with add, toggle, and delete functionality.</p>\n</div>\n\n<div class=\"example-demo\">\n<div class=\"demo-container\" id=\"todo-demo\">\n<div class=\"todo-app\">\n<div class=\"input-group mb-3\">\n<input type=\"text\" id=\"todo-input\" class=\"form-control\" placeholder=\"Add new todo...\">\n<button class=\"btn btn-primary\" onclick=\"addTodo()\">Add</button>\n</div>\n<ul id=\"todo-list\" class=\"list-unstyled\">\n<!-- Todos will be added here -->\n</ul>\n</div>\n</div>\n</div>\n\n<div class=\"example-code\">\n<div class=\"code-tabs\">\n<button class=\"code-tab active\" data-lang=\"blade\">Blade</button>\n<button class=\"code-tab\" data-lang=\"js\">JavaScript</button>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block active\" data-lang=\"blade\">\n<pre><code class=\"syntax-highlight\">\n\n&lt;div class=\"todo-app\"&gt;\n    &lt;div class=\"input-group\"&gt;\n        &lt;input type=\"text\"\n               data-model=\"newTodo\"\n               placeholder=\"Add todo...\"&gt;\n        &lt;button data-click=\"addTodo\"&gt;Add&lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;ul&gt;\n        @foreach($todos as $index => $todo)\n            &lt;li class=\"${App.View.escString(todo['completed'] ? 'completed' : '')}\"&gt;\n                &lt;input type=\"checkbox\"\n                       data-change=\"toggleTodo(${App.View.escString(index)})\"\n                       ${App.View.escString(todo['completed'] ? 'checked' : '')}&gt;\n                ${App.View.escString(todo['text'])}\n                &lt;button data-click=\"deleteTodo(${App.View.escString(index)})\"&gt;&lt;/button&gt;\n            &lt;/li&gt;\n        @endforeach\n    &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"js\">\n<pre><code class=\"syntax-highlight\">function addTodo() {\n    if (newTodo.trim()) {\n        const newTodos = [...todos, {\n            text: newTodo,\n            completed: false\n        }];\n        this.updateRealState({\n            todos: newTodos,\n            newTodo: ''\n        });\n    }\n}\n\nfunction toggleTodo(index) {\n    const updatedTodos = [...todos];\n    updatedTodos[index].completed = !updatedTodos[index].completed;\n    this.updateStateByKey('todos', updatedTodos);\n}\n\nfunction deleteTodo(index) {\n    const filteredTodos = todos.filter((_, i) => i !== index);\n    this.updateStateByKey('todos', filteredTodos);\n}</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- API Integration Example -->\n<div class=\"col-lg-6 mb-4\" data-category=\"api advanced\">\n<div class=\"example-card\">\n<div class=\"example-header\">\n<h3>User Directory</h3>\n<div class=\"example-tags\">\n<span class=\"tag tag-api\">API</span>\n<span class=\"tag tag-advanced\">Advanced</span>\n<span class=\"tag tag-async\">Async</span>\n</div>\n</div>\n\n<div class=\"example-description\">\n<p>Fetch and display users from an API with loading states and error handling.</p>\n</div>\n\n<div class=\"example-demo\">\n<div class=\"demo-container\" id=\"users-demo\">\n<div class=\"users-app\">\n<div class=\"mb-3\">\n<button class=\"btn btn-primary\" onclick=\"fetchUsers()\">Load Users</button>\n<button class=\"btn btn-outline-secondary\" onclick=\"clearUsers()\">Clear</button>\n</div>\n<div id=\"users-loading\" class=\"text-center\" style=\"display: none;\">\n<div class=\"spinner-border\" role=\"status\">\n<span class=\"visually-hidden\">Loading...</span>\n</div>\n</div>\n<div id=\"users-list\"></div>\n</div>\n</div>\n</div>\n\n<div class=\"example-code\">\n<div class=\"code-tabs\">\n<button class=\"code-tab active\" data-lang=\"blade\">Blade</button>\n<button class=\"code-tab\" data-lang=\"js\">JavaScript</button>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block active\" data-lang=\"blade\">\n<pre><code class=\"syntax-highlight\">\n\n&lt;div class=\"users-app\"&gt;\n    &lt;button data-click=\"fetchUsers\"&gt;Load Users&lt;/button&gt;\n\n    @if($loading)\n        &lt;div class=\"loading\"&gt;Loading...&lt;/div&gt;\n    @endif\n\n    @if($error)\n        &lt;div class=\"alert alert-danger\"&gt;${App.View.escString(error)}&lt;/div&gt;\n    @endif\n\n    @if(!empty($users))\n        &lt;div class=\"users-grid\"&gt;\n            @foreach($users as $user)\n                &lt;div class=\"user-card\"&gt;\n                    &lt;h4&gt;${App.View.escString(user['name'])}&lt;/h4&gt;\n                    &lt;p&gt;${App.View.escString(user['email'])}&lt;/p&gt;\n                    &lt;small&gt;${App.View.escString(user['company']['name'])}&lt;/small&gt;\n                &lt;/div&gt;\n            @endforeach\n        &lt;/div&gt;\n    @endif\n&lt;/div&gt;</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"js\">\n<pre><code class=\"syntax-highlight\">async function fetchUsers() {\n    this.updateRealState({\n        loading: true,\n        error: null\n    });\n\n    try {\n        const response = await fetch('https://jsonplaceholder.typicode.com/users');\n        const users = await response.json();\n\n        this.updateRealState({\n            users: users,\n            loading: false\n        });\n    } catch (error) {\n        this.updateRealState({\n            error: 'Failed to load users: ' + error.message,\n            loading: false\n        });\n    }\n}</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Dynamic Form Example -->\n<div class=\"col-lg-6 mb-4\" data-category=\"forms advanced\">\n<div class=\"example-card\">\n<div class=\"example-header\">\n<h3>Dynamic Form Builder</h3>\n<div class=\"example-tags\">\n<span class=\"tag tag-forms\">Forms</span>\n<span class=\"tag tag-advanced\">Advanced</span>\n<span class=\"tag tag-validation\">Validation</span>\n</div>\n</div>\n\n<div class=\"example-description\">\n<p>Build forms dynamically with real-time validation and conditional fields.</p>\n</div>\n\n<div class=\"example-demo\">\n<div class=\"demo-container\" id=\"form-demo\">\n<div class=\"dynamic-form\">\n<div class=\"mb-3\">\n<label class=\"form-label\">Name *</label>\n<input type=\"text\" class=\"form-control\" id=\"form-name\" onInput=\"validateForm()\">\n<div class=\"form-error\" id=\"name-error\"></div>\n</div>\n\n<div class=\"mb-3\">\n<label class=\"form-label\">Email *</label>\n<input type=\"email\" class=\"form-control\" id=\"form-email\" onInput=\"validateForm()\">\n<div class=\"form-error\" id=\"email-error\"></div>\n</div>\n\n<div class=\"mb-3\">\n<label class=\"form-label\">Role</label>\n<select class=\"form-control\" id=\"form-role\" onChange=\"handleRoleChange()\">\n<option value=\"\">Select role...</option>\n<option value=\"user\">User</option>\n<option value=\"admin\">Admin</option>\n<option value=\"developer\">Developer</option>\n</select>\n</div>\n\n<div id=\"conditional-fields\" style=\"display: none;\"></div>\n\n<button class=\"btn btn-primary\" id=\"submit-btn\" disabled onclick=\"submitForm()\">\nSubmit Form\n</button>\n</div>\n</div>\n</div>\n\n<div class=\"example-code\">\n<div class=\"code-tabs\">\n<button class=\"code-tab active\" data-lang=\"blade\">Blade</button>\n<button class=\"code-tab\" data-lang=\"js\">JavaScript</button>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block active\" data-lang=\"blade\">\n<pre><code class=\"syntax-highlight\">\n\n&lt;form data-submit=\"handleSubmit\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Name *&lt;/label&gt;\n        &lt;input type=\"text\"\n               data-model=\"form.name\"\n               data-input=\"validateField('name')\"&gt;\n        @if(isset($errors['name']))\n            &lt;div class=\"error\"&gt;${App.View.escString(errors['name'])}&lt;/div&gt;\n        @endif\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label&gt;Role&lt;/label&gt;\n        &lt;select data-model=\"form.role\" data-change=\"handleRoleChange\"&gt;\n            &lt;option value=\"\"&gt;Select...&lt;/option&gt;\n            &lt;option value=\"user\"&gt;User&lt;/option&gt;\n            &lt;option value=\"admin\"&gt;Admin&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n\n    @if($form['role'] === 'admin')\n        &lt;div class=\"form-group\"&gt;\n            &lt;label&gt;Admin Level&lt;/label&gt;\n            &lt;input type=\"number\" data-model=\"form.adminLevel\"&gt;\n        &lt;/div&gt;\n    @endif\n\n    &lt;button type=\"submit\"\n            ${App.View.escString(!isValid ? 'disabled' : '')}&gt;\n        Submit\n    &lt;/button&gt;\n&lt;/form&gt;</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"js\">\n<pre><code class=\"syntax-highlight\">function validateField(field) {\n    const errors = { ...this.errors };\n    const value = this.form[field];\n\n    switch(field) {\n        case 'name':\n            errors.name = value.length < 2 ? 'Name must be at least 2 characters' : null;\n            break;\n        case 'email':\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            errors.email = !emailRegex.test(value) ? 'Invalid email format' : null;\n            break;\n    }\n\n    const isValid = Object.values(errors).every(error => !error);\n\n    this.updateRealState({\n        errors: errors,\n        isValid: isValid\n    });\n}\n\nfunction handleRoleChange() {\n    // Conditional field logic based on role\n    if (this.form.role === 'admin') {\n        this.updateStateByKey('form.adminLevel', 1);\n    }\n}</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Real-time Chat Example -->\n<div class=\"col-lg-12 mb-4\" data-category=\"advanced api\">\n<div class=\"example-card\">\n<div class=\"example-header\">\n<h3>Real-time Chat Interface</h3>\n<div class=\"example-tags\">\n<span class=\"tag tag-advanced\">Advanced</span>\n<span class=\"tag tag-api\">API</span>\n<span class=\"tag tag-realtime\">Real-time</span>\n<span class=\"tag tag-websockets\">WebSockets</span>\n</div>\n</div>\n\n<div class=\"example-description\">\n<p>Complete chat interface with real-time messaging, user presence, and typing indicators.</p>\n</div>\n\n<div class=\"example-demo\">\n<div class=\"demo-container\" id=\"chat-demo\">\n<div class=\"chat-app\">\n<div class=\"chat-header\">\n<h5>One Laravel Chat</h5>\n<div class=\"online-status\">\n<span class=\"status-dot online\"></span>\n<span id=\"user-count\">1 user online</span>\n</div>\n</div>\n\n<div class=\"chat-messages\" id=\"chat-messages\">\n<div class=\"message received\">\n<div class=\"message-avatar\"></div>\n<div class=\"message-content\">\n<div class=\"message-author\">System</div>\n<div class=\"message-text\">Welcome to One Laravel Chat! This is a demo.</div>\n<div class=\"message-time\">Just now</div>\n</div>\n</div>\n</div>\n\n<div class=\"typing-indicator\" id=\"typing-indicator\" style=\"display: none;\">\n<span>Someone is typing...</span>\n</div>\n\n<div class=\"chat-input\">\n<input type=\"text\" id=\"message-input\" placeholder=\"Type a message...\" onKeyPress=\"handleMessageKeyPress(event)\">\n<button class=\"btn btn-primary\" onclick=\"sendMessage()\">Send</button>\n</div>\n</div>\n</div>\n</div>\n\n<div class=\"example-code\">\n<div class=\"code-tabs\">\n<button class=\"code-tab active\" data-lang=\"blade\">Blade</button>\n<button class=\"code-tab\" data-lang=\"js\">JavaScript</button>\n<button class=\"code-tab\" data-lang=\"php\">PHP Backend</button>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block active\" data-lang=\"blade\">\n<pre><code class=\"syntax-highlight\">\n\n&lt;div class=\"chat-app\"&gt;\n    &lt;div class=\"chat-header\"&gt;\n        &lt;h5&gt;Chat Room&lt;/h5&gt;\n        &lt;div class=\"status ${App.View.escString(connected ? 'online' : 'offline')}\"&gt;\n            ${App.View.escString(connected ? 'Connected' : 'Disconnected')}\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"messages-container\"&gt;\n        @foreach($messages as $message)\n            &lt;div class=\"message ${App.View.escString(message['user'] === currentUser ? 'sent' : 'received')}\"&gt;\n                &lt;div class=\"message-author\"&gt;${App.View.escString(message['user'])}&lt;/div&gt;\n                &lt;div class=\"message-text\"&gt;${App.View.escString(message['text'])}&lt;/div&gt;\n                &lt;div class=\"message-time\"&gt;${App.View.escString(message['timestamp'])}&lt;/div&gt;\n            &lt;/div&gt;\n        @endforeach\n    &lt;/div&gt;\n\n    @if($typing)\n        &lt;div class=\"typing-indicator\"&gt;Someone is typing...&lt;/div&gt;\n    @endif\n\n    &lt;div class=\"message-input\"&gt;\n        &lt;input type=\"text\"\n               data-model=\"newMessage\"\n               data-keyup=\"handleTyping\"\n               data-keydown=\"handleEnter\"\n               placeholder=\"Type a message...\"&gt;\n        &lt;button data-click=\"sendMessage\"&gt;Send&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"js\">\n<pre><code class=\"syntax-highlight\">let websocket = null;\n\nfunction connectToChat() {\n    websocket = new WebSocket('ws://localhost:8080/chat');\n\n    websocket.onopen = () => {\n        this.updateStateByKey('connected', true);\n    };\n\n    websocket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n\n        if (data.type === 'message') {\n            const newMessages = [...this.messages, data.message];\n            this.updateStateByKey('messages', newMessages);\n        } else if (data.type === 'typing') {\n            this.updateStateByKey('typing', data.typing);\n        }\n    };\n\n    websocket.onclose = () => {\n        this.updateStateByKey('connected', false);\n        // Attempt to reconnect\n        setTimeout(connectToChat, 3000);\n    };\n}\n\nfunction sendMessage() {\n    if (this.newMessage.trim() && websocket) {\n        websocket.send(JSON.stringify({\n            type: 'message',\n            message: {\n                user: this.currentUser,\n                text: this.newMessage,\n                timestamp: new Date().toLocaleTimeString()\n            }\n        }));\n\n        this.updateStateByKey('newMessage', '');\n    }\n}\n\nfunction handleTyping() {\n    if (websocket) {\n        websocket.send(JSON.stringify({\n            type: 'typing',\n            user: this.currentUser,\n            typing: this.newMessage.length > 0\n        }));\n    }\n}</code></pre>\n</div>\n<div class=\"code-block\" data-lang=\"php\">\n<pre><code class=\"syntax-highlight\">&lt;?php\n// routes/channels.php\nuse Illuminate\\Support\\Facades\\Broadcast;\n\nBroadcast::channel('chat.{room}', function ($user, $room) {\n    return ['id' => $user->id, 'name' => $user->name];\n});\n\n// app/Events/MessageSent.php\nclass MessageSent implements ShouldBroadcast\n{\n    public function __construct(\n        public string $message,\n        public string $user,\n        public string $room = 'general'\n    ) {}\n\n    public function broadcastOn()\n    {\n        return new PrivateChannel('chat.' . $this->room);\n    }\n}\n\n// Controller\nclass ChatController extends Controller\n{\n    public function sendMessage(Request $request)\n    {\n        $message = $request->validate([\n            'message' => 'required|string|max:500',\n            'room' => 'required|string'\n        ]);\n\n        broadcast(new MessageSent(\n            $message['message'],\n            auth()->user()->name,\n            $message['room']\n        ));\n\n        return response()->json(['status' => 'sent']);\n    }\n}</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Call to Action -->\n<div class=\"text-center mt-5\">\n<div class=\"cta-section\">\n<h3>Ready to build your own?</h3>\n<p>Get started with One Laravel and create amazing reactive SPAs</p>\n<div class=\"btn-group\">\n<a href=\"${App.View.escString(App.Helper.url('/docs'))}\" class=\"btn btn-primary\" data-navigate=\"/web/docs\">\nView Documentation\n</a>\n<a href=\"https://github.com/one-laravel/framework\" class=\"btn btn-outline-primary\" target=\"_blank\">\nView on GitHub\n</a>\n</div>\n</div>\n</div>\n</div>\n</section>`, 'html')}\n\n${this.__section('scripts', `<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n// Filter functionality\ndocument.querySelectorAll('.filter-tab').forEach(tab => {\ntab.addEventListener('click', function() {\nconst filter = this.dataset.filter;\n\n// Update active tab\ndocument.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));\nthis.classList.add('active');\n\n// Filter examples\ndocument.querySelectorAll('[data-category]').forEach(example => {\nconst categories = example.dataset.category.split(' ');\nif (filter === 'all' || categories.includes(filter)) {\nexample.style.display = 'block';\n} else {\nexample.style.display = 'none';\n}\n});\n});\n});\n\n// Code tab switching\ndocument.querySelectorAll('.code-tab').forEach(tab => {\ntab.addEventListener('click', function() {\nconst lang = this.dataset.lang;\nconst container = this.closest('.example-code');\n\n// Update active tab\ncontainer.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));\nthis.classList.add('active');\n\n// Show corresponding code block\ncontainer.querySelectorAll('.code-block').forEach(block => {\nblock.classList.remove('active');\nif (block.dataset.lang === lang) {\nblock.classList.add('active');\n}\n});\n});\n});\n\ninitializeDemos();\n});\n\n// Initialize interactive demos\nfunction initializeDemos() {\n// Counter demo\nlet counterValue = 0;\nwindow.updateCounter = function(delta) {\ncounterValue += delta;\ndocument.getElementById('counter-value').textContent = counterValue;\n};\n\nwindow.resetCounter = function() {\ncounterValue = 0;\ndocument.getElementById('counter-value').textContent = counterValue;\n};\n\n// Todo demo\nlet todos = [];\nwindow.addTodo = function() {\nconst input = document.getElementById('todo-input');\nif (input.value.trim()) {\ntodos.push({\nid: Date.now(),\ntext: input.value,\ncompleted: false\n});\ninput.value = '';\nrenderTodos();\n}\n};\n\nwindow.toggleTodo = function(id) {\nconst todo = todos.find(t => t.id === id);\nif (todo) {\ntodo.completed = !todo.completed;\nrenderTodos();\n}\n};\n\nwindow.deleteTodo = function(id) {\ntodos = todos.filter(t => t.id !== id);\nrenderTodos();\n};\n\nfunction renderTodos() {\nconst list = document.getElementById('todo-list');\nlist.innerHTML = todos.map(todo => \\`\n<li class=\"todo-item ${todo.completed ? 'completed' : ''}\">\n<input type=\"checkbox\" ${todo.completed ? 'checked' : ''}\nonchange=\"toggleTodo(${todo.id})\">\n<span class=\"todo-text\">${todo.text}</span>\n<button class=\"btn btn-sm btn-outline-danger\" onclick=\"deleteTodo(${todo.id})\"></button>\n</li>\n\\`).join('');\n}\n\n// Users demo\nwindow.fetchUsers = async function() {\nconst loading = document.getElementById('users-loading');\nconst list = document.getElementById('users-list');\n\nloading.style.display = 'block';\nlist.innerHTML = '';\n\ntry {\nconst response = await fetch('https://jsonplaceholder.typicode.com/users');\nconst users = await response.json();\n\nloading.style.display = 'none';\nlist.innerHTML = users.slice(0, 4).map(user => \\`\n<div class=\"user-card mb-3 p-3 border rounded\">\n<h6>${user.name}</h6>\n<p class=\"mb-1\">${user.email}</p>\n<small class=\"text-muted\">${user.company.name}</small>\n</div>\n\\`).join('');\n} catch (error) {\nloading.style.display = 'none';\nlist.innerHTML = \\`<div class=\"alert alert-danger\">Error: ${error.message}</div>\\`;\n}\n};\n\nwindow.clearUsers = function() {\ndocument.getElementById('users-list').innerHTML = '';\n};\n\n// Form demo\nwindow.validateForm = function() {\nconst name = document.getElementById('form-name').value;\nconst email = document.getElementById('form-email').value;\nconst submitBtn = document.getElementById('submit-btn');\n\nconst nameError = document.getElementById('name-error');\nconst emailError = document.getElementById('email-error');\n\nlet valid = true;\n\nif (name.length < 2) {\nnameError.textContent = 'Name must be at least 2 characters';\nvalid = false;\n} else {\nnameError.textContent = '';\n}\n\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\nif (!emailRegex.test(email)) {\nemailError.textContent = 'Please enter a valid email';\nvalid = false;\n} else {\nemailError.textContent = '';\n}\n\nsubmitBtn.disabled = !valid;\n};\n\nwindow.handleRoleChange = function() {\nconst role = document.getElementById('form-role').value;\nconst conditionalFields = document.getElementById('conditional-fields');\n\nif (role === 'admin') {\nconditionalFields.style.display = 'block';\nconditionalFields.innerHTML = \\`\n<div class=\"mb-3\">\n<label class=\"form-label\">Admin Level</label>\n<select class=\"form-control\">\n<option>Level 1</option>\n<option>Level 2</option>\n<option>Level 3</option>\n</select>\n</div>\n\\`;\n} else if (role === 'developer') {\nconditionalFields.style.display = 'block';\nconditionalFields.innerHTML = \\`\n<div class=\"mb-3\">\n<label class=\"form-label\">Programming Languages</label>\n<input type=\"text\" class=\"form-control\" placeholder=\"e.g., PHP, JavaScript, Python\">\n</div>\n\\`;\n} else {\nconditionalFields.style.display = 'none';\n}\n};\n\nwindow.submitForm = function() {\nalert('Form submitted successfully! (This is just a demo)');\n};\n\n// Chat demo\nwindow.handleMessageKeyPress = function(event) {\nif (event.key === 'Enter') {\nsendMessage();\n}\n};\n\nwindow.sendMessage = function() {\nconst input = document.getElementById('message-input');\nconst messages = document.getElementById('chat-messages');\n\nif (input.value.trim()) {\nconst messageHtml = \\`\n<div class=\"message sent\">\n<div class=\"message-avatar\"></div>\n<div class=\"message-content\">\n<div class=\"message-author\">You</div>\n<div class=\"message-text\">${input.value}</div>\n<div class=\"message-time\">${new Date().toLocaleTimeString()}</div>\n</div>\n</div>\n\\`;\n\nmessages.insertAdjacentHTML('beforeend', messageHtml);\ninput.value = '';\nmessages.scrollTop = messages.scrollHeight;\n\n// Simulate response\nsetTimeout(() => {\nconst responseHtml = \\`\n<div class=\"message received\">\n<div class=\"message-avatar\"></div>\n<div class=\"message-content\">\n<div class=\"message-author\">Bot</div>\n<div class=\"message-text\">Thanks for trying the One Laravel chat demo!</div>\n<div class=\"message-time\">${new Date().toLocaleTimeString()}</div>\n</div>\n</div>\n\\`;\nmessages.insertAdjacentHTML('beforeend', responseHtml);\nmessages.scrollTop = messages.scrollHeight;\n}, 1000);\n}\n};\n}\n</script>\n\n<style>\n.examples-filter {\nborder-bottom: 1px solid var(--border-color);\n}\n\n.filter-tabs {\ndisplay: flex;\ngap: 1rem;\nflex-wrap: wrap;\n}\n\n.filter-tab {\npadding: 0.75rem 1.5rem;\nborder: none;\nbackground: transparent;\ncolor: var(--text-secondary);\nborder-radius: 0.5rem;\ncursor: pointer;\ntransition: all 0.2s ease;\n}\n\n.filter-tab:hover {\nbackground: var(--bg-light);\ncolor: var(--text-primary);\n}\n\n.filter-tab.active {\nbackground: var(--primary-color);\ncolor: white;\n}\n\n.example-card {\nborder: 1px solid var(--border-color);\nborder-radius: 0.75rem;\noverflow: hidden;\nheight: 100%;\ntransition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.example-card:hover {\ntransform: translateY(-2px);\nbox-shadow: 0 8px 25px rgba(0,0,0,0.1);\n}\n\n.example-header {\npadding: 1.5rem;\nborder-bottom: 1px solid var(--border-color);\ndisplay: flex;\njustify-content: space-between;\nalign-items: flex-start;\n}\n\n.example-tags {\ndisplay: flex;\ngap: 0.5rem;\nflex-wrap: wrap;\n}\n\n.tag {\npadding: 0.25rem 0.75rem;\nborder-radius: 1rem;\nfont-size: 0.875rem;\nfont-weight: 500;\n}\n\n.tag-basic { background: var(--success-light); color: var(--success-dark); }\n.tag-forms { background: var(--info-light); color: var(--info-dark); }\n.tag-api { background: var(--warning-light); color: var(--warning-dark); }\n.tag-advanced { background: var(--danger-light); color: var(--danger-dark); }\n.tag-state { background: var(--primary-light); color: var(--primary-dark); }\n.tag-list { background: var(--secondary-light); color: var(--secondary-dark); }\n.tag-async { background: var(--purple-light); color: var(--purple-dark); }\n.tag-realtime { background: var(--orange-light); color: var(--orange-dark); }\n.tag-websockets { background: var(--teal-light); color: var(--teal-dark); }\n.tag-validation { background: var(--pink-light); color: var(--pink-dark); }\n\n.example-description {\npadding: 1rem 1.5rem;\nbackground: var(--bg-light);\n}\n\n.example-demo {\npadding: 1.5rem;\nbackground: white;\nborder-bottom: 1px solid var(--border-color);\n}\n\n.demo-container {\nmin-height: 150px;\n}\n\n.example-code {\nbackground: var(--code-bg);\n}\n\n.code-tabs {\ndisplay: flex;\nborder-bottom: 1px solid var(--border-color);\n}\n\n.code-tab {\npadding: 0.75rem 1rem;\nborder: none;\nbackground: transparent;\ncolor: var(--text-secondary);\ncursor: pointer;\nborder-bottom: 2px solid transparent;\n}\n\n.code-tab.active {\ncolor: var(--primary-color);\nborder-bottom-color: var(--primary-color);\n}\n\n.code-content {\nposition: relative;\n}\n\n.code-block {\ndisplay: none;\nmax-height: 400px;\noverflow-y: auto;\n}\n\n.code-block.active {\ndisplay: block;\n}\n\n.code-block pre {\nmargin: 0;\npadding: 1.5rem;\nbackground: transparent;\n}\n\n/* Demo-specific styles */\n.counter-component {\ntext-align: center;\npadding: 2rem;\n}\n\n.counter-component h4 {\nfont-size: 2rem;\nmargin-bottom: 1rem;\n}\n\n.todo-item {\ndisplay: flex;\nalign-items: center;\ngap: 0.75rem;\npadding: 0.75rem;\nborder: 1px solid var(--border-color);\nborder-radius: 0.5rem;\nmargin-bottom: 0.5rem;\n}\n\n.todo-item.completed .todo-text {\ntext-decoration: line-through;\nopacity: 0.6;\n}\n\n.user-card {\ntext-align: center;\n}\n\n.chat-app {\nborder: 1px solid var(--border-color);\nborder-radius: 0.5rem;\nheight: 400px;\ndisplay: flex;\nflex-direction: column;\n}\n\n.chat-header {\npadding: 1rem;\nborder-bottom: 1px solid var(--border-color);\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground: var(--bg-light);\n}\n\n.status-dot {\ndisplay: inline-block;\nwidth: 8px;\nheight: 8px;\nborder-radius: 50%;\nmargin-right: 0.5rem;\n}\n\n.status-dot.online {\nbackground: var(--success-color);\n}\n\n.chat-messages {\nflex: 1;\noverflow-y: auto;\npadding: 1rem;\n}\n\n.message {\ndisplay: flex;\ngap: 0.75rem;\nmargin-bottom: 1rem;\n}\n\n.message.sent {\nflex-direction: row-reverse;\n}\n\n.message-avatar {\nwidth: 32px;\nheight: 32px;\nborder-radius: 50%;\nbackground: var(--primary-light);\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nfont-size: 0.875rem;\n}\n\n.message-content {\nflex: 1;\nmax-width: 70%;\n}\n\n.message.sent .message-content {\ntext-align: right;\n}\n\n.message-author {\nfont-size: 0.875rem;\nfont-weight: 500;\ncolor: var(--text-secondary);\nmargin-bottom: 0.25rem;\n}\n\n.message-text {\nbackground: var(--bg-light);\npadding: 0.75rem;\nborder-radius: 1rem;\nword-wrap: break-word;\n}\n\n.message.sent .message-text {\nbackground: var(--primary-color);\ncolor: white;\n}\n\n.message-time {\nfont-size: 0.75rem;\ncolor: var(--text-secondary);\nmargin-top: 0.25rem;\n}\n\n.typing-indicator {\npadding: 0.5rem 1rem;\nfont-style: italic;\ncolor: var(--text-secondary);\nborder-top: 1px solid var(--border-color);\n}\n\n.chat-input {\ndisplay: flex;\ngap: 0.5rem;\npadding: 1rem;\nborder-top: 1px solid var(--border-color);\n}\n\n.chat-input input {\nflex: 1;\n}\n\n.form-error {\ncolor: var(--danger-color);\nfont-size: 0.875rem;\nmargin-top: 0.25rem;\n}\n\n.cta-section {\npadding: 3rem;\nbackground: var(--bg-light);\nborder-radius: 1rem;\ntext-align: center;\n}\n\n@media (max-width: 768px) {\n.filter-tabs {\njustify-content: center;\n}\n\n.example-header {\nflex-direction: column;\ngap: 1rem;\n}\n\n.chat-app {\nheight: 300px;\n}\n}\n</style>`, 'html')}`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return this.__extends('layouts.base');\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function WebPagesContact($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'web.pages.contact';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('web.pages.contact', {\n        superView: 'layouts.base',\n        hasSuperView: true,\n        viewType: 'view',\n        sections: {\n        \"meta:title\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:description\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"meta:keywords\":{\n            \"type\":\"short\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"content\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        },\n        \"scripts\":{\n            \"type\":\"long\",\n            \"preloader\":false,\n            \"useVars\":false,\n            \"script\":{}\n        }\n    },\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: true,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [\"content\",\"scripts\"],\n        renderSections: [\"meta:title\",\"meta:description\",\"meta:keywords\",\"content\",\"scripts\"],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n${this.__section('meta:title', 'Contact - One Laravel Framework', 'string')}\n${this.__section('meta:description', 'Get in touch with the One Laravel team - Support, contributions, and community resources.', 'string')}\n${this.__section('meta:keywords', 'One Laravel contact, support, community, contributions, help', 'string')}\n\n${this.__section('content', `<!-- Hero Section -->\n<section class=\"hero\" style=\"padding: 3rem 0;\">\n<div class=\"container\">\n<h1>Get in Touch</h1>\n<p>We'd love to hear from you. Reach out with questions, feedback, or contributions.</p>\n</div>\n</section>\n\n<section class=\"py-4\">\n<div class=\"container\">\n<div class=\"row\">\n<!-- Contact Information -->\n<div class=\"col-lg-8\">\n<div class=\"contact-content\">\n<!-- Contact Form -->\n<div class=\"contact-form-section mb-5\">\n<h2>Send Us a Message</h2>\n<p>Have a question about One Laravel? Want to contribute? We're here to help!</p>\n\n<form class=\"contact-form\" id=\"contact-form\">\n<div class=\"row\">\n<div class=\"col-md-6 mb-3\">\n<label for=\"name\" class=\"form-label\">Name *</label>\n<input type=\"text\" class=\"form-control\" id=\"name\" required>\n</div>\n<div class=\"col-md-6 mb-3\">\n<label for=\"email\" class=\"form-label\">Email *</label>\n<input type=\"email\" class=\"form-control\" id=\"email\" required>\n</div>\n</div>\n\n<div class=\"mb-3\">\n<label for=\"subject\" class=\"form-label\">Subject *</label>\n<select class=\"form-control\" id=\"subject\" required>\n<option value=\"\">Select a topic...</option>\n<option value=\"general\">General Question</option>\n<option value=\"technical\">Technical Support</option>\n<option value=\"bug\">Bug Report</option>\n<option value=\"feature\">Feature Request</option>\n<option value=\"contribution\">Contribution</option>\n<option value=\"partnership\">Partnership</option>\n</select>\n</div>\n\n<div class=\"mb-3\">\n<label for=\"message\" class=\"form-label\">Message *</label>\n<textarea class=\"form-control\" id=\"message\" rows=\"6\" required\nplaceholder=\"Tell us more about your question or feedback...\"></textarea>\n</div>\n\n<div class=\"mb-3\">\n<div class=\"form-check\">\n<input class=\"form-check-input\" type=\"checkbox\" id=\"newsletter\">\n<label class=\"form-check-label\" for=\"newsletter\">\nI'd like to receive updates about One Laravel\n</label>\n</div>\n</div>\n\n<button type=\"submit\" class=\"btn btn-primary btn-lg\">\n<i class=\"fas fa-paper-plane\"></i>\nSend Message\n</button>\n</form>\n\n<div id=\"form-result\" class=\"mt-3\" style=\"display: none;\"></div>\n</div>\n\n<!-- FAQ Section -->\n<div class=\"faq-section\">\n<h2>Frequently Asked Questions</h2>\n<div class=\"faq-list\">\n<div class=\"faq-item\">\n<div class=\"faq-question\" data-toggle=\"faq-1\">\n<h4>How do I get started with One Laravel?</h4>\n<i class=\"fas fa-chevron-down\"></i>\n</div>\n<div class=\"faq-answer\" id=\"faq-1\">\n<p>Getting started is easy! Install One Laravel via Composer with <code>composer create-project one-laravel/laravel my-app</code>, then follow our <a href=\"${App.View.escString(App.Helper.url('/docs'))}\" data-navigate=\"/web/docs\">quick start guide</a>.</p>\n</div>\n</div>\n\n<div class=\"faq-item\">\n<div class=\"faq-question\" data-toggle=\"faq-2\">\n<h4>Is One Laravel compatible with existing Laravel projects?</h4>\n<i class=\"fas fa-chevron-down\"></i>\n</div>\n<div class=\"faq-answer\" id=\"faq-2\">\n<p>Yes! One Laravel can be added to existing Laravel applications. Simply install the package and start using reactive components alongside your existing Blade templates.</p>\n</div>\n</div>\n\n<div class=\"faq-item\">\n<div class=\"faq-question\" data-toggle=\"faq-3\">\n<h4>How does One Laravel compare to other frontend frameworks?</h4>\n<i class=\"fas fa-chevron-down\"></i>\n</div>\n<div class=\"faq-answer\" id=\"faq-3\">\n<p>One Laravel combines the simplicity of Blade templates with the reactivity of modern frameworks like Vue.js or React. You get reactive components without the complexity of a separate frontend build process.</p>\n</div>\n</div>\n\n<div class=\"faq-item\">\n<div class=\"faq-question\" data-toggle=\"faq-4\">\n<h4>Can I contribute to One Laravel?</h4>\n<i class=\"fas fa-chevron-down\"></i>\n</div>\n<div class=\"faq-answer\" id=\"faq-4\">\n<p>Absolutely! We welcome contributions of all kinds - bug reports, feature requests, documentation improvements, and code contributions. Check out our GitHub repository to get started.</p>\n</div>\n</div>\n\n<div class=\"faq-item\">\n<div class=\"faq-question\" data-toggle=\"faq-5\">\n<h4>Is there commercial support available?</h4>\n<i class=\"fas fa-chevron-down\"></i>\n</div>\n<div class=\"faq-answer\" id=\"faq-5\">\n<p>For commercial support, training, or custom development services, please contact us using the form above or reach out via email. We offer various support packages for teams and enterprises.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Sidebar -->\n<div class=\"col-lg-4\">\n<div class=\"contact-sidebar\">\n<!-- Contact Methods -->\n<div class=\"contact-methods mb-4\">\n<h3>Get in Touch</h3>\n\n<div class=\"contact-method\">\n<div class=\"contact-icon\">\n<i class=\"fas fa-envelope\"></i>\n</div>\n<div class=\"contact-info\">\n<h4>Email</h4>\n<p>hello@onelaravel.com</p>\n<small>We'll respond within 24 hours</small>\n</div>\n</div>\n\n<div class=\"contact-method\">\n<div class=\"contact-icon\">\n<i class=\"fab fa-github\"></i>\n</div>\n<div class=\"contact-info\">\n<h4>GitHub</h4>\n<p>github.com/one-laravel</p>\n<small>Issues, contributions & discussions</small>\n</div>\n</div>\n\n<div class=\"contact-method\">\n<div class=\"contact-icon\">\n<i class=\"fab fa-discord\"></i>\n</div>\n<div class=\"contact-info\">\n<h4>Discord</h4>\n<p>Join our community</p>\n<small>Real-time chat & support</small>\n</div>\n</div>\n\n<div class=\"contact-method\">\n<div class=\"contact-icon\">\n<i class=\"fab fa-twitter\"></i>\n</div>\n<div class=\"contact-info\">\n<h4>Twitter</h4>\n<p>@onelaravel</p>\n<small>Updates & announcements</small>\n</div>\n</div>\n</div>\n\n<!-- Community Links -->\n<div class=\"community-section mb-4\">\n<h3>Community</h3>\n<p>Join our growing community of developers building amazing SPAs with One Laravel.</p>\n\n<div class=\"social-links\">\n<a href=\"#\" class=\"social-link discord\">\n<i class=\"fab fa-discord\"></i>Discord\n</a>\n<a href=\"#\" class=\"social-link github\">\n<i class=\"fab fa-github\"></i>GitHub\n</a>\n<a href=\"#\" class=\"social-link twitter\">\n<i class=\"fab fa-twitter\"></i>Twitter\n</a>\n<a href=\"#\" class=\"social-link youtube\">\n<i class=\"fab fa-youtube\"></i>YouTube\n</a>\n</div>\n</div>\n\n<!-- Newsletter -->\n<div class=\"newsletter-section\">\n<h3>Stay Updated</h3>\n<p>Get the latest news, tutorials, and updates delivered to your inbox.</p>\n\n<form class=\"newsletter-form\" id=\"newsletter-form\">\n<div class=\"input-group\">\n<input type=\"email\" class=\"form-control\" placeholder=\"Your email address\" required>\n<button type=\"submit\" class=\"btn btn-primary\">\nSubscribe\n</button>\n</div>\n<small class=\"form-text text-muted mt-2\">\nNo spam, unsubscribe at any time.\n</small>\n</form>\n</div>\n\n<!-- Office Info -->\n<div class=\"office-info\">\n<h3>Our Office</h3>\n<div class=\"office-location\">\n<i class=\"fas fa-map-marker-alt\"></i>\n<div>\n<p><strong>One Laravel HQ</strong></p>\n<p>123 Developer Street<br>\nTech District, TD 12345<br>\nSan Francisco, CA</p>\n</div>\n</div>\n\n<div class=\"office-hours\">\n<h4>Office Hours</h4>\n<p>Monday - Friday: 9:00 AM - 6:00 PM PST<br>\nSaturday: 10:00 AM - 2:00 PM PST<br>\nSunday: Closed</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- Team Section -->\n<div class=\"team-section mt-5\">\n<div class=\"row\">\n<div class=\"col-12\">\n<h2 class=\"text-center mb-4\">Meet Our Team</h2>\n<p class=\"text-center mb-5\">The passionate developers behind One Laravel</p>\n</div>\n</div>\n\n<div class=\"row\">\n<div class=\"col-md-4 mb-4\">\n<div class=\"team-member\">\n<div class=\"team-avatar\">\n<img src=\"https://via.placeholder.com/150x150/667eea/ffffff?text=JD\" alt=\"John Doe\">\n</div>\n<div class=\"team-info\">\n<h4>John Doe</h4>\n<p class=\"team-role\">Lead Developer</p>\n<p class=\"team-bio\">Creator of One Laravel with 10+ years of experience in web development and a passion for making Laravel development more enjoyable.</p>\n<div class=\"team-social\">\n<a href=\"#\"><i class=\"fab fa-twitter\"></i></a>\n<a href=\"#\"><i class=\"fab fa-github\"></i></a>\n<a href=\"#\"><i class=\"fab fa-linkedin\"></i></a>\n</div>\n</div>\n</div>\n</div>\n\n<div class=\"col-md-4 mb-4\">\n<div class=\"team-member\">\n<div class=\"team-avatar\">\n<img src=\"https://via.placeholder.com/150x150/f093fb/ffffff?text=JS\" alt=\"Jane Smith\">\n</div>\n<div class=\"team-info\">\n<h4>Jane Smith</h4>\n<p class=\"team-role\">Frontend Architect</p>\n<p class=\"team-bio\">Frontend specialist focused on creating intuitive developer experiences and building the reactive systems that power One Laravel.</p>\n<div class=\"team-social\">\n<a href=\"#\"><i class=\"fab fa-twitter\"></i></a>\n<a href=\"#\"><i class=\"fab fa-github\"></i></a>\n<a href=\"#\"><i class=\"fab fa-dribbble\"></i></a>\n</div>\n</div>\n</div>\n</div>\n\n<div class=\"col-md-4 mb-4\">\n<div class=\"team-member\">\n<div class=\"team-avatar\">\n<img src=\"https://via.placeholder.com/150x150/4ecdc4/ffffff?text=MJ\" alt=\"Mike Johnson\">\n</div>\n<div class=\"team-info\">\n<h4>Mike Johnson</h4>\n<p class=\"team-role\">DevOps Engineer</p>\n<p class=\"team-bio\">Ensures One Laravel runs smoothly in production environments and maintains our deployment infrastructure and CI/CD pipelines.</p>\n<div class=\"team-social\">\n<a href=\"#\"><i class=\"fab fa-twitter\"></i></a>\n<a href=\"#\"><i class=\"fab fa-github\"></i></a>\n<a href=\"#\"><i class=\"fab fa-docker\"></i></a>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</section>`, 'html')}\n\n${this.__section('scripts', `<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n// Contact form handling\nconst contactForm = document.getElementById('contact-form');\nconst formResult = document.getElementById('form-result');\n\ncontactForm.addEventListener('submit', function(e) {\ne.preventDefault();\n\n// Simulate form submission\nconst formData = new FormData(contactForm);\nconst name = document.getElementById('name').value;\nconst email = document.getElementById('email').value;\nconst subject = document.getElementById('subject').value;\nconst message = document.getElementById('message').value;\n\n// Basic validation\nif (!name || !email || !subject || !message) {\nshowFormResult('Please fill in all required fields.', 'error');\nreturn;\n}\n\n// Show loading state\nconst submitBtn = contactForm.querySelector('button[type=\"submit\"]');\nconst originalText = submitBtn.innerHTML;\nsubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Sending...';\nsubmitBtn.disabled = true;\n\n// Simulate API call\nsetTimeout(() => {\nshowFormResult('Thanks for your message! We\\'ll get back to you within 24 hours.', 'success');\ncontactForm.reset();\n\n// Reset button\nsubmitBtn.innerHTML = originalText;\nsubmitBtn.disabled = false;\n}, 2000);\n});\n\n// Newsletter form handling\nconst newsletterForm = document.getElementById('newsletter-form');\nnewsletterForm.addEventListener('submit', function(e) {\ne.preventDefault();\n\nconst email = this.querySelector('input[type=\"email\"]').value;\nconst submitBtn = this.querySelector('button[type=\"submit\"]');\n\nif (!email) {\nalert('Please enter your email address.');\nreturn;\n}\n\nconst originalText = submitBtn.textContent;\nsubmitBtn.textContent = 'Subscribing...';\nsubmitBtn.disabled = true;\n\nsetTimeout(() => {\nalert('Thanks for subscribing! You\\'ll receive our next newsletter.');\nthis.reset();\nsubmitBtn.textContent = originalText;\nsubmitBtn.disabled = false;\n}, 1500);\n});\n\n// FAQ toggle functionality\ndocument.querySelectorAll('.faq-question').forEach(question => {\nquestion.addEventListener('click', function() {\nconst targetId = this.dataset.toggle;\nconst answer = document.getElementById(targetId);\nconst icon = this.querySelector('i');\n\n// Close all other FAQs\ndocument.querySelectorAll('.faq-answer').forEach(faq => {\nif (faq.id !== targetId) {\nfaq.classList.remove('active');\n}\n});\n\ndocument.querySelectorAll('.faq-question i').forEach(i => {\nif (i !== icon) {\ni.classList.remove('fa-chevron-up');\ni.classList.add('fa-chevron-down');\n}\n});\n\n// Toggle current FAQ\nanswer.classList.toggle('active');\n\nif (answer.classList.contains('active')) {\nicon.classList.remove('fa-chevron-down');\nicon.classList.add('fa-chevron-up');\n} else {\nicon.classList.remove('fa-chevron-up');\nicon.classList.add('fa-chevron-down');\n}\n});\n});\n\nfunction showFormResult(message, type) {\nformResult.innerHTML = \\`\n<div class=\"alert alert-${type === 'success' ? 'success' : 'danger'}\">\n${message}\n</div>\n\\`;\nformResult.style.display = 'block';\n\n// Scroll to result\nformResult.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\n// Auto-hide after 5 seconds for success messages\nif (type === 'success') {\nsetTimeout(() => {\nformResult.style.display = 'none';\n}, 5000);\n}\n}\n});\n</script>\n\n<style>\n.contact-form {\nbackground: white;\npadding: 2rem;\nborder-radius: 0.75rem;\nborder: 1px solid var(--border-color);\nbox-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n.contact-sidebar {\nposition: sticky;\ntop: 2rem;\n}\n\n.contact-methods h3,\n.community-section h3,\n.newsletter-section h3,\n.office-info h3 {\ncolor: var(--primary-color);\nmargin-bottom: 1.5rem;\nfont-size: 1.25rem;\n}\n\n.contact-method {\ndisplay: flex;\ngap: 1rem;\nmargin-bottom: 2rem;\npadding: 1.5rem;\nbackground: white;\nborder-radius: 0.5rem;\nborder: 1px solid var(--border-color);\ntransition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.contact-method:hover {\ntransform: translateY(-2px);\nbox-shadow: 0 4px 15px rgba(0,0,0,0.1);\n}\n\n.contact-icon {\nwidth: 50px;\nheight: 50px;\nborder-radius: 50%;\nbackground: var(--primary-light);\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ncolor: var(--primary-color);\nfont-size: 1.25rem;\nflex-shrink: 0;\n}\n\n.contact-info h4 {\nmargin: 0 0 0.5rem 0;\nfont-size: 1.1rem;\ncolor: var(--text-primary);\n}\n\n.contact-info p {\nmargin: 0 0 0.25rem 0;\ncolor: var(--text-primary);\nfont-weight: 500;\n}\n\n.contact-info small {\ncolor: var(--text-secondary);\n}\n\n.social-links {\ndisplay: flex;\nflex-direction: column;\ngap: 0.5rem;\n}\n\n.social-link {\ndisplay: flex;\nalign-items: center;\ngap: 0.75rem;\npadding: 0.75rem 1rem;\ntext-decoration: none;\ncolor: var(--text-primary);\nborder-radius: 0.5rem;\ntransition: all 0.2s ease;\nborder: 1px solid var(--border-color);\n}\n\n.social-link:hover {\ntransform: translateX(5px);\ncolor: white;\n}\n\n.social-link.discord:hover { background: #5865F2; }\n.social-link.github:hover { background: #333; }\n.social-link.twitter:hover { background: #1DA1F2; }\n.social-link.youtube:hover { background: #FF0000; }\n\n.newsletter-section {\nbackground: var(--primary-light);\npadding: 1.5rem;\nborder-radius: 0.75rem;\nmargin-bottom: 2rem;\n}\n\n.newsletter-section h3 {\ncolor: var(--primary-dark);\n}\n\n.office-info {\nbackground: white;\npadding: 1.5rem;\nborder-radius: 0.75rem;\nborder: 1px solid var(--border-color);\n}\n\n.office-location {\ndisplay: flex;\ngap: 1rem;\nmargin-bottom: 1.5rem;\n}\n\n.office-location i {\ncolor: var(--primary-color);\nfont-size: 1.25rem;\nmargin-top: 0.25rem;\n}\n\n.office-hours h4 {\ncolor: var(--text-primary);\nmargin-bottom: 0.5rem;\nfont-size: 1rem;\n}\n\n.faq-section {\nmargin-top: 3rem;\n}\n\n.faq-item {\nborder: 1px solid var(--border-color);\nborder-radius: 0.5rem;\nmargin-bottom: 1rem;\noverflow: hidden;\n}\n\n.faq-question {\npadding: 1.5rem;\nbackground: white;\ncursor: pointer;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\ntransition: background-color 0.2s ease;\n}\n\n.faq-question:hover {\nbackground: var(--bg-light);\n}\n\n.faq-question h4 {\nmargin: 0;\nfont-size: 1.1rem;\ncolor: var(--text-primary);\n}\n\n.faq-question i {\ncolor: var(--primary-color);\ntransition: transform 0.2s ease;\n}\n\n.faq-answer {\npadding: 0 1.5rem;\nbackground: var(--bg-light);\nmax-height: 0;\noverflow: hidden;\ntransition: all 0.3s ease;\n}\n\n.faq-answer.active {\npadding: 1.5rem;\nmax-height: 200px;\n}\n\n.faq-answer p {\nmargin: 0;\ncolor: var(--text-secondary);\nline-height: 1.6;\n}\n\n.faq-answer a {\ncolor: var(--primary-color);\ntext-decoration: none;\n}\n\n.faq-answer a:hover {\ntext-decoration: underline;\n}\n\n.team-section {\npadding: 3rem 0;\nbackground: var(--bg-light);\nborder-radius: 1rem;\n}\n\n.team-member {\ntext-align: center;\nbackground: white;\npadding: 2rem;\nborder-radius: 0.75rem;\nborder: 1px solid var(--border-color);\nheight: 100%;\ntransition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.team-member:hover {\ntransform: translateY(-5px);\nbox-shadow: 0 8px 25px rgba(0,0,0,0.1);\n}\n\n.team-avatar {\nmargin-bottom: 1.5rem;\n}\n\n.team-avatar img {\nwidth: 120px;\nheight: 120px;\nborder-radius: 50%;\nobject-fit: cover;\nborder: 4px solid var(--primary-light);\n}\n\n.team-info h4 {\nmargin-bottom: 0.5rem;\ncolor: var(--text-primary);\n}\n\n.team-role {\ncolor: var(--primary-color);\nfont-weight: 600;\nmargin-bottom: 1rem;\n}\n\n.team-bio {\ncolor: var(--text-secondary);\nline-height: 1.6;\nmargin-bottom: 1.5rem;\n}\n\n.team-social {\ndisplay: flex;\njustify-content: center;\ngap: 1rem;\n}\n\n.team-social a {\nwidth: 40px;\nheight: 40px;\nborder-radius: 50%;\nbackground: var(--bg-light);\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ncolor: var(--text-secondary);\ntext-decoration: none;\ntransition: all 0.2s ease;\n}\n\n.team-social a:hover {\nbackground: var(--primary-color);\ncolor: white;\ntransform: translateY(-2px);\n}\n\n@media (max-width: 768px) {\n.contact-sidebar {\nposition: static;\nmargin-top: 2rem;\n}\n\n.contact-form {\npadding: 1.5rem;\n}\n\n.team-member {\nmargin-bottom: 2rem;\n}\n\n.faq-question {\npadding: 1rem;\n}\n\n.faq-question h4 {\nfont-size: 1rem;\n}\n}\n</style>`, 'html')}`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return this.__extends('layouts.base');\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function PartialsTestPartial($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'partials.test-partial';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('partials.test-partial', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `<div class=\"partial\">\n<p>Partial View ID: ${App.View.escString(__VIEW_ID__)}</p>\n<p>Another Partial ID: ${App.View.escString(__VIEW_ID__)}</p>\n</div>`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function PartialsAssetsScripts($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'partials.assets-scripts';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    const __VARIABLE_LIST__ = [];\n\n    self.setup('partials.assets-scripts', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: false,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: false,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n\n\n<script src=\"${App.View.escString(App.Helper.asset('static/app/core-1c191ae7.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/core-5836a356.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/core-5ab236cd.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/core-c492f101.js'))}\" defer></script>\n\n\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-0875e753.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-4b7e9c69.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-b1efdd7b.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-cf3615ff.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-dc6bbf0a.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-e109a6f5.js'))}\" defer></script>\n<script src=\"${App.View.escString(App.Helper.asset('static/app/views-e8f2b5ad.js'))}\" defer></script>\n\n\n<script src=\"${App.View.escString(App.Helper.asset('static/app/main.js'))}\" defer></script>`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","export function PartialsDataExample($$$DATA$$$ = {}, systemData = {}) {\n    const {App, View, __base__, __layout__, __page__, __component__, __partial__, __system__, __env = {}, __helper = {}} = systemData;\n    const __VIEW_PATH__ = 'partials.data-example';\n    const __VIEW_ID__ = $$$DATA$$$.__SSR_VIEW_ID__ || App.View.generateViewId();\n    const __VIEW_TYPE__ = 'view';\n    // this is the wrapper element\n    \n    const __WRAPPER_ELEMENT__ = document.createElement('template');\n    const __REFS__ = [];\n    const self = new View.Engine();\n    const __STATE__ = new View.State(self);\n\n\n    const parseRefs = (frag) => {\n        for (let i = 0; i < frag.childNodes.length; i++) {\n            const node = frag.childNodes[i];\n            __REFS__.push(node);\n        }\n    }\n    const createHtml = (template) => {\n        try {\n            __WRAPPER_ELEMENT__.innerHTML = template;\n        } catch (error) {\n            console.error(error);\n            __WRAPPER_ELEMENT__.innerHTML = '';\n        }\n        let frag = __WRAPPER_ELEMENT__.content;\n        parseRefs(frag);\n        return frag;\n    }\n    \n    /**\n     * \n     * @param {*} value \n     * @returns {[any, function, string]}\n     */\n    const useState = (value) => {\n        return __STATE__.__useState(value);\n    };\n    const updateRealState = (state) => {\n        __STATE__.__updateRealState(state);\n    };\n\n    const lockUpdateRealState = () => {\n        __STATE__.__lockUpdateRealState();\n    };\n    const updateStateByKey = (key, state) => {\n        __STATE__.__updateStateByKey(key, state);\n    };\n\n    if(typeof $$$DATA$$$.__SSR_VIEW_ID__ !== 'undefined'){\n        delete $$$DATA$$$.__SSR_VIEW_ID__;\n    }\n    const __UPDATE_DATA_TRAIT__ = {};\n    let {partialVar = 'Hello from partial @vars directive'} = $$$DATA$$$;\n    let partialLet = 'Hello from partial @let directive';\n    const partialConst = 'Hello from partial @const directive';\n    __UPDATE_DATA_TRAIT__.partialVar = value => partialVar = value;\n    __UPDATE_DATA_TRAIT__.partialLet = value => partialLet = value;\n    const __VARIABLE_LIST__ = [\"partialVar\", \"partialLet\"];\n\n    self.setup('partials.data-example', {\n        superView: null,\n        hasSuperView: false,\n        viewType: 'view',\n        sections: {},\n        wrapperConfig: { enable: false, tag: null, follow: true, attributes: {} },\n        __props__: [\"__WRAPPER_ELEMENT__\", \"createHtml\", \"__REFS__\", \"parseRefs\"],\n            __WRAPPER_ELEMENT__: __WRAPPER_ELEMENT__,\n            refs: __REFS__,\n            states: __STATE__,\n            parseRefs: parseRefs,\n            createHtml: createHtml,\n        hasAwaitData: false,\n        hasFetchData: false,\n        subscribe: true,\n        fetch: null,\n        data: $$$DATA$$$,\n        viewId: __VIEW_ID__,\n        path: __VIEW_PATH__,\n        usesVars: true,\n        hasSections: false,\n        hasSectionPreload: false,\n        hasPrerender: false,\n        renderLongSections: [],\n        renderSections: [],\n        prerenderSections: [],\n        userDefined: {},\n        scripts: [],\n        styles: [],\n        resources: [],\n        commitConstructorData: function() {\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableData: function(data) {\n            // Update all variables first\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    this.updateVariableItem(key, data[key]);\n                }\n            }\n            // Then update states from data\n            \n            // Finally lock state updates\n            \n        },\n        updateVariableItem: function(key, value) {\n            this.data[key] = value;\n            if (typeof __UPDATE_DATA_TRAIT__[key] === \"function\") {\n                __UPDATE_DATA_TRAIT__[key](value);\n            }\n        },\n        loadServerData: function() {\n    \n},\n        prerender: function() {\n    return null;\n},\n        render: function() {\n                \n    let __outputRenderedContent__ = '';\n            try {\n                __outputRenderedContent__ = `\n\n<div class=\"partial-data-example\">\n<h3>Data t Include</h3>\n\n\n<section class=\"mb-3\">\n<h4>1. Data t Parent View</h4>\n<p><strong>Parent User:</strong> ${App.View.escString(App.Helper.json_encode(parent_data))}</p>\n<p><strong>Parent Items:</strong> ${App.View.escString(App.Helper.json_encode(items ?? null))}</p>\n<p><strong>Parent Custom Data:</strong> ${App.View.escString(App.Helper.json_encode(custom_data ?? null))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>2. Data t Include Parameters</h4>\n<p><strong>Include Data:</strong> ${App.View.escString(App.Helper.json_encode(include_data))}</p>\n<p><strong>Parent Data:</strong> ${App.View.escString(App.Helper.json_encode(parent_data))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>3. Data t Composer</h4>\n<p><strong>Composer User:</strong> ${App.View.escString(App.Helper.json_encode(composer_user ?? null))}</p>\n<p><strong>Composer Global:</strong> ${App.View.escString(App.Helper.json_encode(composer_global ?? null))}</p>\n<p><strong>Composer Session:</strong> ${App.View.escString(App.Helper.json_encode(composer_session ?? null))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>4. Data t Global Share</h4>\n<p><strong>Global Config:</strong> ${App.View.escString(App.Helper.json_encode(global_config ?? null))}</p>\n<p><strong>Current Request:</strong> ${App.View.escString(App.Helper.json_encode(current_request ?? null))}</p>\n<p><strong>App Name:</strong> ${App.View.escString(app_name ?? 'Not set')}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>5. Data t View Storage</h4>\n<p><strong>View ID:</strong> ${App.View.escString(__VIEW_ID__)}</p>\n<p><strong>View Path:</strong> ${App.View.escString(__VIEW_PATH__)}</p>\n<p><strong>Parent View Path:</strong> ${App.View.escString(__PARENT_VIEW_PATH__ ?? 'No parent')}</p>\n<p><strong>Parent View ID:</strong> ${App.View.escString(__PARENT_VIEW_ID__ ?? 'No parent')}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>6. Data t Helper</h4>\n<p><strong>Helper:</strong> ${App.View.escString(App.Helper.json_encode(__helper ?? null))}</p>\n<p><strong>Helper Methods:</strong> ${App.View.escString(App.Helper.json_encode(get_class_methods(__helper ?? null)))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>7. Data t Session</h4>\n<p><strong>Session All:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.session().all()))}</p>\n<p><strong>Session User:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.session('user')))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>8. Data t Request</h4>\n<p><strong>Request All:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.request().all()))}</p>\n<p><strong>Request URL:</strong> ${App.View.escString(App.Helper.request().url())}</p>\n<p><strong>Request Method:</strong> ${App.View.escString(App.Helper.request().method())}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>9. Data t Auth</h4>\n<p><strong>Auth User:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.auth().user()))}</p>\n<p><strong>Auth Check:</strong> ${App.View.escString(App.Helper.auth().check() ? 'Yes' : 'No')}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>10. Data t Config</h4>\n<p><strong>App Config:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.config('app')))}</p>\n<p><strong>Database Config:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.config('database')))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>11. Data t Cache</h4>\n<p><strong>Cache Get:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.cache().get('some_key')))}</p>\n<p><strong>Cache Has:</strong> ${App.View.escString(App.Helper.cache().has('some_key') ? 'Yes' : 'No')}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>12. Data t Environment</h4>\n<p><strong>App Name:</strong> ${App.View.escString(App.Helper.config('app.name'))}</p>\n<p><strong>App Environment:</strong> ${App.View.escString(app().environment())}</p>\n<p><strong>App Debug:</strong> ${App.View.escString(App.Helper.config('app.debug') ? 'Yes' : 'No')}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>13. Data t Custom Directives</h4>\n\n<p><strong>Partial Var:</strong> ${App.View.escString(partialVar)}</p>\n\n\n<p><strong>Partial Let:</strong> ${App.View.escString(partialLet)}</p>\n\n\n<p><strong>Partial Const:</strong> ${App.View.escString(partialConst)}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>14. Data t JavaScript</h4>\n<div id=\"partial-js-data-display\">\n<p>Loading partial JavaScript data...</p>\n</div>\n\n<script>\n// Data t parent view\nconst parentData = @json($parent_data);\nconst includeData = @json($include_data);\n\n// Data t composer\nconst composerData = @json($composer_user ?? null);\nconst globalData = @json($composer_global ?? null);\n\n// Data t view storage\nconst viewData = window.APP_CONFIGS?.view?.ssrData || {};\n\n// Data t global config\nconst globalConfig = @json($global_config ?? null);\n\n// Display data\ndocument.getElementById('partial-js-data-display').innerHTML = \\`\n<p><strong>Parent Data:</strong> ${JSON.stringify(parentData)}</p>\n<p><strong>Include Data:</strong> ${JSON.stringify(includeData)}</p>\n<p><strong>Composer Data:</strong> ${JSON.stringify(composerData)}</p>\n<p><strong>Global Data:</strong> ${JSON.stringify(globalData)}</p>\n<p><strong>View Data:</strong> ${JSON.stringify(viewData)}</p>\n<p><strong>Global Config:</strong> ${JSON.stringify(globalConfig)}</p>\n\\`;\n</script>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>15. Data t View Storage Manager</h4>\n<p><strong>View Storage Data:</strong> ${App.View.escString(App.Helper.json_encode(__helper.exportViewData()))}</p>\n<p><strong>View Storage Instances:</strong> ${App.View.escString(App.Helper.json_encode(__helper.exportViewInstances()))}</p>\n<p><strong>View Storage Events:</strong> ${App.View.escString(App.Helper.json_encode(__helper.getEventRegistry()))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>16. Data t Custom Services</h4>\n<p><strong>View Helper Service:</strong> ${App.View.escString(App.Helper.json_encode(get_class(__helper)))}</p>\n<p><strong>View Storage Manager:</strong> ${App.View.escString(App.Helper.json_encode(get_class(__helper.getViewStorageManager())))}</p>\n<p><strong>View Context Service:</strong> ${App.View.escString(App.Helper.json_encode(get_class(app('Core\\Services\\ViewContextService'))))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>17. Data t Middleware</h4>\n<p><strong>Middleware Data:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.request().attributes.all()))}</p>\n<p><strong>Route Data:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.request().route()?.parameters()))}</p>\n<p><strong>Query Data:</strong> ${App.View.escString(App.Helper.json_encode(App.Helper.request().query()))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>18. Data t Events</h4>\n<p><strong>Event Data:</strong> ${App.View.escString(App.Helper.json_encode(event('view.rendered')))}</p>\n<p><strong>Event Listeners:</strong> ${App.View.escString(json_encodefunc(app('events').getListeners('view.rendered')))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>19. Data t Custom Helpers</h4>\n<p><strong>Custom Helper:</strong> ${App.View.escString(App.Helper.json_encode(helper('custom')))}</p>\n<p><strong>Custom Helper Data:</strong> ${App.View.escString(App.Helper.json_encode(helper('custom').getData()))}</p>\n</section>\n\n\n<section class=\"mb-3\">\n<h4>20. Data t Custom Directives</h4>\n<p><strong>Custom Directive Data:</strong> ${App.View.escString(App.Helper.json_encode(directive('custom')))}</p>\n<p><strong>Custom Directive Result:</strong> ${App.View.escString(App.Helper.json_encode(directive('custom').execute()))}</p>\n</section>\n</div>`;\n            } catch(e) {\n                __outputRenderedContent__ = this.__showError(e.message);\n                console.warn(e);\n            }\n            return __outputRenderedContent__;\n            },\n        init: function() {  },\n        destroy: function() {}\n    });\n    return self;\n        }","import logger from \"./LoggerService.js\";\n\n// StorageService - Service thun ty qun l localStorage vi Event System, TTL v Encrypt\nexport class StorageService {\n    static instance = null;\n    static privateProperties = [\n        '__key', \n        '__isSupport', \n        '__data', \n        '__listeners', '__eventQueue', '__isUpdating', 'instance', \n        'set', 'get', 'remove', 'clear', 'getAll', 'has', 'getAllKeys', 'size', 'isEmpty', 'getInfo', 'debug', \n        'export', 'import', 'backup', 'restore', 'getStorageUsage', \n        'isStorageFull',\n        'setKey', 'getKey', 'support', '__loadData', '__updateData', 'emit', 'on', 'off', 'removeAllListeners', 'getEvents', 'getListenerCount',\n        'getTTLInfo', 'cleanExpired', 'enableEncryption', '__generateEncryptionKey',\n        '__encrypt', '__decrypt', '__isExpired', '__cleanExpiredData', '__createDynamicProperty', '__removeDynamicProperty'\n    ];\n    dynamicProperties = [];\n\n    constructor(key = 'onejs_storage') {\n        this.__key = key || \"onejs_storage\";\n        this.__isSupport = typeof (Storage) !== \"undefined\";\n        this.__data = {};\n        this.__listeners = new Map(); // Event listeners\n        this.__eventQueue = []; // Event queue for batching\n        this.__isUpdating = false;\n        \n        // Encryption system\n        this.encryptionKey = null;\n        this.useEncryption = false;\n        \n        if (this.__isSupport) {\n            this.__loadData();\n        }\n    }\n\n    // ==========================================\n    // PUBLIC STATIC METHODS\n    // ==========================================\n\n    /**\n     * Get the instance of the StorageService\n     * @param {string} key - The key to use for the storage\n     * @returns {StorageService} - The instance of the StorageService\n     */\n    static getInstance(key) {\n        if (!StorageService.instance) {\n            StorageService.instance = new StorageService(key);\n        }\n        return StorageService.instance;\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - Configuration\n    // ==========================================\n\n    /**\n     * Set the key for the storage\n     * @param {string} key - The key to use for the storage\n     * @returns {StorageService} - The instance of the StorageService\n     */\n    setKey(key) {\n        if (typeof key !== 'string' || !key.trim()) {\n            throw new Error('Storage key must be a non-empty string');\n        }\n        \n        this.__key = key;\n        this.__loadData();\n        return this;\n    }\n\n    /**\n     * Get the current storage key\n     * @returns {string} - The current storage key\n     */\n    getKey() {\n        return this.__key;\n    }\n\n    /**\n     * Check if the storage is supported\n     * @returns {boolean} - True if the storage is supported, false otherwise\n     */\n    support() {\n        return this.__isSupport;\n    }\n\n    /**\n     * Enable/disable encryption\n     * @param {boolean} enable - Enable encryption\n     * @param {string} key - Encryption key (optional, will generate if not provided)\n     */\n    enableEncryption(enable = true, key = null) {\n        this.useEncryption = enable;\n        \n        if (enable && !key) {\n            // Generate a random encryption key\n            this.encryptionKey = this.__generateEncryptionKey();\n        } else if (enable && key) {\n            this.encryptionKey = key;\n        } else {\n            this.encryptionKey = null;\n        }\n        \n        logger.log(` StorageService: Encryption ${enable ? 'enabled' : 'disabled'}`);\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - Core Storage Operations\n    // ==========================================\n\n    /**\n     * Set the data in the storage with optional TTL\n     * @param {string|object} key - The key to use for the storage\n     * @param {any} value - The value to use for the storage\n     * @param {number|null} ttl - Time to live in seconds (null = no expiration)\n     * @returns {boolean} - True if the data is set, false otherwise\n     */\n    set(key, value, ttl = null) {\n        if (!this.__isSupport) return false;\n        \n        if (key === null || key === undefined) {\n            throw new Error('Key cannot be null or undefined');\n        }\n        \n        if (typeof key === 'object' && key !== null) {\n            // Nu key l object, set nhiu key-value\n            let success = true;\n            Object.keys(key).forEach(k => {\n                const v = key[k];\n                if (!this.set(k, v, ttl)) { success = false; }\n            })\n            return success;\n        }\n        \n        if (!(typeof key === 'string' || typeof key === 'number')) {\n            throw new Error('Key must be a string when setting single value');\n        }\n        \n        // Validate TTL\n        if (ttl && (typeof ttl !== 'number' || ttl <= 0)) {\n            throw new Error('TTL must be a positive number or null');\n        }\n        \n        const oldValue = this.__data[key];\n        \n        // Create data structure with TTL\n        const dataItem = {\n            value: value,\n            timestamp: Date.now()\n        };\n        \n        if (ttl !== null) {\n            dataItem.ttl = ttl * 1000;\n        }\n        \n        this.__data[key] = dataItem;\n        \n        try {\n            this.__updateData();\n            logger.log(` StorageService: Set ${key}:`, value, ttl ? `(TTL: ${ttl}ms)` : '(no TTL)');\n            \n            this.__createDynamicProperty(key, ttl);\n            // Emit events\n            this.emit(`set:${key}`, { key, value, oldValue, ttl });\n            this.emit('set', { key, value, oldValue, ttl });\n            \n            // Create dynamic property for direct access\n\n            return true;\n        } catch (error) {\n            // Revert on error\n            this.__data[key] = oldValue;\n            throw error;\n        }\n    }\n\n    /**\n     * Get the data from the storage with TTL check\n     * @param {string} key - The key to use for the storage\n     * @param {any} defaultValue - Default value if key not found or expired\n     * @returns {any} - The value of the data or null if expired\n     */\n    get(key, defaultValue = null) {\n        if (!this.__isSupport) return defaultValue;\n        \n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        \n        if (typeof this.__data[key] === 'undefined') return defaultValue;\n        \n        const dataItem = this.__data[key];\n        \n        // Check if data has TTL structure\n        if (dataItem && typeof dataItem === 'object' && 'value' in dataItem) {\n            // Check if expired\n            if (this.__isExpired(dataItem)) {\n                logger.log(` StorageService: Key ${key} has expired, removing...`);\n                this.remove(key);\n                return defaultValue;\n            }\n            \n            logger.log(` StorageService: Retrieved ${key}:`, dataItem.value);\n            return dataItem.value;\n        } else {\n            // Legacy data without TTL structure\n            logger.log(` StorageService: Retrieved ${key}:`, dataItem);\n            return dataItem;\n        }\n    }\n\n    /**\n     * Remove the data from the storage\n     * @param {string} key - The key to use for the storage\n     * @returns {boolean} - True if the data is removed, false otherwise\n     */\n    remove(key) {\n        if (!this.__isSupport) return false;\n        \n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        \n        if (Object.keys(this.__data).length === 0 || typeof this.__data[key] === 'undefined') {\n            return false;\n        }\n        \n        const oldValue = this.__data[key];\n        delete this.__data[key];\n        \n        try {\n            this.__updateData();\n            logger.log(' StorageService: Removed', key);\n            \n            // Emit events\n            this.emit('remove', { key, oldValue });\n            this.emit(`remove:${key}`, { key, oldValue });\n            \n            // Remove dynamic property\n            this.__removeDynamicProperty(key);\n            \n            return true;\n        } catch (error) {\n            // Revert on error\n            this.__data[key] = oldValue;\n            throw error;\n        }\n    }\n\n    /**\n     * Clear the data from the storage\n     */\n    clear() {\n        const oldData = { ...this.__data };\n        this.__data = {};\n\n        // Remove all dynamic properties\n        if (this.dynamicProperties) {\n            for (const key of this.dynamicProperties) {\n                this.__removeDynamicProperty(key);\n            }\n            this.dynamicProperties = [];\n        }\n        \n        try {\n            this.__updateData();\n            logger.log(' StorageService: Cleared all data');\n            \n            // Emit events\n            this.emit('clear', { oldData });\n        } catch (error) {\n            // Revert on error\n            this.__data = oldData;\n            throw error;\n        }\n    }\n\n    /**\n     * Get all data from the storage (excluding expired items)\n     * @returns {object} - All valid data in storage\n     */\n    getAll() {\n        // Clean expired data first\n        this.__cleanExpiredData();\n        \n        const result = {};\n        for (const [key, dataItem] of Object.entries(this.__data)) {\n            if (dataItem && typeof dataItem === 'object' && 'value' in dataItem) {\n                result[key] = dataItem.value;\n            } else {\n                result[key] = dataItem; // Legacy data\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Check if key exists and is not expired\n     * @param {string} key - The key to check\n     * @returns {boolean} - True if key exists and not expired, false otherwise\n     */\n    has(key) {\n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        \n        if (typeof this.__data[key] === 'undefined') return false;\n        \n        const dataItem = this.__data[key];\n        \n        // Check if data has TTL structure\n        if (dataItem && typeof dataItem === 'object' && 'value' in dataItem) {\n            return !this.__isExpired(dataItem);\n        }\n        \n        return true; // Legacy data without TTL\n    }\n\n    /**\n     * Get all keys (excluding expired items)\n     * @returns {string[]} - Array of all valid keys\n     */\n    getAllKeys() {\n        // Clean expired data first\n        this.__cleanExpiredData();\n        \n        return Object.keys(this.__data);\n    }\n\n    /**\n     * Get storage size (number of valid keys)\n     * @returns {number} - Number of valid keys in storage\n     */\n    size() {\n        // Clean expired data first\n        this.__cleanExpiredData();\n        \n        return Object.keys(this.__data).length;\n    }\n\n    /**\n     * Check if storage is empty\n     * @returns {boolean} - True if storage is empty, false otherwise\n     */\n    isEmpty() {\n        return this.size() === 0;\n    }\n\n    /**\n     * Get storage info\n     * @returns {object} - Storage information\n     */\n    getInfo() {\n        // Clean expired data first\n        const expiredRemoved = this.__cleanExpiredData();\n        \n        return {\n            key: this.__key,\n            isSupport: this.__isSupport,\n            size: this.size(),\n            keys: this.getAllKeys(),\n            isEmpty: this.isEmpty(),\n            events: this.getEvents(),\n            totalListeners: Array.from(this.__listeners.values()).reduce((sum, listeners) => sum + listeners.length, 0),\n            isUpdating: this.__isUpdating,\n            useEncryption: this.useEncryption,\n            hasEncryptionKey: !!this.encryptionKey,\n            expiredRemoved: expiredRemoved,\n            dynamicProperties: this.dynamicProperties ? this.dynamicProperties.length : 0\n        };\n    }\n\n    /**\n     * Debug storage\n     */\n    debug() {\n        logger.log(' StorageService Debug:', this.getInfo());\n        \n        // Show TTL info for each key\n        logger.log(' TTL Information:');\n        for (const [key, dataItem] of Object.entries(this.__data)) {\n            if (dataItem && typeof dataItem === 'object' && 'value' in dataItem) {\n                const isExpired = this.__isExpired(dataItem);\n                const ttl = dataItem.ttl;\n                const remaining = dataItem.ttl ? Math.max(0, (dataItem.timestamp + dataItem.ttl) - Date.now()) : null;\n                logger.log(`  ${key}: ${isExpired ? 'EXPIRED' : 'VALID'}${dataItem.ttl ? ` (TTL: ${dataItem.ttl}ms, Remaining: ${remaining}ms)` : ' (no TTL)'}`);\n            } else {\n                logger.log(`  ${key}: LEGACY (no TTL)`);\n            }\n        }\n        \n        // Show dynamic properties\n        logger.log(' Dynamic Properties:', this.dynamicProperties || []);\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - TTL Operations\n    // ==========================================\n\n    /**\n     * Get TTL information for a key\n     * @param {string} key - The key to check\n     * @returns {object|null} - TTL information or null if not found\n     */\n    getTTLInfo(key) {\n        if (typeof key !== 'string') {\n            throw new Error('Key must be a string');\n        }\n        \n        if (typeof this.__data[key] === 'undefined') return null;\n        \n        const dataItem = this.__data[key];\n        \n        if (dataItem && typeof dataItem === 'object' && 'value' in dataItem) {\n            const isExpired = this.__isExpired(dataItem);\n            const remaining = dataItem.ttl ? Math.max(0, (dataItem.timestamp + dataItem.ttl) - Date.now()) : null;\n            \n            return {\n                hasTTL: !!dataItem.ttl,\n                ttl: dataItem.ttl,\n                timestamp: dataItem.timestamp,\n                isExpired,\n                remaining,\n                expiryTime: dataItem.ttl ? dataItem.timestamp + dataItem.ttl : null\n            };\n        }\n        \n        return null; // Legacy data without TTL\n    }\n\n    /**\n     * Clean all expired data\n     * @returns {number} - Number of expired items removed\n     */\n    cleanExpired() {\n        return this.__cleanExpiredData();\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - Import/Export\n    // ==========================================\n\n    /**\n     * Export data to JSON string\n     * @returns {string} - JSON string of all data\n     */\n    export() {\n        return JSON.stringify(this.getAll(), null, 2);\n    }\n\n    /**\n     * Import data from JSON string\n     * @param {string} jsonString - JSON string to import\n     * @returns {boolean} - True if import successful, false otherwise\n     */\n    import(jsonString) {\n        if (typeof jsonString !== 'string') {\n            throw new Error('JSON string must be a string');\n        }\n        \n        try {\n            const data = JSON.parse(jsonString);\n            const oldData = { ...this.__data };\n            \n            // Convert imported data to TTL structure\n            this.__data = {};\n            for (const [key, value] of Object.entries(data)) {\n                this.__data[key] = {\n                    value: value,\n                    timestamp: Date.now()\n                };\n            }\n            \n            this.__updateData();\n            \n            logger.log(' StorageService: Imported data successfully');\n            \n            // Emit events\n            this.emit('import', { oldData, newData: data });\n            \n            return true;\n        } catch (error) {\n            logger.error(' StorageService: Failed to import data:', error);\n            return false;\n        }\n    }\n\n    /**\n     * Backup current data\n     * @returns {object} - Backup data with timestamp\n     */\n    backup() {\n        return {\n            timestamp: Date.now(),\n            key: this.__key,\n            data: { ...this.__data } // Return copy\n        };\n    }\n\n    /**\n     * Restore from backup\n     * @param {object} backup - Backup data\n     * @returns {boolean} - True if restore successful, false otherwise\n     */\n    restore(backup) {\n        if (!backup || typeof backup !== 'object') {\n            throw new Error('Backup must be a valid object');\n        }\n        \n        if (!backup.data) {\n            logger.error(' StorageService: Invalid backup data');\n            return false;\n        }\n\n        const oldData = { ...this.__data };\n        this.__data = { ...backup.data }; // Use copy\n        \n        try {\n            this.__updateData();\n            logger.log(' StorageService: Restored from backup:', backup.timestamp);\n            \n            // Emit events\n            this.emit('restore', { oldData, newData: backup.data, backup });\n            \n            return true;\n        } catch (error) {\n            // Revert on error\n            this.__data = oldData;\n            throw error;\n        }\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - Storage Utilities\n    // ==========================================\n\n    /**\n     * Get storage usage in bytes\n     * @returns {number} - Storage usage in bytes\n     */\n    getStorageUsage() {\n        if (!this.__isSupport) return 0;\n        \n        try {\n            const data = localStorage.getItem(this.__key);\n            return data ? new Blob([data]).size : 0;\n        } catch (error) {\n            logger.error(' StorageService: Failed to get storage usage:', error);\n            return 0;\n        }\n    }\n\n    /**\n     * Check if storage is full\n     * @returns {boolean} - True if storage is full, false otherwise\n     */\n    isStorageFull() {\n        try {\n            const testKey = '__storage_test__';\n            const testValue = 'x'.repeat(1024); // 1KB test\n            \n            localStorage.setItem(testKey, testValue);\n            localStorage.removeItem(testKey);\n            return false;\n        } catch (error) {\n            return true; // Storage is full\n        }\n    }\n\n    // ==========================================\n    // PUBLIC INSTANCE METHODS - Event System\n    // ==========================================\n\n    /**\n     * Add event listener\n     * @param {string} event - Event name\n     * @param {function} callback - Callback function\n     * @returns {function} - Unsubscribe function\n     */\n    on(event, callback) {\n        if (typeof event !== 'string' || !event.trim()) {\n            throw new Error('Event name must be a non-empty string');\n        }\n        \n        if (typeof callback !== 'function') {\n            throw new Error('Callback must be a function');\n        }\n        \n        if (!this.__listeners.has(event)) {\n            this.__listeners.set(event, []);\n        }\n        \n        this.__listeners.get(event).push(callback);\n        logger.log(` StorageService: Added listener for event: ${event}`);\n        \n        // Return unsubscribe function\n        return () => this.off(event, callback);\n    }\n\n    /**\n     * Remove event listener\n     * @param {string} event - Event name\n     * @param {function} callback - Callback function\n     */\n    off(event, callback) {\n        if (!this.__listeners.has(event)) return;\n        \n        const listeners = this.__listeners.get(event);\n        const index = listeners.indexOf(callback);\n        if (index > -1) {\n            listeners.splice(index, 1);\n            logger.log(` StorageService: Removed listener for event: ${event}`);\n        }\n    }\n\n    /**\n     * Remove all listeners for an event\n     * @param {string} event - Event name\n     */\n    removeAllListeners(event) {\n        if (event) {\n            this.__listeners.delete(event);\n            logger.log(` StorageService: Removed all listeners for event: ${event}`);\n        } else {\n            this.__listeners.clear();\n            logger.log(' StorageService: Removed all listeners');\n        }\n    }\n\n    /**\n     * Get all registered events\n     * @returns {string[]} - Array of event names\n     */\n    getEvents() {\n        return Array.from(this.__listeners.keys());\n    }\n\n    /**\n     * Get listener count for an event\n     * @param {string} event - Event name\n     * @returns {number} - Number of listeners\n     */\n    getListenerCount(event) {\n        return this.__listeners.has(event) ? this.__listeners.get(event).length : 0;\n    }\n\n    // ==========================================\n    // PRIVATE METHODS\n    // ==========================================\n\n    /**\n     * Generate encryption key\n     * @returns {string} - Generated encryption key\n     */\n    __generateEncryptionKey() {\n        const array = new Uint8Array(32);\n        crypto.getRandomValues(array);\n        return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');\n    }\n\n    /**\n     * Encrypt data\n     * @param {string} data - Data to encrypt\n     * @returns {string} - Encrypted data\n     */\n    __encrypt(data) {\n        if (!this.useEncryption || !this.encryptionKey) {\n            return data;\n        }\n        \n        try {\n            // Simple XOR encryption (for development purposes)\n            // In production, use proper encryption like AES\n            let encrypted = '';\n            for (let i = 0; i < data.length; i++) {\n                const charCode = data.charCodeAt(i) ^ this.encryptionKey.charCodeAt(i % this.encryptionKey.length);\n                encrypted += String.fromCharCode(charCode);\n            }\n            return btoa(encrypted); // Base64 encode\n        } catch (error) {\n            console.error(' StorageService: Encryption failed:', error);\n            return data;\n        }\n    }\n\n    /**\n     * Decrypt data\n     * @param {string} data - Data to decrypt\n     * @returns {string} - Decrypted data\n     */\n    __decrypt(data) {\n        if (!this.useEncryption || !this.encryptionKey) {\n            return data;\n        }\n        \n        try {\n            // Simple XOR decryption (for development purposes)\n            const decoded = atob(data); // Base64 decode\n            let decrypted = '';\n            for (let i = 0; i < decoded.length; i++) {\n                const charCode = decoded.charCodeAt(i) ^ this.encryptionKey.charCodeAt(i % this.encryptionKey.length);\n                decrypted += String.fromCharCode(charCode);\n            }\n            return decrypted;\n        } catch (error) {\n            console.error(' StorageService: Decryption failed:', error);\n            return data;\n        }\n    }\n\n    /**\n     * Check if data is expired\n     * @param {object} dataItem - Data item with timestamp and ttl\n     * @returns {boolean} - True if expired, false otherwise\n     */\n    __isExpired(dataItem) {\n        if (!dataItem || !dataItem.timestamp || !dataItem.ttl) {\n            return false; // No TTL, not expired\n        }\n        \n        const now = Date.now();\n        const expiryTime = dataItem.timestamp + dataItem.ttl;\n        return now > expiryTime;\n    }\n\n    /**\n     * Clean expired data\n     * @returns {number} - Number of expired items removed\n     */\n    __cleanExpiredData() {\n        let removed = 0;\n        const keysToRemove = [];\n        \n        for (const [key, dataItem] of Object.entries(this.__data)) {\n            if (this.__isExpired(dataItem)) {\n                keysToRemove.push(key);\n            }\n        }\n        \n        for (const key of keysToRemove) {\n            delete this.__data[key];\n            removed++;\n            logger.log(` StorageService: Removed expired key: ${key}`);\n        }\n        \n        if (removed > 0) {\n            this.__updateData();\n        }\n        \n        return removed;\n    }\n\n    /**\n     * Load the data from the storage (private method)\n     */\n    __loadData() {\n        if (!this.__isSupport) return;\n        \n        try {\n            const data = localStorage.getItem(this.__key);\n            if (data) {\n                const decryptedData = this.__decrypt(data);\n                this.__data = JSON.parse(decryptedData);\n                \n                // Clean expired data on load\n                this.__cleanExpiredData();\n            }\n        } catch (error) {\n            console.error(' StorageService: Failed to load data:', error);\n            this.__data = {};\n        }\n    }\n\n    /**\n     * Update the data in the storage (private method)\n     */\n    __updateData() {\n        if (!this.__isSupport || this.__isUpdating) return;\n        \n        this.__isUpdating = true;\n        \n        try {\n            const jsonData = JSON.stringify(this.__data);\n            const encryptedData = this.__encrypt(jsonData);\n            localStorage.setItem(this.__key, encryptedData);\n            logger.log(' StorageService: Updated data for key:', this.__key);\n        } catch (error) {\n            logger.error(' StorageService: Failed to update data:', error);\n            throw error;\n        } finally {\n            this.__isUpdating = false;\n        }\n    }\n\n    /**\n     * Emit event to all listeners (private method)\n     * @param {string} event - Event name\n     * @param {any} data - Event data\n     */\n    emit(event, data) {\n        if (!this.__listeners.has(event)) return;\n        \n        const listeners = this.__listeners.get(event);\n        listeners.forEach(callback => {\n            try {\n                callback(data);\n            } catch (error) {\n                console.error(` StorageService: Error in event listener for ${event}:`, error);\n            }\n        });\n    }\n\n    /**\n     * Create dynamic property for direct access\n     * @param {string} key - The key\n     * @param {number|null} ttl - TTL value\n     */\n    __createDynamicProperty(key, ttl) {\n        try {\n            if (!StorageService.privateProperties.includes(key) && !this.dynamicProperties.includes(key)) {\n                this.dynamicProperties.push(key);\n                Object.defineProperty(this, key, {\n                    set: (value) => this.set(key, value, ttl),\n                    get: () => this.get(key),\n                    configurable: true\n                });\n            }\n        } catch (error) {\n            logger.error(' StorageService: Failed to create dynamic property:', error);\n        }\n    }\n\n    /**\n     * Remove dynamic property\n     * @param {string} key - The key to remove\n     */\n    __removeDynamicProperty(key) {\n        try {\n            if (this.dynamicProperties && this.dynamicProperties.includes(key)) {\n                delete this[key];\n                this.dynamicProperties = this.dynamicProperties.filter(k => k !== key);\n            }\n        } catch (error) {\n            logger.error(' StorageService: Failed to remove dynamic property:', error);\n        }\n    }\n}\n\n// Export singleton instance\nconst storage = StorageService.getInstance('onejs_storage');\nexport default storage;","import { SEOTagConfig } from './SEOConfig.js';\nimport { ViewTemplates } from './ViewTemplate.js';\nimport { hasData, uniqId } from '../helpers/utils.js';\nimport { ViewEngine } from './ViewEngine.js';\nimport { ViewState } from './ViewState.js';\nimport { ATTR } from './ViewConfig.js';\nimport logger from './services/LoggerService.js';\nimport { OneMarkup } from './OneMarkup.js';\nimport { StorageService } from './services/StorageService.js';\nimport OneDOM from './OneDOM.js';\n\n\nclass SSRViewData {\n    constructor(viewData) {\n        const { instances, indexMap } = this.parseViewData(viewData);\n        this.instances = instances;\n        this.indexMap = indexMap;\n        this.index = 0;\n        this.maxIndex = indexMap.length - 1;\n    }\n    parseViewData(viewData) {\n        let instances = viewData.instances || {};\n        const instancesMap = new Map();\n        const keys = Object.keys(instances);\n        keys.forEach(key => {\n            instancesMap.set(key, instances[key]);\n        });\n        const indexMap = keys;\n        return {\n            instances: instancesMap,\n            indexMap: indexMap,\n        };\n    }\n    get(index = null) {\n        if (index === null) {\n            index = this.index;\n        }\n        this.index = index;\n        return this.instances.get(this.indexMap[index]) ?? null;\n    }\n    next() {\n        this.index++;\n        return this.get(this.index);\n    }\n    prev() {\n        this.index--;\n        return this.get(this.index);\n    }\n    getById(id) {\n        return this.instances.get(id) ?? null;\n    }\n    scan() {\n        let index = this.index;\n        this.index++;\n        let instance = this.get(index);\n        if (!instance) {\n            this.index--;\n            return null;\n        }\n        return instance;\n    }\n}\n\nclass SSRViewDataCollection {\n    constructor(views) {\n        /**\n         * @type {Object<string, SSRViewData>}\n         */\n        this.views = new Map();\n        this.setViews(views);\n    }\n    setViews(views) {\n        if (typeof views !== 'object' || !views || Object.keys(views).length === 0) {\n            return;\n        }\n        Object.keys(views).forEach(name => {\n            this.views.set(name, new SSRViewData(views[name]));\n        });\n    }\n    get(name) {\n        return this.views.get(name) ?? null;\n    }\n    scan(name) {\n        return this.get(name)?.scan() ?? null;\n    }\n    getInstance(name, id) {\n        return this.get(name)?.getById(id) ?? null;\n    }\n}\n\nexport class View {\n    constructor(App = null) {\n        /**\n         * @type {Application}\n         */\n        this.App = App;\n\n        this.markupService = OneMarkup;\n        /**\n         * @type {StorageService}\n         */\n        this.storageService = StorageService.getInstance('onejs_view_data');\n        /**\n         * @type {HTMLElement}\n         */\n        this.container = null;\n        /**\n         * @type {Object<string, function>}\n         */\n        this.stateChangeListeners = {};\n        /**\n         * @type {ViewEngine}\n         */\n        this.currentMasterView = null;\n        /**\n         * @type {ViewEngine}\n         */\n        this.Engine = ViewEngine;\n        /**\n         * @type {ViewState}\n         */\n        this.State = ViewState;\n        /**\n         * @type {Object<string, ViewEngine>}\n         */\n        this.templates = ViewTemplates;\n        /**\n         * @type {Object<string, string>}\n         */\n        this._sections = {};\n        /**\n         * @type {Array<string>}\n         */\n        this._changedSections = [];\n        /**\n         * @type {Object<string, Array<string>>}\n         */\n        this._stacks = {};\n\n        /**\n         * @type {boolean}\n         */\n        this.scanMode = false;\n        /**\n         * @type {Object<string, boolean>}\n         */\n        this._once = {};\n        /**\n         * @type {HTMLElement}\n         */\n        this.vitualContainer = document.createElement('div');\n        this.vitualContainer.setAttribute('id', 'data-vitual-container');\n        this.vitualContainer.style.display = 'none';\n        /**\n         * @type {Array<ViewEngine>}\n         */\n        this.VIEW_MOUNTED_QUEUE = [];\n        /**\n         * @type {ViewEngine}\n         */\n        this.CURRENT_SUPER_VIEW = null;\n\n        this.CURRENT_SUPER_VIEW_PATH = null;\n        /**\n         * @type {boolean}\n         */\n        this.CURRENT_SUPER_VIEW_MOUNTED = false;\n        /**\n         * @type {ViewEngine}\n         */\n        this.CURRENT_VIEW = null;\n\n        this.CURRENT_VIEW_PATH = null;\n        /**\n         * @type {boolean}\n         */\n        this.CURRENT_VIEW_MOUNTED = false;\n\n        /**\n         * @type {Array<ViewEngine>}\n         */\n        this.SUPER_VIEW_STACK = [];\n        /**\n         * @type {Array<ViewEngine>}\n         */\n        this.ALL_VIEW_STACK = [];\n        /**\n         * @type {ViewEngine}\n         */\n        this.PAGE_VIEW = null;\n        /**\n         * @type {number}\n         */\n        this.renderTimes = -1;\n\n        /**\n         * @type {Object<string, ViewEngine>}\n         */\n        this.cachedViews = {};\n        /**\n         * @type {Object<string, any>}\n         */\n        this.serverRenderData = {};\n        /**\n         * @type {Map<string, ViewEngine>}\n         */\n        this.viewMap = new Map();\n\n        /**\n         * @type {Map<string, Object<string, any>>}\n         */\n        this.cachedPageData = new Map();\n\n        // document.body.appendChild(this.vitualContainer);\n        /**\n         * @type {Object<string, any>}\n         */\n        this.wrapperConfig = {\n\n        };\n\n        this.listeners = {};\n        this.systemData = {};\n        this.ssrData = {};\n        this.ssrViewManager = new SSRViewDataCollection();\n\n        /**\n         * @type {Map<string, ViewEngine>}\n         */\n        this.cachedPageView = new Map();\n\n        this.cachedTimes = 600; // mc nh cache 10 pht\n\n\n        /**\n         * @type {Object<string, any>}\n         */\n        this.SEO = {\n            tags: SEOTagConfig,\n            updateItem: function (key, value) {\n                const items = this.tags[key];\n                if (!items || items.length == 0) return false;\n                items.forEach(item => {\n                    let element = document.querySelector(item.selector);\n                    if (!element) {\n                        element = document.createElement(item.tag);\n                        if (item.attrs) {\n                            Object.entries(item.attrs).forEach(([key, value]) => {\n                                element.setAttribute(key, value);\n                            });\n                        }\n                        document.head.appendChild(element);\n                    };\n\n                    if (item.attribute) {\n                        if (item.attribute == \"@content\") {\n                            element.textContent = value;\n                        } else {\n                            element.setAttribute(item.attribute, value);\n                        }\n                    }\n                });\n                return true;\n            }\n        };\n\n\n\n\n\n    }\n\n    setApp(app) {\n        this.App = app;\n    }\n    setContainer(container) {\n        this.container = container;\n    }\n\n    /**\n     * Initialize SPA\n     */\n    init(data = {}) {\n        // console.log('App.View initialized', data);\n\n        // Clear sections and stacks on page load\n        this._sections = {};\n        this._stacks = {};\n        this._once = {};\n        this._changedSections = [];\n\n        // Initialize views if not already done\n        if (!this.templates) {\n            this.templates = ViewTemplates;\n        }\n\n        // Initialize current scope\n        this._currentScope = 'web';\n\n        this.ssrData = data?.ssrData || {};\n        this.ssrViewManager.setViews(this.ssrData);\n        this.systemData = data?.systemData || {};\n    }\n\n    /**\n     * Get view by name\n     * @param {string} name - View name\n     * @returns {ViewEngine|null} View object or null if not found\n     */\n    getView(name) {\n        return this.templates[name] || null;\n    }\n\n\n    /**\n     * Load and render view with master view handling\n     * @param {string} name - View name\n     * @param {Object} data - Data to pass to view\n     * @param {string} urlPath - URL path for the view\n     * @returns {Object<html: string, error: string, superView: ViewEngine, isSuperView: boolean, needInsert: boolean, ultraView: ViewEngine>} Final rendered HTML string\n     */\n    loadView(name, data = {}, urlPath = '') {\n        // console.log(' App.View.loadView called with:', name, data);\n        if (this.templates[name]) {\n            this.clearOldRendering();\n        }\n        this.renderTimes++;\n        let message = null;\n        this.CURRENT_SUPER_VIEW_MOUNTED = false;\n\n        try {\n            let hasCache = false;\n            if (this.cachedTimes > 0) {\n                let cacheKey = name.replace('.', '_') + '_' + urlPath?.replace(/\\//g, '_');\n                const cachedData = this.storageService.get(cacheKey);\n                if (cachedData) {\n                    data = { ...data, ...cachedData };\n                    hasCache = true;\n                }\n            }\n            // Get view from templates\n            let view = this.view(name, hasCache ? { ...data } : null);\n            // console.log(' View loaded:', view);\n            if (!view) {\n                message = `App.View.loadView: View '${name}' not found`;\n                return {\n                    error: `App.View.loadView: View '${name}' not found`,\n                    html: null,\n                    superView: null,\n                    isSuperView: false,\n                    needInsert: false,\n                };\n            }\n            if (urlPath) {\n                view.urlPath = urlPath;\n            }\n            if (this.cachedTimes > 0) {\n                if (this.PAGE_VIEW instanceof ViewEngine) {\n                    const oldCacheData = this.PAGE_VIEW.data;\n                    let cacheKey = this.PAGE_VIEW.path.replace('.', '_') + '_' + this.PAGE_VIEW.urlPath?.replace(/\\//g, '_');\n                    this.storageService.set(cacheKey, oldCacheData, 3600); // cache trong 1 gi\n                }\n            }\n\n            // Store view in array for tracking\n\n            let superView = null;\n            let superViewPath = null;\n            let result;\n            let currentViewPath = view.path;\n            let currentView = view;\n            let ultraView = view;\n            let renderIndex = 0;\n            // vng lp  render view cho n khi khng c super view hoc khng c super view th render view\n            do {\n                try {\n                    // console.log(' App.View.loadView in do while view:' + view.path);\n                    // kim tra view c super view khng\n                    if (view.hasSuperView) {\n                        this.ALL_VIEW_STACK.unshift(view);\n                        // console.log(' App.View.loadView has super view:', view.superViewPath);\n                        superViewPath = view.superViewPath;\n                        result = this.renderView(view);\n                        view = result;\n                        view.setIsSuperView(true);\n                        if (view && typeof view === 'object') {\n                            superView = view;\n                            ultraView = view;\n                        }\n                        // console.log(' App.View.loadView super view:', view);\n                    }\n                    // kim tra view c phi l super view khng\n                    else if (view.isSuperView) {\n                        if (superViewPath !== view.path) {\n                            this.SUPER_VIEW_STACK.unshift(view);\n                            superViewPath = view.path;\n                        }\n                        // superViewPath = view.path;\n                        superView = view;\n                        // console.log(' App.View.loadView is super view:', view.path);\n                        if (view.hasSuperView) {\n                            result = this.renderView(view, renderIndex > 0 ? view.data : null);\n                            view = result;\n                            view.setIsSuperView(true);\n                            if (view && typeof view === 'object') {\n                                superView = view;\n                                superViewPath = view.path;\n                                ultraView = view;\n                            }\n                        } else {\n                            result = '';// nu l super view th khng cn thm vo queue v khng render.  bc sau x l\n                        }\n                    }\n                    // nu khng c super view v khng phi l super view th render view\n                    else {\n\n                        this.ALL_VIEW_STACK.unshift(view);\n                        // this.PAGE_VIEW = view;\n                        // console.log(' App.View.loadView normal view:', view.path);\n                        result = this.renderView(view, renderIndex > 0 ? view.data : null);\n                        ultraView = view;\n                    }\n                } catch (error) {\n                    message = `App.View.loadView: Error rendering view '${name}':` + error.message;\n                    console.error(' App.View.loadView error:', error);\n                    return '';\n                }\n                renderIndex++;\n            } while (result && typeof result === 'object' && result instanceof ViewEngine)\n            // Update #spa-root with the final string\n            // console.log(\"view after check\", { currentViewPath, superViewPath })\n            try {\n                let html = result;\n                // diu kin c cn insert content vo html khng\n                const needInsert = !(superViewPath && superViewPath === this.CURRENT_SUPER_VIEW_PATH);\n                if (superViewPath) {\n                    // kim tra view c phi l super view khng\n                    if (!needInsert) { // nu khng cn insert content vo html th set trang thi super view mounted = true\n                        // console.log(' App.View.loadView need insert super view:', superViewPath);\n                        this.CURRENT_SUPER_VIEW_MOUNTED = true;\n                    } else { // nu cn insert content vo html th set trang thi super view mounted = false v render super view\n                        this.CURRENT_SUPER_VIEW_PATH = superViewPath;\n                        this.CURRENT_SUPER_VIEW = superView;\n                        // this.CURRENT_SUPER_VIEW_MOUNTED = false;\n                        html = superView.render();\n                        // console.log(' App.View.loadView render super view:', html);\n\n\n                    }\n                }\n                // console.log(' App.View.loadView need insert:', needInsert);\n                // console.log(' App.View.loadView return in try');\n                return {\n                    html: html,\n                    isSuperView: superViewPath ? true : false,\n                    needInsert: needInsert,\n                    superView: superView,\n                    ultraView: ultraView,\n                    error: null\n                };\n\n            } catch (error) {\n                message = 'App.View.loadView: Error updating DOM:', error;\n\n            }\n\n            // console.log(` App.View.loadView: Successfully loaded view '${name}'`);\n\n        } catch (error) {\n            message = `App.View.loadView: Critical error loading view '${name}':`, error;\n\n        }\n        return {\n            html: null,\n            needInsert: false,\n            superView: null,\n            ultraView: null,\n            isSuperView: false,\n            error: message\n        };\n    }\n\n\n    scanView(name, route = null) {\n        if (this.templates[name]) {\n            this.clearOldRendering();\n        }\n        this.renderTimes++;\n        let message = null;\n        this.CURRENT_SUPER_VIEW_MOUNTED = false;\n        try {\n            const viewData = this.ssrViewManager.scan(name);\n            if (!viewData) {\n                message = `App.View.scanView: View '${name}' not found`;\n                return {\n                    error: `App.View.scanView: View '${name}' not found`,\n                    html: null,\n                    superView: null,\n                    isSuperView: false,\n                    needInsert: false,\n                };\n            }\n            const data = viewData.data;\n            data.__SSR_VIEW_ID__ = viewData.viewId;\n            // console.log(' App.View.scanView called with:', name, data);\n\n            // Get view from templates\n            let view = this.view(name, data);\n            if (!view) {\n                message = `App.View.loadView: View '${name}' not found`;\n                return {\n                    error: `App.View.loadView: View '${name}' not found`,\n                    html: null,\n                    superView: null,\n                    isSuperView: false,\n                    needInsert: false,\n                };\n            }\n            if (route && route.$urlPath) {\n                view.urlPath = route.$urlPath;\n            }\n\n\n            // Store view in array for tracking\n            let superView = null;\n            let superViewPath = null;\n            let result;\n            let currentViewPath = view.path;\n            let currentView = view;\n            let ultraView = view;\n            this.PAGE_VIEW = view;\n            view.__scan(viewData);\n            // vng lp  render view cho n khi khng c super view hoc khng c super view th render view\n            let renderIndex = 0;\n            do {\n                try {\n\n                    // kim tra view c super view khng\n                    if (view.hasSuperView) {\n\n                        this.ALL_VIEW_STACK.unshift(view);\n                        superViewPath = view.superViewPath;\n                        result = this.scanRenderedView(view);\n                        view = result;\n                        view.setIsSuperView(true);\n                        if (view && typeof view === 'object') {\n                            superView = view;\n                            ultraView = view;\n                            if (!view.isScanned) {\n\n                                // ============================================================\n                                // CRITICAL FIX: Scan super view DOM + attach events\n                                // ============================================================\n                                // Get super view SSR data and scan it\n                                const superViewData = this.ssrViewManager.scan(superViewPath);\n                                if (superViewData) {\n                                    // logger.log(` View.scanView: Scanning super view ${superViewPath}`);\n                                    superView.__scan(superViewData);\n                                    // logger.log(` View.scanView: Super view ${superViewPath} scanned`);\n                                } else {\n                                    // logger.warn(` View.scanView: No SSR data for super view ${superViewPath}`);\n                                }\n                            }\n                        }\n                        // console.log(' App.View.scanView super view:', view);\n                    }\n                    // kim tra view c phi l super view khng\n                    else if (view.isSuperView) {\n                        if (superViewPath !== view.path) {\n                            this.SUPER_VIEW_STACK.unshift(view);\n                            superViewPath = view.path;\n                            ultraView = view;\n                        }\n\n                        superView = view;\n                        ultraView = view;\n                        // console.log(' App.View.scanView is super view:', view.path);\n                        if (view.hasSuperView) {\n                            result = this.scanRenderedView(view);\n                            view = result;\n                            view.setIsSuperView(true);\n                            if (view && typeof view === 'object') {\n                                superView = view;\n                                superViewPath = view.path;\n                                ultraView = view;\n                                if (!view.isScanned) {\n                                    // ============================================================\n                                    // CRITICAL FIX: Scan nested super view\n                                    // ============================================================\n                                    const nestedSuperViewData = this.ssrViewManager.scan(superViewPath);\n                                    if (nestedSuperViewData) {\n                                        // logger.log(` View.scanView: Scanning nested super view ${superViewPath}`);\n                                        superView.__scan(nestedSuperViewData);\n                                        // logger.log(` View.scanView: Nested super view ${superViewPath} scanned`);\n                                    }\n                                }\n                            }\n                        } else {\n                            result = '';// nu l super view th khng cn thm vo queue v khng render.  bc sau x l\n                        }\n                    }\n                    // nu khng c super view v khng phi l super view th render view\n                    else {\n                        this.ALL_VIEW_STACK.unshift(view);\n                        this.PAGE_VIEW = view;\n                        // console.log(' App.View.scanView normal view:', view.path);\n                        result = this.scanRenderedView(view);\n                        ultraView = view;\n                    }\n                } catch (error) {\n                    message = `App.View.scanView: Error rendering view '${name}':`, error;\n                    console.error(' App.View.scanView error:', error);\n                    return '';\n                }\n                renderIndex++;\n            } while (result && typeof result === 'object' && result.constructor === this.Engine)\n            // Update #spa-root with the final string\n            // console.log(\"view after check\", { currentViewPath, superViewPath })\n            try {\n                let html = result;\n                // diu kin c cn insert content vo html khng\n                const needInsert = !(superViewPath && superViewPath === this.CURRENT_SUPER_VIEW_PATH);\n                if (superViewPath) {\n                    // kim tra view c phi l super view khng\n                    if (!needInsert) { // nu khng cn insert content vo html th set trang thi super view mounted = true\n                        console.log(' App.View.scanView need insert super view:', superViewPath);\n                        this.CURRENT_SUPER_VIEW_MOUNTED = true;\n                    } else { // nu cn insert content vo html th set trang thi super view mounted = false v render super view\n                        this.CURRENT_SUPER_VIEW_PATH = superViewPath;\n                        this.CURRENT_SUPER_VIEW = superView;\n                        this.CURRENT_SUPER_VIEW_MOUNTED = false;\n                        html = superView.virtualRender();\n                        console.log(' App.View.scanView render super view:', html);\n\n\n                    }\n                }\n\n                // ============================================================\n                // LIFECYCLE: Mount all views in bottom-up order\n                // ============================================================\n                // After scanning and virtual render complete, mount all views\n                // in reverse order (deepest layout  page view)\n                this.mountAllViewsFromStack(this.renderTimes).then(() => {\n                    logger.log(' View.scanView: All views mounted successfully in bottom-up order');\n                }).catch(error => {\n                    logger.error(' View.scanView: Error mounting views:', error);\n                });\n\n                return {\n                    html: html,\n                    isSuperView: superViewPath ? true : false,\n                    needInsert: needInsert,\n                    superView: superView,\n                    ultraView: ultraView,\n                    error: null\n                };\n\n            } catch (error) {\n                message = 'App.View.scanView: Error updating DOM:' + error.message;\n\n            }\n\n            // console.log(` App.View.scanView: Successfully loaded view '${name}'`);\n\n        } catch (error) {\n            message = `App.View.scanView: Critical error loading view '${name}':` + error.message;\n\n        }\n        return {\n            html: null,\n            needInsert: false,\n            superView: null,\n            isSuperView: false,\n            ultraView: null,\n            error: message\n        };\n    }\n\n    mountView(viewName, params = {}, route = null) {\n        try {\n            let currentSuperView = this.CURRENT_SUPER_VIEW;\n            if (currentSuperView && currentSuperView instanceof ViewEngine) {\n                currentSuperView.unmounted();\n            }\n            const viewResult = this.loadView(viewName, params, route?.$urlPath || '');\n            if (viewResult.error) {\n                console.error('View rendering error:', viewResult.error);\n                return;\n            }\n            console.log('View rendered successfully:', viewResult);\n\n            if (viewResult.needInsert && viewResult.html) {\n                const container = this.container || document.querySelector('#app-root') || document.querySelector('#app') || document.body;\n                const html = viewResult.html\n                if (container) {\n                    OneDOM.setHTML(container, html);\n                }\n            } else {\n                console.log('Router: Not updating DOM - needInsert:', viewResult.needInsert, 'html:', !!viewResult.html);\n            }\n\n            // Emit changed sections\n            if (this.emitChangedSections) {\n                this.emitChangedSections();\n            }\n\n            if (viewResult.ultraView && viewResult.ultraView instanceof ViewEngine) {\n                viewResult.ultraView.mounted();\n            }\n            this.CURRENT_SUPER_VIEW_MOUNTED = true; // set trang thi super view mounted = true\n\n\n        } catch (error) {\n            console.error('Error rendering view:', error);\n        }\n    }\n\n    mountViewScan(viewName, params = {}, route = null) {\n\n        // ============================================================\n        // CORE HYDRATION: Scan SSR HTML and attach JS behavior\n        // ============================================================\n        // scanView() will:\n        // 1. Parse SSR data from HTML comments\n        // 2. Create view instances (page + layouts)\n        // 3. Call virtualRender() to setup relationships\n        // 4. Scan DOM and attach event handlers\n        // 5. Setup state subscriptions\n        // 6. Mount all views in bottom-up order (deepest layout  page)\n        const scanResult = this.scanView(viewName);\n        // console.log(scanResult);\n        if (scanResult.error) {\n            console.error(' Router.hydrateViews: Scan error:', scanResult.error);\n            return;\n        }\n\n        if (scanResult.ultraView && scanResult.ultraView instanceof ViewEngine) {\n            scanResult.ultraView.mounted();\n        }\n        this.CURRENT_SUPER_VIEW_MOUNTED = true; // set trang thi super view mounted = true\n        this._isHydrated = true;\n    }\n\n\n    mountContent(htmlContent) {\n        const container = this.container || document.querySelector('#app-root') || document.querySelector('#app') || document.body;\n        if (container) {\n            OneDOM.setHTML(container, htmlContent);\n        }\n    }\n\n\n    // ============================================================================\n    // EVENT FUNCTIONS\n    // ============================================================================\n\n\n    on(event, callback) {\n        if (typeof event !== 'string' || event === '') {\n            return false;\n        }\n        if (typeof callback !== 'function') {\n            return false;\n        }\n        if (!this.listeners[event]) {\n            this.listeners[event] = [];\n        }\n        this.listeners[event].push(callback);\n    }\n    off(event, callback) {\n        if (typeof event !== 'string' || event === '') {\n            return false;\n        }\n        if (typeof callback !== 'function') {\n            return false;\n        }\n        if (!this.listeners[event]) {\n            return;\n        }\n        this.listeners[event] = this.listeners[event].filter(cb => cb !== callback);\n    }\n    emit(event, ...args) {\n        if (typeof event !== 'string' || event === '') {\n            return false;\n        }\n        if (!this.listeners[event]) {\n            return;\n        }\n        this.listeners[event].forEach(callback => callback(...args));\n    }\n    // ============================================================================\n    // CORE FUNCTIONS\n    // ============================================================================\n\n    /**\n     * Generate unique view ID\n     * @returns {string} UUID v4\n     */\n    generateViewId() {\n        return uniqId();\n    }\n\n    /**\n     * Execute function and return result\n     * @param {Function} fn - Function to execute\n     * @returns {string} Result as string\n     */\n    execute(fn, defaultValue = '') {\n        try {\n            const result = fn();\n            return result !== undefined ? result : defaultValue;\n        } catch (error) {\n            logger.error('App.execute error:', error);\n            return defaultValue;\n        }\n    }\n\n    evaluate(fn, defaultValue = '') {\n        try {\n            const result = fn();\n            return result !== undefined ? result : defaultValue;\n        } catch (error) {\n            logger.error('App.evaluate error:', error);\n            return defaultValue;\n        }\n    }\n    /**\n     * Escape string for HTML output\n     * @param {*} value - Value to escape\n     * @returns {string} Escaped string\n     */\n    escString(value) {\n        if (value === null || value === undefined) {\n            return '';\n        }\n\n        const str = String(value);\n        return str\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;');\n    }\n\n    /**\n     * Get text content (for preloader messages)\n     * @param {string} key - Text key\n     * @returns {string} Text content\n     */\n    text(key) {\n        const texts = {\n            'loading': 'Loading...',\n            'error': 'Error occurred',\n            'not_found': 'Not found',\n            'unauthorized': 'Unauthorized'\n        };\n\n        return texts[key] || key;\n    }\n\n\n    // ============================================================================\n    // INIT FUNCTIONS\n    // ============================================================================\n    setSuperViewPath(superView) {\n        this.CURRENT_SUPER_VIEW_PATH = superView;\n    }\n    addViewEngine(renderTimes, viewEngine) {\n        if (typeof this.VIEW_MOUNTED_QUEUE[renderTimes] === 'undefined') {\n            this.VIEW_MOUNTED_QUEUE[renderTimes] = [];\n        }\n        this.VIEW_MOUNTED_QUEUE[renderTimes].push(viewEngine);\n    }\n    /**\n     * Gi hm mounted ca ViewEngine\n     * @param {number} renderTimes - S ln render hin ti (dng lm key cho queue).\n     * @param {string} viewEngineId - ID ca ViewEngine cn gi hm mounted.\n     */\n    callViewEngineMounted(renderTimes, viewEngineId) {\n        return;\n    }\n\n    /**\n     * Mount all views in bottom-up order (last  first)\n     * This ensures parent views mount after their children\n     *\n     * Flow:\n     * 1. Layout View 2 (deepest) mounted first\n     * 2. Layout View 1 mounted\n     * 3. Included views mounted\n     * 4. First View (page view) mounted last\n     *\n     * @param {number} renderTimes - S ln render hin ti\n     * @returns {Promise<void>}\n     */\n    async mountAllViewsBottomUp(renderTimes) {\n        // logger.log(` View.mountAllViewsBottomUp: Starting bottom-up mounting for renderTimes=${renderTimes}`);\n\n        // Check if queue exists and has views\n        if (!this.VIEW_MOUNTED_QUEUE[renderTimes] || !this.VIEW_MOUNTED_QUEUE[renderTimes].length) {\n            logger.warn(` View.mountAllViewsBottomUp: No views in queue for renderTimes=${renderTimes}`);\n            return;\n        }\n\n        // Wait for super view to be ready\n        if (!this.CURRENT_SUPER_VIEW_MOUNTED) {\n            logger.log(` View.mountAllViewsBottomUp: Waiting for super view to be mounted...`);\n            await new Promise(resolve => {\n                const checkInterval = setInterval(() => {\n                    if (this.CURRENT_SUPER_VIEW_MOUNTED) {\n                        clearInterval(checkInterval);\n                        resolve();\n                    }\n                }, 50); // Check every 50ms (faster than 100ms)\n            });\n        }\n\n        // Get queue for this render\n        const queue = this.VIEW_MOUNTED_QUEUE[renderTimes];\n        logger.log(` View.mountAllViewsBottomUp: Processing ${queue.length} views`);\n\n        // Mount in reverse order (bottom-up: last  first)\n        // This ensures deepest layouts mount first, then parent views\n        for (let i = queue.length - 1; i >= 0; i--) {\n            const viewEngine = queue[i];\n\n            try {\n                // logger.log(` View.mountAllViewsBottomUp: Mounting view ${i + 1}/${queue.length} - ${viewEngine.path} (${viewEngine.id})`);\n\n                // Call beforeMount lifecycle\n                if (typeof viewEngine.beforeMount === 'function') {\n                    viewEngine.beforeMount();\n                }\n\n                // Call mounted lifecycle\n                if (typeof viewEngine.mounted === 'function') {\n                    viewEngine.mounted();\n                }\n\n                logger.log(` View.mountAllViewsBottomUp: Successfully mounted ${viewEngine.path}`);\n            } catch (error) {\n                logger.error(` View.mountAllViewsBottomUp: Error mounting ${viewEngine.path}:`, error);\n                // Continue mounting other views even if one fails\n            }\n        }\n\n        // Clear the queue after mounting all views\n        this.VIEW_MOUNTED_QUEUE[renderTimes] = [];\n        // logger.log(` View.mountAllViewsBottomUp: All views mounted successfully, queue cleared`);\n    }\n\n    /**\n     * Mount all views using stack-based order\n     * Uses ALL_VIEW_STACK which is built during scanView\n     * Order: super views first (bottom), then included views, then page view (top)\n     *\n     * @param {number} renderTimes - S ln render hin ti\n     * @returns {Promise<void>}\n     */\n    async mountAllViewsFromStack(renderTimes) {\n        // logger.log(` View.mountAllViewsFromStack: Starting stack-based mounting`);\n\n        // Check if we have views in queue\n        if (!this.VIEW_MOUNTED_QUEUE[renderTimes] || !this.VIEW_MOUNTED_QUEUE[renderTimes].length) {\n            logger.warn(` View.mountAllViewsFromStack: No views in queue`);\n            return;\n        }\n\n        // Wait for super view to be ready\n        if (!this.CURRENT_SUPER_VIEW_MOUNTED) {\n            logger.log(` View.mountAllViewsFromStack: Waiting for super view...`);\n            await new Promise(resolve => {\n                const checkInterval = setInterval(() => {\n                    if (this.CURRENT_SUPER_VIEW_MOUNTED) {\n                        clearInterval(checkInterval);\n                        resolve();\n                    }\n                }, 50);\n            });\n        }\n\n        // If we have a stack (from scanView), use it for ordering\n        if (this.ALL_VIEW_STACK && this.ALL_VIEW_STACK.length > 0) {\n            // logger.log(` View.mountAllViewsFromStack: Using ALL_VIEW_STACK (${this.ALL_VIEW_STACK.length} views)`);\n\n            // Mount super views first (they're at the beginning of stack)\n            const superViews = this.SUPER_VIEW_STACK || [];\n            for (let i = superViews.length - 1; i >= 0; i--) {\n                const viewEngine = superViews[i];\n                try {\n                    // logger.log(` View.mountAllViewsFromStack: Mounting super view ${viewEngine.path}`);\n                    if (typeof viewEngine.beforeMount === 'function') {\n                        viewEngine.beforeMount();\n                    }\n                    if (typeof viewEngine.mounted === 'function') {\n                        viewEngine.mounted();\n                    }\n                    // logger.log(` Mounted super view: ${viewEngine.path}`);\n                } catch (error) {\n                    logger.error(` Error mounting super view ${viewEngine.path}:`, error);\n                }\n            }\n\n            // Then mount page view and its includes (from ALL_VIEW_STACK)\n            for (let i = this.ALL_VIEW_STACK.length - 1; i >= 0; i--) {\n                const viewEngine = this.ALL_VIEW_STACK[i];\n\n                // Skip if already mounted as super view\n                if (superViews.includes(viewEngine)) {\n                    continue;\n                }\n\n                try {\n                    // logger.log(` View.mountAllViewsFromStack: Mounting view ${viewEngine.path}`);\n                    if (typeof viewEngine.beforeMount === 'function') {\n                        viewEngine.beforeMount();\n                    }\n                    if (typeof viewEngine.mounted === 'function') {\n                        viewEngine.mounted();\n                    }\n                    // logger.log(` Mounted view: ${viewEngine.path}`);\n                } catch (error) {\n                    logger.error(` Error mounting view ${viewEngine.path}:`, error);\n                }\n            }\n\n            // Clear stacks\n            this.ALL_VIEW_STACK = [];\n            this.SUPER_VIEW_STACK = [];\n            // logger.log(` View.mountAllViewsFromStack: Stack-based mounting complete`);\n        } else {\n            // Fallback to bottom-up queue mounting\n            // logger.log(` View.mountAllViewsFromStack: No stack available, falling back to queue mounting`);\n            await this.mountAllViewsBottomUp(renderTimes);\n        }\n\n        // Clear the queue\n        this.VIEW_MOUNTED_QUEUE[renderTimes] = [];\n    }\n\n    // ============================================================================\n    // VIEW FUNCTIONS\n    // ============================================================================\n\n    templateToDom(template) {\n        /**\n         * @type {HTMLTemplateElement}\n         */\n        const templator = document.createElement('template');\n        templator.innerHTML = template;\n        return templator.content.firstChild;\n    }\n\n\n\n    /**\n     * Include a view\n     * @param {string} viewName - Name of the view to include\n     * @param {Object} data - Data to pass to the view\n     * @returns {string} Rendered view content\n     */\n    include(viewName, data = {}) {\n        try {\n            const view = this.view(viewName, { ...data }, false);\n            return view;\n        } catch (error) {\n            console.error(`App.View.include error for '${viewName}':`, error);\n            return '';\n        }\n    }\n\n    /**\n     * Include a view if it exists\n     * @param {string} viewName - Name of the view to include\n     * @param {Object} data - Data to pass to the view\n     * @returns {string} Rendered view content or empty string\n     */\n    includeIf(viewName, data = {}) {\n        try {\n            return this.exists(viewName) ? this.include(viewName, data) : null;\n        } catch (error) {\n            console.error(`App.View.includeIf error for '${viewName}':`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Extend a view (for @extends directive)\n     * @param {string} superViewName - Name of the parent view\n     * @param {Object} data - Data to pass to the parent view\n     * @returns {App.View.Engine} View Engine\n     */\n    extendView(superViewName, data = {}) {\n        try {\n            const view = this.view(superViewName, hasData(data) ? data : null, true);\n            if (!view) {\n                // console.warn(`App.View.extendView: Parent view '${superViewName}' not found`);\n                return null;\n            }\n            this.cachedViews[superViewName] = view;\n            return this.cachedViews[superViewName];\n\n        } catch (error) {\n            // console.error(`App.View.extendView error for '${superViewName}':`, error);\n            return null;\n        }\n    }\n\n\n    registerSubscribe(attr, yieldKey, defaultContent = '') {\n        let output = '';\n        const subscribeAttr = [];\n        if (typeof attr === 'string') {\n            output += ` ${attr}=\"${this.yieldContent(yieldKey, defaultContent)}\"`;\n            subscribeAttr.push(`${attr}:${yieldKey}`);\n        }\n        else if (typeof attr === 'object') {\n            const keys = Object.keys(attr);\n            for (const key of keys) {\n                if (key.toLowerCase() === '#content') {\n                    output += ` ${ATTR.KEYS.YIELD_CONTENT}=\"${attr[key]}\"`;\n                }\n                else if (key.toLowerCase() === '#children') {\n                    output += ` ${ATTR.KEYS.YIELD_CHILDREN}=\"${attr[key]}\"`;\n                }\n                else {\n                    output += ` ${key}=\"${this.yieldContent(attr[key], defaultContent)}\"`;\n                    subscribeAttr.push(`${key}:${attr[key]}`);\n                }\n            }\n        }\n        output += ` ${ATTR.KEYS.YIELD_ATTR}=\"${subscribeAttr.join(',')}\"`;\n        return output;\n    }\n\n    exists(viewName) {\n        return this.templates && this.templates[viewName] ? true : false;\n    }\n\n    // ========================================================================\n    // RENDER/SCAN METHODS - OPTIMIZED\n    // ========================================================================\n\n    /**\n     * Unified view rendering/scanning method\n     *\n     * @param {ViewEngine} view - View engine instance\n     * @param {Object} variableData - Variable data to pass to the view\n     * @param {string} mode - Render mode: 'csr' (render) or 'ssr' (virtualRender)\n     * @returns {string|ViewEngine} Rendered content or ViewEngine for extends\n     *\n     * @description\n     * Handles both CSR (Client-Side Rendering) and SSR (Server-Side Scanning):\n     * - CSR mode: Calls render(), prerender() for actual HTML generation\n     * - SSR mode: Calls virtualRender(), virtualPrerender() for relationship setup\n     *\n     * Async Data Handling:\n     * - @await('client'): Loads data from current URL via getURIDAta()\n     * - @fetch(url, data, headers): Loads data using custom fetch config\n     *\n     * Note: virtualRender/virtualPrerender do NOT generate HTML!\n     * They only setup view hierarchy, sections, state subscriptions, and prepare for hydration.\n     */\n    renderOrScanView(view, variableData = null, mode = 'csr') {\n        let result = null;\n        const renderTimes = this.renderTimes;\n\n\n        // Determine render methods based on mode\n        // CSR: render() generates HTML\n        // SSR: virtualRender() only sets up relationships (NO HTML)\n        const renderMethod = mode === 'ssr' ? 'virtualRender' : 'render';\n        const prerenderMethod = mode === 'ssr' ? 'virtualPrerender' : 'prerender';\n\n        // ====================================================================\n        // CASE 1: No async data - simple render/scan\n        // ====================================================================\n        if (!(view.hasAwaitData || view.hasFetchData)) {\n            if (variableData) {\n                view.updateVariableData({ ...variableData });\n            }\n            result = view[renderMethod]();\n\n            return result;\n        }\n\n        // ====================================================================\n        // CASE 2: Has async data but no prerender\n        // ====================================================================\n        const isPrerender = view.hasPrerender;\n        if (!isPrerender) {\n            if (variableData) {\n                view.updateVariableData(variableData);\n            }\n            result = view[renderMethod]();\n        }\n\n        // ====================================================================\n        // CASE 3A: Has @await - Load data by current URL\n        // ====================================================================\n        if (view.hasAwaitData) {\n            // First: Show prerender (loading state)\n            if (isPrerender) {\n                result = view[prerenderMethod]();\n            }\n\n            // Handle based on mode\n            if (mode === 'csr') {\n                // CSR: Load data from current URL then re-render\n                this.App.API.getURIDAta().then(data => {\n\n                    view.updateVariableData(data);\n                    // Re-render with loaded data\n                    view[renderMethod]();\n\n                });\n            } else {\n                // SSR: Just setup relationships (no data loading needed)\n                result = view[renderMethod]();\n\n                if (addToQueue) {\n                    this.callViewEngineMounted(renderTimes, view.id);\n                }\n            }\n        }\n\n        // ====================================================================\n        // CASE 3B: Has @fetch - Load data by fetch config\n        // ====================================================================\n        else if (view.hasFetchData) {\n            // First: Show prerender (loading state)\n            if (isPrerender) {\n                result = view[prerenderMethod]();\n            }\n\n            // Handle based on mode\n            if (mode === 'csr') {\n                // CSR: Fetch data using config (url, method, data, headers)\n                const fetchConfig = view.fetch || {};\n                // TODO: Implement fetch logic with config\n                // this.App.API.fetch(fetchConfig).then(data => {\n                //     view[renderMethod]();\n                //     if (addToQueue) {\n                //         this.callViewEngineMounted(renderTimes, view.id);\n                //     }\n                // });\n\n                // Temporary: Use same as await until fetch is implemented\n                this.App.API.getURIDAta().then(data => {\n                    view.updateVariableData(data);\n                    view[renderMethod]();\n                    if (addToQueue) {\n                        this.callViewEngineMounted(renderTimes, view.id);\n                    }\n                });\n            } else {\n                // SSR: Just setup relationships (no data loading needed)\n                result = view[renderMethod]();\n\n                if (addToQueue) {\n                    this.callViewEngineMounted(renderTimes, view.id);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Render a view (CSR - Client-Side Rendering)\n     *\n     * Generates actual HTML content by calling:\n     * - view.render() - Returns HTML string\n     * - view.prerender() - Returns loading state HTML\n     *\n     * @param {ViewEngine} view - View engine\n     * @param {Object} variableData - Variable data to pass to the view\n     * @returns {string} Rendered HTML content\n     */\n    renderView(view, variableData = null) {\n        return this.renderOrScanView(view, variableData, 'csr');\n    }\n\n    /**\n     * Scan rendered view (SSR - Server-Side Scanning)\n     *\n     * DOES NOT generate HTML - only sets up relationships by calling:\n     * - view.virtualRender() - Setup hierarchy, sections, state (NO HTML)\n     * - view.virtualPrerender() - Setup loading relationships (NO HTML)\n     *\n     * Purpose of virtual methods:\n     * 1. Setup view hierarchy (extends/includes)\n     * 2. Register sections with parent views\n     * 3. Setup state subscriptions for reactive blocks\n     * 4. Prepare view instances for DOM hydration\n     * 5. Map server data to client view structure\n     *\n     * @param {ViewEngine} view - View engine\n     * @param {Object} variableData - Variable data to pass to the view\n     * @returns {ViewEngine} ViewEngine instance for extends chain\n     */\n    scanRenderedView(view, variableData = null) {\n        return this.renderOrScanView(view, variableData, 'ssr');\n    }\n\n    /**\n     * Render a view by name\n     * @param {string} name - View name\n     * @param {Object} data - Data to pass to view\n     * @param {string} scope - View scope\n     * @returns {ViewEngine|null} Rendered view content\n     */\n    view(name, data = null, cache = false) {\n        try {\n            // check if view is cached\n            if (cache && this.cachedViews[name]) {\n                const view = this.cachedViews[name];\n                view.reset();\n                if (data) {\n                    view.updateVariableData({ ...data });\n                }\n                return view;\n            }\n            // check if view is valid\n            if (!this.templates[name]) {\n                console.warn(`App.View.view: View '${name}' not found in scope '${scope}'`);\n                return null;\n            }\n            // check if view is valid\n            if (typeof this.templates[name] !== 'function') {\n                console.warn(`App.View.view: View '${name}' render function is not valid`);\n                return null;\n            }\n\n            // get view wrapper\n            const viewWrapper = this.templates[name];\n            // create view\n            const view = viewWrapper(data ? { ...data } : {}, { App: this.App, View: this, ...this.systemData });\n            // view.updateVariableData(data);\n            // check if view is valid\n            if (!view) {\n                console.error(`App.View.view: View config not found for '${name}' in scope '${scope}'`);\n                return null;\n            }\n\n            view.setApp(this.App);\n            // cache view\n            this.cachedViews[name] = view;\n            return view;\n\n        } catch (error) {\n            console.error(`App.View.view: Critical error loading view '${name}':`, error);\n            return null;\n        }\n    };\n\n\n    /**\n     * Clear old rendering data and cleanup memory\n     * Called before each new render to prevent memory leaks\n     *\n     * Cleanup tasks:\n     * 1. Remove old views from previous render cycles\n     * 2. Clear event listeners from unmounted views\n     * 3. Cleanup old render queues (keep only last 3 cycles)\n     * 4. Trim view cache if too large (LRU eviction)\n     */\n    clearOldRendering() {\n        const currentRenderTime = this.renderTimes;\n\n        // ================================================================\n        // 1. Cleanup old render queues (keep only last 3 cycles)\n        // ================================================================\n        if (currentRenderTime > 3) {\n            const oldRenderTime = currentRenderTime - 3;\n            if (this.VIEW_MOUNTED_QUEUE[oldRenderTime]) {\n                // logger.log(` View.clearOldRendering: Cleaning queue for renderTime=${oldRenderTime}`);\n\n                // Unmount views from old queue\n                const oldViews = this.VIEW_MOUNTED_QUEUE[oldRenderTime];\n                if (Array.isArray(oldViews)) {\n                    oldViews.forEach(view => {\n                        if (view && typeof view === 'object') {\n                            this.unmountView(view);\n                        }\n                    });\n                }\n\n                // Delete old queue\n                delete this.VIEW_MOUNTED_QUEUE[oldRenderTime];\n            }\n        }\n\n        // ================================================================\n        // 2. Trim view cache if too large (LRU: max 50 views)\n        // ================================================================\n        const MAX_CACHED_VIEWS = 50;\n        const cachedKeys = Object.keys(this.cachedViews);\n        if (cachedKeys.length > MAX_CACHED_VIEWS) {\n            // logger.log(` View.clearOldRendering: Cache too large (${cachedKeys.length}), trimming to ${MAX_CACHED_VIEWS}`);\n\n            // Remove oldest views (simple strategy: remove first N)\n            const toRemove = cachedKeys.slice(0, cachedKeys.length - MAX_CACHED_VIEWS);\n            toRemove.forEach(key => {\n                const view = this.cachedViews[key];\n                if (view) {\n                    this.unmountView(view);\n                }\n                delete this.cachedViews[key];\n            });\n        }\n        this.ALL_VIEW_STACK = [];\n        this.SUPER_VIEW_STACK = [];\n        this.PAGE_VIEW = null;\n\n        // ================================================================\n        // 3. Clear orphaned event data to prevent memory leaks\n        // ================================================================\n        this.clearOrphanedEventData();\n    }\n\n\n\n    /**\n     * Unmount a view and cleanup its resources\n     *\n     * @param {ViewEngine} view - View to unmount\n     * @returns {boolean} Success status\n     *\n     * @description\n     * Properly cleanup a view by:\n     * 1. Call beforeUnmount() lifecycle hook\n     * 2. Remove event listeners via removeEvents()\n     * 3. Remove from viewMap\n     * 4. Call unmounted() lifecycle hook\n     * 5. Call destroy() if defined\n     */\n    unmountView(view) {\n        if (!view || typeof view !== 'object') {\n            logger.warn(' View.unmountView: Invalid view object');\n            return false;\n        }\n\n        try {\n            logger.log(` View.unmountView: Unmounting view ${view.id} (${view.path})`);\n\n            // Step 1: Call beforeUnmount lifecycle\n            if (typeof view.beforeUnmount === 'function') {\n                view.beforeUnmount();\n            }\n\n            // Step 2: Remove event listeners\n            if (typeof view.removeEvents === 'function') {\n                view.removeEvents();\n            }\n\n            // Step 3: Remove from viewMap\n            if (this.viewMap.has(view.id)) {\n                this.viewMap.delete(view.id);\n            }\n\n            // Step 4: Call unmounted lifecycle\n            if (typeof view.unmounted === 'function') {\n                view.unmounted();\n            }\n\n            // Step 5: Call destroy if defined\n            if (typeof view.destroy === 'function') {\n                view.destroy();\n            }\n\n            logger.log(` View.unmountView: View ${view.id} unmounted successfully`);\n            return true;\n\n        } catch (error) {\n            logger.error(` View.unmountView: Error unmounting view ${view.id}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Reset view state\n     * Clears view stacks but does NOT unmount views\n     * Use clearOldRendering() for proper cleanup\n     */\n    resetView() {\n        logger.log(' View.resetView: Resetting view stacks');\n        this.SUPER_VIEW_STACK = [];\n        this.ALL_VIEW_STACK = [];\n        this.PAGE_VIEW = null;\n\n    }\n\n    /**\n     * Clear orphaned event data from all views\n     * Call this when DOM changes significantly to prevent memory leaks\n     */\n    clearOrphanedEventData() {\n        logger.log(' View.clearOrphanedEventData: Cleaning up orphaned event handlers');\n\n        // Clear from all cached views\n        Object.values(this.cachedViews).forEach(view => {\n            if (view && typeof view.clearOrphanedEventData === 'function') {\n                view.clearOrphanedEventData();\n            }\n        });\n\n        // Clear from current views in stacks\n        [...this.ALL_VIEW_STACK, ...this.SUPER_VIEW_STACK].forEach(view => {\n            if (view && typeof view.clearOrphanedEventData === 'function') {\n                view.clearOrphanedEventData();\n            }\n        });\n\n        // Clear from current view\n        if (this.CURRENT_VIEW && typeof this.CURRENT_VIEW.clearOrphanedEventData === 'function') {\n            this.CURRENT_VIEW.clearOrphanedEventData();\n        }\n\n        if (this.CURRENT_SUPER_VIEW && typeof this.CURRENT_SUPER_VIEW.clearOrphanedEventData === 'function') {\n            this.CURRENT_SUPER_VIEW.clearOrphanedEventData();\n        }\n    }\n\n\n    // ============================================================================\n    // SECTION FUNCTIONS\n    // ============================================================================\n\n\n    /**\n     * Define a section\n     * @param {string} name - Section name\n     * @param {string} content - Section content\n     * @param {string} type - Section type\n     */\n    section(name, content, type = 'string') {\n        let oldContent = this._sections[name];\n        this._sections[name] = content;\n        if (oldContent !== content) {\n            this._changedSections.push(name);\n        }\n    };\n\n    /**\n     * Yield a section content\n     * @param {string} name - Section name\n     * @param {string} defaultContent - Default content if section not found\n     * @returns {string} Section content\n     */\n    yield(name, defaultContent = '') {\n        return this._sections[name] || defaultContent;\n    }\n    yieldContent(name, defaultContent = '') {\n        return this._sections[name] || defaultContent;\n    }\n\n\n    /**\n     * Render all sections as HTML\n     * @returns {string} Rendered sections HTML\n     */\n    renderSections() {\n        let html = '';\n        for (const [name, content] of Object.entries(this._sections)) {\n            html += content;\n        }\n        return html;\n    }\n\n    /**\n     * Check if section exists\n     * @param {string} name - Section name\n     * @returns {boolean} True if section exists\n     */\n    hasSection(name) {\n        return name in this._sections;\n    }\n\n    /**\n     * Get changed sections\n     * @returns {string[]} Changed sections\n     */\n    getChangedSections() {\n        return this._changedSections;\n    };\n\n    /**\n     * Reset changed sections list\n     */\n    resetChangedSections() {\n        this._changedSections = [];\n    };\n\n    /**\n     * Check if section has changed\n     * @param {string} name - Section name\n     * @returns {boolean} True if section has changed\n     */\n    isChangedSection(name) {\n        return this._changedSections.includes(name);\n    };\n\n\n    /**\n     * Emit changed sections to subscribed elements\n     */\n    emitChangedSections() {\n        this._changedSections.forEach(name => {\n            if (this.SEO.updateItem(name, this._sections[name])) {\n                return;\n            }\n            // Escape special characters in CSS selector\n            const escapedName = name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n            // Find elements subscribed to this section\n            const subscribedElements = document.querySelectorAll(`[data-yield-subscribe-key*=\"${escapedName}\"]`);\n\n            subscribedElements.forEach(element => {\n                const subscribeKey = element.getAttribute('data-yield-subscribe-key');\n                const subscribeTarget = element.getAttribute('data-yield-subscribe-target');\n                const subscribeAttr = element.getAttribute('data-yield-subscribe-attr');\n\n                if (subscribeKey && subscribeKey.includes(name)) {\n                    const sectionContent = this._sections[name] || '';\n\n                    if (subscribeTarget === 'content' || subscribeTarget === 'children') {\n                        element.innerHTML = sectionContent;\n                    } else if (subscribeTarget === 'attr' || subscribeTarget === 'attribute') {\n                        if (subscribeAttr) {\n                            element.setAttribute(subscribeAttr, sectionContent);\n                        }\n                    } else {\n                        element.innerHTML = sectionContent;\n                    }\n                }\n            });\n\n            // Find elements with spa-yield-attr containing section name\n            const attrElements = document.querySelectorAll('[data-yield-attr]');\n            attrElements.forEach(element => {\n                const yieldAttr = element.getAttribute('data-yield-attr');\n\n                if (yieldAttr && yieldAttr.includes(name)) {\n                    const attrPairs = yieldAttr.split(',');\n\n                    attrPairs.forEach(pair => {\n                        let paths = pair.split(':');\n                        let attrName = paths.shift();\n                        let sectionName = paths.join(':');\n\n                        if (sectionName && sectionName.trim() === name) {\n                            const sectionContent = this._sections[name] || '';\n                            element.setAttribute(attrName.trim(), sectionContent);\n                        }\n                    });\n                }\n            });\n\n            // Find elements with app-yield-{name} attributes\n            if (name.split(':').length <= 1) {\n                const specialElements = document.querySelectorAll(`[data-yield-${escapedName}]`);\n                specialElements.forEach(element => {\n                    const sectionContent = this._sections[name] || '';\n                    element.innerHTML = sectionContent;\n                });\n\n            }\n\n            const contentElements = document.querySelectorAll(`[data-yield-content=\"${escapedName}\"]`);\n            contentElements.forEach(element => {\n                element.innerHTML = this._sections[name] || '';\n            });\n            const childrenElements = document.querySelectorAll(`[data-yield-children=\"${escapedName}\"]`);\n            childrenElements.forEach(element => {\n                element.innerHTML = this._sections[name] || '';\n            });\n        });\n\n        // Reset changed sections after processing\n        this.resetChangedSections();\n    };\n\n\n    loadServerData(data = {}) {\n\n    }\n\n\n\n    // ============================================================================\n    // STACK FUNCTIONS\n    // ============================================================================\n\n    // Initialize stacks storage\n\n\n    /**\n     * Push content to a stack\n     * @param {string} name - Stack name\n     * @param {string} content - Content to push\n     */\n    push(name, content) {\n        if (!this._stacks[name]) {\n            this._stacks[name] = [];\n        }\n        this._stacks[name].push(content);\n    };\n\n    /**\n     * Get stack content\n     * @param {string} name - Stack name\n     * @returns {string} Stack content\n     */\n    stack(name) {\n        return this._stacks[name] ? this._stacks[name].join('') : '';\n    };\n\n    // ============================================================================\n    // ONCE FUNCTIONS\n    // ============================================================================\n\n    // Initialize once storage\n\n    /**\n     * Execute content only once\n     * @param {string} content - Content to execute once\n     * @returns {string} Content if not executed before, empty string otherwise\n     */\n    once(content) {\n        const hash = this._hashContent(content);\n        if (!this._once[hash]) {\n            this._once[hash] = true;\n            return content;\n        }\n        return '';\n    };\n\n    /**\n     * Hash content for once tracking\n     * @param {string} content - Content to hash\n     * @returns {string} Hash string\n     */\n    _hashContent(content) {\n        let hash = 0;\n        if (content.length === 0) return hash.toString();\n\n        for (let i = 0; i < content.length; i++) {\n            const char = content.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32-bit integer\n        }\n\n        return hash.toString();\n    };\n\n    // ============================================================================\n    // AUTH FUNCTIONS\n    // ============================================================================\n\n    /**\n     * Check if user is authenticated\n     * @param {string} guard - Guard name (optional)\n     * @returns {boolean} True if authenticated\n     */\n    isAuth(guard = null) {\n        // This should be implemented based on your auth system\n        // For now, return false as placeholder\n        return false;\n    };\n\n    /**\n     * Check if user has permission\n     * @param {string} permission - Permission name\n     * @param {*} model - Model instance (optional)\n     * @returns {boolean} True if user has permission\n     */\n    can(permission, model = null) {\n        // This should be implemented based on your permission system\n        // For now, return false as placeholder\n        return false;\n    };\n\n    // ============================================================================\n    // ERROR FUNCTIONS\n    // ============================================================================\n\n    /**\n     * Check if field has error\n     * @param {string} field - Field name\n     * @returns {boolean} True if field has error\n     */\n    hasError(field) {\n        // This should be implemented based on your error handling system\n        // For now, return false as placeholder\n        return false;\n    };\n\n    /**\n     * Get first error for field\n     * @param {string} field - Field name\n     * @returns {string} Error message\n     */\n    firstError(field) {\n        // This should be implemented based on your error handling system\n        // For now, return empty string as placeholder\n        return '';\n    };\n\n    // ============================================================================\n    // CSRF FUNCTIONS\n    // ============================================================================\n\n    /**\n     * Get CSRF token\n     * @returns {string} CSRF token\n     */\n    csrfToken() {\n        // This should be implemented based on your CSRF system\n        // For now, return empty string as placeholder\n        return '';\n    };\n\n    // ============================================================================\n    // LOOP FUNCTIONS\n    // ============================================================================\n\n    /**\n     * Foreach loop helper\n     * @param {Array|Object} items - Items to iterate\n     * @param {Function} callback - Callback function\n     * @returns {string} Rendered content\n     */\n    foreach(items, callback) {\n        if (!items) return '';\n\n        let result = '';\n\n        if (Array.isArray(items)) {\n            items.forEach((item, index) => {\n                result += callback(item, index);\n            });\n        } else if (typeof items === 'object') {\n            Object.entries(items).forEach(([key, value]) => {\n                result += callback(value, key);\n            });\n        }\n\n        return result;\n    };\n\n\n    /**\n  * Get route URL\n  * @param {string} name - Route name\n  * @param {object} params - Route parameters\n  * @returns {string} Route URL\n  */\n    route(name, params = {}) {\n        return this.App.Router.getURL(name, params);\n    }\n\n}\n","/**\n * API Module\n * ES6 Module for Blade Compiler\n */\n\n// Import App from global init\nimport { HttpService } from './services/HttpService.js';\n\nexport class AppAPI {\n    constructor() {\n        this.http = new HttpService();\n        this.http.setHeader('Content-Type', 'application/json');\n        this.http.setHeader('Accept', 'application/json');\n        this.http.setHeader('X-Requested-With', 'XMLHttpRequest');\n        // Conditional document access for Node.js compatibility\n        if (typeof document !== 'undefined') {\n            const csrfToken = document.querySelector('meta[name=\"csrf-token\"]');\n            if (csrfToken) {\n                this.http.setHeader('X-CSRF-TOKEN', csrfToken.getAttribute('content'));\n            }\n        }\n        this.http.setHeader('X-DATA-TYPE', 'json');\n        this.endpoints = typeof window !== 'undefined' ? window.APP_CONFIGS?.api?.endpoints || {} : {};\n    }\n    async getViewData(uri) {\n        try {\n            const response = await this.http.get(uri).then(response => {\n                return response.status ? response.data : {};\n            }).catch(error => {\n                console.error(' AppAPI: Error getting view data:', error);\n                return {};\n            });\n\n            return response;\n        } catch (error) {\n            console.error(' AppAPI: Error getting view data:', error);\n            return {};\n        }\n\n    }\n    async getSystemConfig() {\n        return {};\n        return this.http.get('/api/system/config').then(response => {\n            return response.status ? response.data : {};\n        }).catch(error => {\n            console.error(' AppAPI: Error getting system config:', error);\n            return {};\n        });\n    }\n    async getSystemData() {\n        let endpoint = this.endpoints?.system?.data;\n        if (!endpoint) {\n            return {};\n        }\n        return this.http.get(endpoint).then(response => {\n            return response.status ? response.data : {};\n        }).catch(error => {\n            console.error(' AppAPI: Error getting system data:', error);\n            return {};\n        });\n    }\n\n    async getURIDAta() {\n        const uri = typeof window !== 'undefined' ? window.location.pathname + window.location.search : '/';\n        return this.getViewData(uri);\n    }\n\n}\n\nexport const API = new AppAPI();\n\nexport default API;","/**\n * ViewHelper - Utility functions for view operations\n * Contains helper methods that are not directly related to view management\n */\n\nimport { uniqId } from '../helpers/utils.js';\n\nexport class Helper {\n    constructor(App = null) {\n        this.App = App;\n        this.config = {};\n    }\n\n    setApp(App) {\n        this.App = App;\n    }\n    setConfig(config) {\n        let {base_url} = config;\n        if(base_url && base_url.endsWith('/')) {\n            base_url = base_url.slice(0, -1);\n        }\n        this.config = {\n            ...this.config,\n            base_url\n        };\n    }\n\n    /**\n     * Get URL\n     * @param {string} path - Path to append to base URL\n     * @returns {string} Full URL\n     */\n    url(path = '') {\n        return `${this.config.base_url}${path ? (path.startsWith('/') ? path : `/${path}`) : ''}`;\n    }\n\n    /**\n     * Trim string\n     * @param {string} str - String to trim\n     * @param {string} char - Character to trim\n     * @returns {string} Trimmed string\n     */\n    trim(str, char = ' ') {\n        if (typeof str !== 'string') return str;\n        const regex = new RegExp(`^${char}+|${char}+$`, 'g');\n        return str.replace(regex, '');\n    }\n\n    /**\n     * Check if string is HTML\n     * @param {string} str - String to check\n     * @returns {boolean} True if HTML\n     */\n    isHtmlString(str) {\n        if (typeof str !== 'string') return false;\n        return /<[a-z][\\s\\S]*>/i.test(str);\n    }\n\n    substr(str, start, length) {\n        if (typeof str !== 'string') return str;\n        return str.substring(start, length);\n    }\n\n    strtolower(str) {\n        if (typeof str !== 'string') return str;\n        return str.toLowerCase();\n    }\n\n    strtoupper(str) {\n        if (typeof str !== 'string') return str;\n        return str.toUpperCase();\n    }\n\n\n    /**\n     * Format date\n     * @param {Date|string} date - Date to format\n     * @param {string} format - Format string\n     * @returns {string} Formatted date\n     */\n    formatDate(date, format = 'YYYY-MM-DD') {\n        const d = new Date(date);\n        if (isNaN(d.getTime())) return '';\n\n        const year = d.getFullYear();\n        const month = String(d.getMonth() + 1).padStart(2, '0');\n        const day = String(d.getDate()).padStart(2, '0');\n        const hours = String(d.getHours()).padStart(2, '0');\n        const minutes = String(d.getMinutes()).padStart(2, '0');\n        const seconds = String(d.getSeconds()).padStart(2, '0');\n\n        return format\n            .replace('YYYY', year)\n            .replace('MM', month)\n            .replace('DD', day)\n            .replace('HH', hours)\n            .replace('mm', minutes)\n            .replace('ss', seconds);\n    }\n\n    /**\n     * Format number\n     * @param {number} num - Number to format\n     * @param {Object} options - Formatting options\n     * @returns {string} Formatted number\n     */\n    formatNumber(num, options = {}) {\n        if (typeof num !== 'number' || isNaN(num)) return '0';\n\n        const {\n            decimals = 2,\n            thousandsSeparator = ',',\n            decimalSeparator = '.',\n            prefix = '',\n            suffix = ''\n        } = options;\n\n        const parts = num.toFixed(decimals).split('.');\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandsSeparator);\n\n        return prefix + parts.join(decimalSeparator) + suffix;\n    }\n\n    /**\n     * Format currency\n     * @param {number} amount - Amount to format\n     * @param {string} currency - Currency code\n     * @returns {string} Formatted currency\n     */\n    formatCurrency(amount, currency = 'USD') {\n        const currencySymbols = {\n            'USD': '$',\n            'EUR': '',\n            'GBP': '',\n            'JPY': '',\n            'VND': ''\n        };\n\n        const symbol = currencySymbols[currency] || currency;\n        return symbol + this.formatNumber(amount, { decimals: 2 });\n    }\n\n    /**\n     * Truncate text\n     * @param {string} text - Text to truncate\n     * @param {number} length - Maximum length\n     * @param {string} suffix - Suffix to add\n     * @returns {string} Truncated text\n     */\n    truncate(text, length = 100, suffix = '...') {\n        if (typeof text !== 'string' || text.length <= length) {\n            return text;\n        }\n        return text.substring(0, length).trim() + suffix;\n    }\n\n    /**\n     * Generate random string\n     * @param {number} length - Length of string\n     * @returns {string} Random string\n     */\n    randomString(length = 8) {\n        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        let result = '';\n        for (let i = 0; i < length; i++) {\n            result += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return result;\n    }\n\n    /**\n     * Deep clone object\n     * @param {*} obj - Object to clone\n     * @returns {*} Cloned object\n     */\n    deepClone(obj) {\n        if (obj === null || typeof obj !== 'object') return obj;\n        if (obj instanceof Date) return new Date(obj.getTime());\n        if (obj instanceof Array) return obj.map(item => this.deepClone(item));\n        if (typeof obj === 'object') {\n            const cloned = {};\n            Object.keys(obj).forEach(key => {\n                cloned[key] = this.deepClone(obj[key]);\n            });\n            return cloned;\n        }\n        return obj;\n    }\n\n    /**\n     * Debounce function\n     * @param {Function} func - Function to debounce\n     * @param {number} wait - Wait time in ms\n     * @returns {Function} Debounced function\n     */\n    debounce(func, wait) {\n        let timeout;\n        return function executedFunction(...args) {\n            const later = () => {\n                clearTimeout(timeout);\n                func(...args);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    }\n\n    /**\n     * Throttle function\n     * @param {Function} func - Function to throttle\n     * @param {number} limit - Limit time in ms\n     * @returns {Function} Throttled function\n     */\n    throttle(func, limit) {\n        let inThrottle;\n        return function executedFunction(...args) {\n            if (!inThrottle) {\n                func.apply(this, args);\n                inThrottle = true;\n                setTimeout(() => inThrottle = false, limit);\n            }\n        };\n    }\n\n\n    /**\n     * Get URL parameters\n     * @param {string} url - URL to parse\n     * @returns {Object} URL parameters\n     */\n    getUrlParams(url = window.location.href) {\n        const params = {};\n        const urlObj = new URL(url);\n        urlObj.searchParams.forEach((value, key) => {\n            params[key] = value;\n        });\n        return params;\n    }\n\n    /**\n     * Build URL with parameters\n     * @param {string} baseUrl - Base URL\n     * @param {Object} params - Parameters to add\n     * @returns {string} Built URL\n     */\n    buildUrl(baseUrl, params = {}) {\n        const url = new URL(baseUrl);\n        Object.entries(params).forEach(([key, value]) => {\n            if (value !== null && value !== undefined) {\n                url.searchParams.set(key, value);\n            }\n        });\n        return url.toString();\n    }\n\n    /**\n     * Check if element is in viewport\n     * @param {Element} element - Element to check\n     * @returns {boolean} True if in viewport\n     */\n    isInViewport(element) {\n        const rect = element.getBoundingClientRect();\n        return (\n            rect.top >= 0 &&\n            rect.left >= 0 &&\n            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n        );\n    }\n\n    /**\n     * Scroll to element\n     * @param {Element|string} element - Element or selector\n     * @param {Object} options - Scroll options\n     */\n    scrollTo(element, options = {}) {\n        const target = typeof element === 'string' ? document.querySelector(element) : element;\n        if (!target) return;\n\n        const {\n            behavior = 'smooth',\n            block = 'start',\n            inline = 'nearest',\n            offset = 0\n        } = options;\n\n        const targetPosition = target.offsetTop - offset;\n        window.scrollTo({\n            top: targetPosition,\n            behavior\n        });\n    }\n\n    /**\n     * Copy text to clipboard\n     * @param {string} text - Text to copy\n     * @returns {Promise<boolean>} Success status\n     */\n    async copyToClipboard(text) {\n        try {\n            await navigator.clipboard.writeText(text);\n            return true;\n        } catch (error) {\n            console.error('Failed to copy to clipboard:', error);\n            return false;\n        }\n    }\n\n    /**\n     * Download file\n     * @param {string} content - File content\n     * @param {string} filename - Filename\n     * @param {string} mimeType - MIME type\n     */\n    downloadFile(content, filename, mimeType = 'text/plain') {\n        const blob = new Blob([content], { type: mimeType });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n    }\n\n    /**\n     * Get device type\n     * @returns {string} Device type\n     */\n    getDeviceType() {\n        const width = window.innerWidth;\n        if (width < 768) return 'mobile';\n        if (width < 1024) return 'tablet';\n        return 'desktop';\n    }\n\n    // ============================================================================\n    // ADDITIONAL UTILITY FUNCTIONS (moved from View)\n    // ============================================================================\n\n    /**\n     * Count items\n     * @param {Array|Object} items - Items to count\n     * @returns {number} Count\n     */\n    count(items) {\n        if (Array.isArray(items)) {\n            return items.length;\n        } else if (typeof items === 'object' && items !== null) {\n            return Object.keys(items).length;\n        }\n        return 0;\n    }\n\n    /**\n     * Check if value is null\n     * @param {*} value - Value to check\n     * @returns {boolean} True if null\n     */\n    isNull(value) {\n        return value === null;\n    }\n\n    /**\n     * Check if value is array\n     * @param {*} value - Value to check\n     * @returns {boolean} True if array\n     */\n    isArray(value) {\n        return Array.isArray(value);\n    }\n\n    /**\n     * Check if value is string\n     * @param {*} value - Value to check\n     * @returns {boolean} True if string\n     */\n    isString(value) {\n        return typeof value === 'string';\n    }\n\n    /**\n     * Check if value is numeric\n     * @param {*} value - Value to check\n     * @returns {boolean} True if numeric\n     */\n    isNumeric(value) {\n        return !isNaN(parseFloat(value)) && isFinite(value);\n    }\n\n    /**\n     * Get current timestamp with format method\n     * @returns {Object} Current timestamp with format method\n     */\n    now() {\n        const now = new Date();\n        return {\n            format: function (format) {\n                if (!format) return now.toISOString();\n\n                // Simple format implementation\n                const year = now.getFullYear();\n                const month = String(now.getMonth() + 1).padStart(2, '0');\n                const day = String(now.getDate()).padStart(2, '0');\n                const hours = String(now.getHours()).padStart(2, '0');\n                const minutes = String(now.getMinutes()).padStart(2, '0');\n                const seconds = String(now.getSeconds()).padStart(2, '0');\n\n                return format\n                    .replace('Y', year)\n                    .replace('m', month)\n                    .replace('d', day)\n                    .replace('H', hours)\n                    .replace('i', minutes)\n                    .replace('s', seconds);\n            },\n            getTime: function () {\n                return now.getTime();\n            },\n            toString: function () {\n                return now.toString();\n            }\n        };\n    }\n\n    /**\n     * Get current date\n     * @returns {Date} Current date\n     */\n    today() {\n        return new Date();\n    }\n\n    /**\n     * Simple date formatting\n     * @param {Date|string} date - Date to format\n     * @param {string} format - Format string\n     * @returns {string} Formatted date\n     */\n    date(date, format = 'Y-m-d H:i:s') {\n        const d = new Date(date);\n        // Simple date formatting - can be enhanced\n        return d.toISOString().slice(0, 19).replace('T', ' ');\n    }\n\n\n    /**\n     * Get environment value\n     * @param {string} key - Environment key\n     * @param {*} defaultValue - Default value\n     * @returns {*} Environment value\n     */\n    env(key, defaultValue = null) {\n        // This should be implemented based on your environment system\n        // For now, return default value as placeholder\n        return defaultValue;\n    }\n\n    // ============================================================================\n    // PHP-LIKE FUNCTIONS (for Blade compatibility)\n    // ============================================================================\n\n    /**\n     * Hm tng t nh PHP: ucfirst\n     * Vit hoa k t u tin ca chui\n     * @param {string} str\n     * @returns {string}\n     */\n    ucfirst(str) {\n        if (typeof str !== 'string' || str.length === 0) return str;\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    /**\n     * Hm tng t nh PHP: lcfirst\n     * Vit thng k t u tin ca chui\n     * @param {string} str\n     * @returns {string}\n     */\n    lcfirst(str) {\n        if (typeof str !== 'string' || str.length === 0) return str;\n        return str.charAt(0).toLowerCase() + str.slice(1);\n    }\n\n    /**\n     * Hm tng t nh PHP: str_replace\n     * Thay th tt c cc chui con trong chui\n     * @param {string|string[]} search\n     * @param {string|string[]} replace\n     * @param {string} subject\n     * @returns {string}\n     */\n    str_replace(search, replace, subject) {\n        if (Array.isArray(search)) {\n            let result = subject;\n            search.forEach((s, i) => {\n                const r = Array.isArray(replace) ? (replace[i] !== undefined ? replace[i] : '') : replace;\n                result = result.split(s).join(r);\n            });\n            return result;\n        } else {\n            return subject.split(search).join(replace);\n        }\n    }\n\n    /**\n     * Hm tng t nh PHP: explode\n     * Ct chui thnh mng theo k t phn tch\n     * @param {string} delimiter\n     * @param {string} str\n     * @returns {Array}\n     */\n    explode(delimiter, str) {\n        if (typeof str !== 'string' || typeof delimiter !== 'string') return [];\n        return str.split(delimiter);\n    }\n\n    /**\n     * Hm tng t nh PHP: implode\n     * Ni cc phn t ca mng thnh chui vi k t phn tch\n     * @param {string} glue\n     * @param {Array} pieces\n     * @returns {string}\n     */\n    implode(glue, pieces) {\n        if (!Array.isArray(pieces)) return '';\n        return pieces.join(glue);\n    }\n\n    /**\n     * Hm tng t nh PHP: in_array\n     * Kim tra gi tr c trong mng khng\n     * @param {any} needle\n     * @param {Array} haystack\n     * @returns {boolean}\n     */\n    in_array(needle, haystack) {\n        if (!Array.isArray(haystack)) return false;\n        return haystack.includes(needle);\n    }\n\n    /**\n     * Hm tng t nh PHP: array_unique\n     * Loi b cc phn t trng lp trong mng\n     * @param {Array} arr\n     * @returns {Array}\n     */\n    array_unique(arr) {\n        if (!Array.isArray(arr)) return [];\n        return Array.from(new Set(arr));\n    }\n\n    /**\n     * Hm tng t nh PHP: array_merge\n     * Gp nhiu mng thnh mt mng\n     * @param  {...Array} arrays\n     * @returns {Array}\n     */\n    array_merge(...arrays) {\n        return [].concat(...arrays);\n    }\n\n    /**\n     * Hm tng t nh PHP: is_array\n     * Kim tra bin c phi l mng khng\n     * @param {any} value\n     * @returns {boolean}\n     */\n    is_array(value) {\n        return Array.isArray(value);\n    }\n\n    /**\n     * Hm tng t nh PHP: is_string\n     * Kim tra bin c phi l chui khng\n     * @param {any} value\n     * @returns {boolean}\n     */\n    is_string(value) {\n        return typeof value === 'string';\n    }\n\n    /**\n     * Hm tng t nh PHP: is_numeric\n     * Kim tra bin c phi l s hoc chui s khng\n     * @param {any} value\n     * @returns {boolean}\n     */\n    is_numeric(value) {\n        return !isNaN(parseFloat(value)) && isFinite(value);\n    }\n\n    /**\n     * Hm tng t nh PHP: empty\n     * Kim tra bin c \"rng\" khng (null, undefined, '', 0, false, [], {})\n     * @param {any} value\n     * @returns {boolean}\n     */\n    empty(value) {\n        if (value === null || value === undefined) return true;\n        if (typeof value === 'string' && value.trim() === '') return true;\n        if (Array.isArray(value) && value.length === 0) return true;\n        if (typeof value === 'object' && !Array.isArray(value) && Object.keys(value).length === 0) return true;\n        if (value === false) return true;\n        if (value === 0) return true;\n        return false;\n    }\n\n    /**\n     * Hm tng t nh PHP: isset\n     * Kim tra bin c c nh ngha v khc null khng\n     * @param {any} value\n     * @returns {boolean}\n     */\n    isset(value) {\n        return value !== undefined && value !== null;\n    }\n\n    /**\n     * Hm tng t nh PHP: json_encode\n     * Chuyn i gi tr thnh chui JSON\n     * @param {any} value\n     * @returns {string}\n     */\n    json_encode(value) {\n        return JSON.stringify(value);\n    }\n\n    /**\n     * Hm tng t nh PHP: json_decode\n     * Chuyn i chui JSON thnh gi tr\n     * @param {string} value\n     * @returns {any}\n     */\n    json_decode(value) {\n        return JSON.parse(value);\n    }\n\n    /**\n     * Check if device is mobile\n     * @returns {boolean} True if mobile\n     */\n    isMobile() {\n        return this.getDeviceType() === 'mobile';\n    }\n\n    /**\n     * Check if device is tablet\n     * @returns {boolean} True if tablet\n     */\n    isTablet() {\n        return this.getDeviceType() === 'tablet';\n    }\n\n    /**\n     * Check if device is desktop\n     * @returns {boolean} True if desktop\n     */\n    isDesktop() {\n        return this.getDeviceType() === 'desktop';\n    }\n}\n","/**\n * init Module\n * ES6 Module for Blade Compiler\n */\n\n// import { App } from './app.js';\n\nfunction initApp(App) {\n    App = App || window.App;\n    \n    // Check if APP_CONFIGS is available\n    if (typeof window.APP_CONFIGS === 'undefined') {\n        console.error('APP_CONFIGS not found! Please define window.APP_CONFIGS in your HTML.');\n        return;\n    }\n    \n    console.log(' APP_CONFIGS found:', window.APP_CONFIGS);\n\n    const config = window.APP_CONFIGS;\n    \n    // Validate required App modules\n    if (typeof App === 'undefined') {\n        console.error('App core module not found! Please ensure app.main.js is loaded.');\n        return;\n    }\n\n    // Validate config structure\n    if (!config || typeof config !== 'object') {\n        console.error('Invalid APP_CONFIGS! Config must be an object.');\n        return;\n    }\n\n    // Initialize view container first\n    const container = config.container ? (\n        typeof config.container === 'string' ? (\n            document.querySelector(config.container) || document.body\n        ) : (config.container instanceof HTMLElement ? config.container : document.body)\n    ) : document.body;\n    if (container) {\n        App.View.setContainer(container);\n    } else {\n        console.warn(' No container specified and no default container found');\n    }\n\n    const isServerRendered = container.getAttribute('data-server-rendered') === 'true';\n\n    App.env = {...App.env, ...config.env};\n\n    if (App.View) {\n        // If server-rendered, ensure view container is properly hydrated\n        if (isServerRendered) {\n            // Mark container as hydrated without re-rendering content\n            App.View._isHydrated = true;\n        }\n\n        // Initialize View configuration\n        if (App.View && config.view) {\n            App.View.init(config.view);\n        } else if (config.view) {\n            console.warn(' View configuration provided but App.View not found');\n        }\n\n    }\n\n    // Initialize API configuration\n    if (config.api && App.http) {\n        if (config.api.baseUrl) {\n            App.http.setBaseUrl(config.api.baseUrl);\n        }\n\n        // Set default headers including CSRF token\n        const defaultHeaders = {\n            'Content-Type': 'application/json',\n            'X-Requested-With': 'XMLHttpRequest'\n        };\n\n        if (config.api.csrfToken) {\n            defaultHeaders['X-CSRF-TOKEN'] = config.api.csrfToken;\n        }\n\n        App.http.setDefaultHeaders(defaultHeaders);\n        App.http.setTimeout(config.api.timeout || 10000);\n\n    } else if (config.api) {\n        console.warn(' API configuration provided but AppInstance.HttpService not found');\n    } else {\n        console.warn(' No API configuration provided');\n    }\n\n    // Initialize router configuration\n    if (App.Router) {\n        if (config.router.allRoutes) {\n            App.Router.setAllRoutes(config.router.allRoutes);\n        }\n        // Get routes from router config or fallback to top-level routes\n        let routes = config.router?.routes || config.routes;\n        if (!routes || !Array.isArray(routes) || routes.length === 0) {\n            const scope = config.appScope || 'web';\n            routes = [\n                { path: `/${scope}`, view: `${scope}.home` },\n                { path: `/${scope}/about`, view: `${scope}.about` },\n                { path: `/${scope}/users`, view: `${scope}.users` },\n                { path: `/${scope}/users/:id`, view: `${scope}.user-detail` },\n                { path: `/${scope}/contact`, view: `${scope}.contact` }\n            ];\n        } else {\n            console.log(' Using provided routes:', routes.length);\n        }\n\n        // Register routes\n        routes.forEach(route => {\n            if (route.path && (route.view || route.component)) {\n                const viewName = route.view || route.component;\n                App.Router.addRoute(route.path, viewName, route.options || {});\n            }\n        });\n\n        // Configure router options\n        if (config.router) {\n            if (config.router.mode) {\n                App.Router.setMode(config.router.mode);\n            }\n            if (config.router.base) {\n                App.Router.setBase(config.router.base);\n            }\n            \n            // Setup default router hooks if not provided\n            if (!config.router.beforeEach) {\n                App.Router.beforeEach(function(to, from) {\n                    if (App.mode === 'development') {\n                        console.log('Navigating to:', to.path);\n                    }\n                    return true;\n                });\n            } else {\n                App.Router.beforeEach(config.router.beforeEach);\n            }\n            \n            if (!config.router.afterEach) {\n                App.Router.afterEach(function(to, from) {\n                    if (App.mode === 'development') {\n                        console.log('Navigation complete:', to.path);\n                    }\n                    updateActiveNav(to.path);\n                });\n            } else {\n                App.Router.afterEach(function(to, from) {\n                    // Call custom afterEach if provided\n                    if (typeof config.router.afterEach === 'function') {\n                        config.router.afterEach(to, from);\n                    }\n                    // Always update navigation\n                    updateActiveNav(to.path);\n                });\n            }\n            console.log(' Router configuration applied');\n        }\n\n        // Set default route\n        const defaultRoute = config.defaultRoute || `/${config.appScope || 'web'}`;\n        App.Router.setDefaultRoute(defaultRoute);\n\n        if (isServerRendered) {\n            // Start router but don't handle initial route\n            App.Router.start(true); // Pass true to skip initial route handling\n\n            // Mark as client-side ready after a short delay\n            setTimeout(() => {\n                if (container) {\n                    container.setAttribute('data-server-rendered', 'false');\n                }\n            }, 100);\n        } else {\n            // Start the router normally\n            App.Router.start();\n            console.log(' Router started');\n        }\n    } else {\n        console.warn(' Router not available - AppInstance.Router not found');\n    }\n\n    if(config.view){\n        if(config.view.superView){\n            App.View.setSuperViewPath(config.view.superView);\n        }\n    }\n\n    // Initialize mode (development/production)\n    if (config.mode) {\n        App.mode = config.mode;\n\n        // Enable/disable debug logging based on mode\n        if (config.mode === 'development') {\n            console.log(' Development mode enabled - debug logging active');\n        } else {\n            console.log(' Production mode enabled');\n        }\n    } else {\n        // Set default mode\n        App.mode = 'development';\n        console.warn(' No mode specified in config, using default: development');\n    }\n\n    // Initialize global data\n    App.globalData = {\n        siteName: 'One App',\n        version: '1.0.0',\n        csrfToken: config.api?.csrfToken,\n        appScope: config.appScope,\n        currentUser: config.currentUser,\n        ...(config.data || {})\n    };\n\n    // Initialize language configuration\n    if (config.lang) {\n        App.lang = {\n            current: config.lang.locale || 'en',\n            fallback: config.lang.fallback || 'en',\n            ...config.lang\n        };\n        console.log(' Language configuration initialized:', App.lang);\n    } else {\n        // Set default language configuration\n        App.lang = {\n            current: 'en',\n            fallback: 'en'\n        };\n        console.warn(' No language configuration provided, using defaults');\n    }\n\n\n    // Setup navigation updates\n    if (App.View) {\n        App.View.on('view:rendered', function (viewName) {\n            console.log('View rendered:', viewName);\n            updateActiveNav();\n        });\n    } else {\n        console.warn(' Navigation updates not available - App.View not found');\n    }\n\n    // Custom initialization callback\n    if (config.onInit && typeof config.onInit === 'function') {\n        try {\n            config.onInit(App, config);\n            console.log(' Custom initialization callback executed');\n        } catch (error) {\n            console.error(' Error in custom initialization callback:', error);\n        }\n    }\n\n    // Dispatch App ready event\n    try {\n        const appReadyEvent = new CustomEvent('app:ready', {\n            detail: { App: App, config }\n        });\n        document.dispatchEvent(appReadyEvent);\n        console.log(' App ready event dispatched');\n    } catch (error) {\n        console.error(' Error dispatching App ready event:', error);\n    }\n\n    console.log(' App initialization completed successfully!');\n}\n\n// Navigation helper function - updates active navigation link\nexport function updateActiveNav(currentPath) {\n    // Use provided path or current location\n    const path = currentPath || window.location.pathname;\n    \n    // Find all navigation links (support multiple selectors)\n    const navLinks = document.querySelectorAll('.nav-menu a, .nav-link, nav a[data-navigate]');\n    \n    navLinks.forEach(link => {\n        link.classList.remove('active');\n        \n        // Check href attribute\n        const href = link.getAttribute('href');\n        // Check data-navigate attribute\n        const navigatePath = link.getAttribute('data-navigate');\n        \n        // Match if href or data-navigate matches current path\n        if (href === path || navigatePath === path) {\n            link.classList.add('active');\n        } else {\n            // Also check full URL match\n            const fullUrl = window.location.protocol + '//' + window.location.host + path;\n            if (href === fullUrl) {\n                link.classList.add('active');\n            }\n        }\n    });\n}\n\n// Make updateActiveNav globally available for router hooks\nif (typeof window !== 'undefined') {\n    window.updateActiveNav = updateActiveNav;\n}\n// try {\n//     // Make updateActiveNav globally available for router config\n//     window.updateActiveNav = updateActiveNav;\n\n//     // Initialize when DOM is ready\n//     if (document.readyState === 'loading') {\n//         document.addEventListener('DOMContentLoaded', initApp);\n//     } else {\n//         initApp();\n//     }\n// } catch (error) {\n//     console.error(' Error in init:', error);\n// }\n\nexport default initApp;","/**\n * App Core Module\n * ES6 Module for Blade Compiler\n */\n\nimport { HttpService } from \"./core/services/HttpService.js\";\nimport { Router } from \"./core/Router.js\";\nimport { View } from \"./core/View.js\";\nimport { API } from \"./core/API.js\";\nimport { Helper } from \"./core/Helper.js\";\nimport initApp from \"./init.js\";\n\nexport class Application {\n    constructor() {\n        this.name = 'OneApp';\n        this.Helper = new Helper(this);\n        this.View = new View(this);\n        this.Router = new Router(this);\n        this.HttpService = HttpService;\n        this.http = new HttpService();\n        this.API = API;\n        this.mode = 'development';\n        this.isInitialized = false;\n        this.env = {\n            mode: 'web',\n            debug: false,\n            base_url: '/',\n            csrf_token: '',\n            router_mode: 'history',\n        }\n        \n    }\n    init() {\n        if(this.isInitialized) {\n            return;\n        }\n        initApp(this);\n        this.isInitialized = true;\n    }\n}\n\nexport const App = new Application();\n\nexport default App;\n","// Export App for external use\nimport { App } from './app.js';\n\n// Manual assignment to window for UMD compatibility\nif (typeof window !== 'undefined') {\n    window.App = App;\n    console.log(' App assigned to window');\n    \n    // Initialize app when APP_CONFIGS is available\n    if (window.APP_CONFIGS) {\n        console.log(' APP_CONFIGS available, calling App.init()');\n        App.init();\n    } else {\n        console.log(' APP_CONFIGS not available, waiting...');\n        // Wait for APP_CONFIGS to be available\n        const checkConfig = () => {\n            if (window.APP_CONFIGS) {\n                console.log(' APP_CONFIGS found, calling App.init()');\n                App.init();\n            } else {\n                setTimeout(checkConfig, 100);\n            }\n        };\n        checkConfig();\n    }\n}\n\nexport { App };\nexport default App;\n"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","HttpService","constructor","baseUrl","timeout","defaultHeaders","setBaseUrl","url","setTimeout","setDefaultHeaders","headers","setHeader","name","value","request","method","data","options","fullUrl","startsWith","config","toUpperCase","body","JSON","stringify","controller","AbortController","timeoutId","abort","response","fetch","signal","clearTimeout","responseData","json","catch","status","ok","statusCode","error","Error","post","put","patch","uniqId","replace","c","r","Math","random","toString","__hasOwnProp","deleteProp","console","hasData","_","TemplateDetectorService","rootElement","document","cachedComments","setRootElement","element","getAllComments","useCache","comments","walker","createTreeWalker","NodeFilter","SHOW_COMMENT","node","nextNode","push","parseComment","commentNode","text","nodeValue","trim","openMatch","match","fullName","attributes","attrMatch","forEach","attr","split","type","closeMatch","getNodesBetween","startNode","endNode","parentNode","nodes","current","nextSibling","patternToRegex","pattern","regexStr","RegExp","matchPattern","test","find","parsed","map","filter","p","pairs","stack","i","length","index","foundIndex","j","openTag","nodesBetween","closeTag","parent","splice","findOne","filterFn","count","getUniqueNames","Set","display","pairsOrPattern","showAttributes","showParent","showNodes","maxNodePreview","patternInfo","log","repeat","pair","keys","tagName","toLowerCase","className","slice","nodeType","Node","ELEMENT_NODE","TEXT_NODE","substring","clearCache","OneMarkupModel","__openTag","__closeTag","__attributes","__nodes","__definedAttributes","__tagName","__fullName","__defineAttributes","__update","attributeKeys","__defineAttribute","includes","PropertyDescriptor","set","writable","configurable","__defineProp","getAttribute","setAttribute","__match","__scan","currentNode","updateNodes","OneMarkupCollection","elements","__models","models","first","last","model","pop","shift","unshift","start","deleteCount","items","end","concat","reverse","callback","reduce","initialValue","some","every","query","OneMarkup","detector","documentElement","total","isTotal","isLast","isFirst","lastElement","result","elementCount","lastIndex","isMatch","validateElement","Element","Comment","toFragment","content","fragment","createDocumentFragment","appendItem","item","template","createElement","innerHTML","appendChild","DocumentFragment","Array","isArray","NodeList","warn","before","target","insertBefore","after","frag","replaceWith","append","prepend","firstChild","setHTML","replaceContent","undefined","children","from","level","enabled","remote","setConfig","logs","getConfig","consoleLog","args","apply","info","debug","ViewState","view","_viewRef","_states","_stateIndex","_canUpdateStateByKey","__listeners","Map","__ownProperties","__ownMethods","__setters__","__subscribe","__unsubscribe","__commitStateChange","oldValue","stateKey","listeners","__setState","setValue","__useState","__updateStateByKey","findIndex","state","__register","__lockUpdateRealState","has","delete","indexOf","__reset","clear","__toJSON","toJSON","FollowingBlock","App","engine","stateKeys","renderBlock","scanMode","renderID","states","id","isRendered","refElements","subscribes","isMounted","isScanned","markup","mounted","scan","unsubscribe","renew","unmounted","placeholder","render","join","rerender","onFollowUpdating","e","onFollowUpdated","destroy","removeChild","basePrefix","ATTR","PREFIX","BASE","YIELD","CLICK","DBLCLICK","MOUSEDOWN","MOUSEUP","MOUSEOVER","MOUSEOUT","MOUSEMOVE","MOUSEENTER","MOUSELEAVE","WHEEL","AUXCLICK","KEYDOWN","KEYUP","KEYPRESS","INPUT","CHANGE","SUBMIT","RESET","INVALID","SEARCH","FOCUS","BLUR","FOCUSIN","FOCUSOUT","SELECT","SELECTSTART","SELECTIONCHANGE","TOUCHSTART","TOUCHMOVE","TOUCHEND","TOUCHCANCEL","DRAGSTART","DRAG","DRAGEND","DRAGENTER","DRAGLEAVE","DRAGOVER","DROP","PLAY","PAUSE","ENDED","LOADSTART","LOADEDDATA","LOADEDMETADATA","CANPLAY","CANPLAYTHROUGH","WAITING","SEEKING","SEEKED","RATECHANGE","DURATIONCHANGE","VOLUMECHANGE","SUSPEND","STALLED","PROGRESS","EMPTIED","ENCRYPTED","WAKEUP","LOAD","UNLOAD","BEFOREUNLOAD","RESIZE","SCROLL","ORIENTATIONCHANGE","VISIBILITYCHANGE","PAGEHIDE","PAGESHOW","POPSTATE","HASHCHANGE","ONLINE","OFFLINE","DOMCONTENTLOADED","READYSTATECHANGE","ERROR","ABORT","CONTEXTMENU","ANIMATIONSTART","ANIMATIONEND","ANIMATIONITERATION","TRANSITIONSTART","TRANSITIONEND","TRANSITIONRUN","TRANSITIONCANCEL","POINTERDOWN","POINTERUP","POINTERMOVE","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","GOTPOINTERCAPTURE","LOSTPOINTERCAPTURE","FULLSCREENCHANGE","FULLSCREENERROR","COPY","CUT","PASTE","GAMEPADCONNECTED","GAMEPADDISCONNECTED","BATTERYCHARGINGCHANGE","BATTERYLEVELCHANGE","DEVICEORIENTATION","DEVICEMOTION","DEVICELIGHT","DEVICEPROXIMITY","WEBGLCONTEXTLOST","WEBGLCONTEXTRESTORED","VIEW","KEYS","VIEW_ID","VIEW_REF","VIEW_SECTION_REF","VIEW_RESOURCE","VIEW_STYLE","VIEW_WRAPPER","YIELD_ATTR","YIELD_CONTENT","YIELD_CHILDREN","YIELD_SUBSCRIBE","YIELD_SUBSCRIBE_ATTR","YIELD_SUBSCRIBE_CONTENT","YIELD_SUBSCRIBE_CHILDREN","CLASSNAME","VIEW_ERROR","VIRTUAL_CONTAINER","SECTION_ERROR","prefix","FORBIDDEN_KEYS","ViewEngine","path","isSuperView","_emptyFn","init","superView","superViewPath","superViewId","hasSuperView","originalViewPath","originalViewId","originalView","hasAwaitData","hasFetchData","usesVars","hasSections","renderLongSections","hasSectionPreload","hasPrerender","sections","addCSS","removeCSS","resources","userDefined","events","eventIndex","eventHandlers","urlPath","isInitlized","wrapperConfig","enable","tag","follow","templateEngine","wrapTag","followingBlocks","followingConfig","followingIndex","followingScanIndex","followingIDs","followingPrerenderIDs","followingRenderIDs","subscribeStates","childrenConfig","childrenIndex","refreshChildrenIndex","isRendering","isDestroyed","isScanning","isReady","eventListenerStatus","eventListeners","eventQuickHandles","isVirtualRendering","cachedSections","renderedContent","__scope","isRefreshing","changeStateQueueCount","changedStateKeys","_stateChangePending","loopContext","isCommitedConstructorData","setup","initialize","viewId","master","processDefinedProperties","__SSR_VIEW_ID__","commitConstructorData","definedProps","definedMethods","methods","__props__","bind","entries","props","configs","__defineProps","setScope","scope","loadServerData","_serverData","View","_data","updateVariableData","addEventConfig","eventType","handlers","addEventStack","renderFollowIDStart","isHtmlString","addXRefViewToRootElements","virtualRender","prerender","virtualPrerender","replaceView","htmlString","container","oldElements","querySelectorAll","oldElement","newElement","childNodes","replaceChild","beforeCreate","created","beforeUpdate","updated","beforeInit","afterInit","beforeDestroy","destroyed","beforeMount","startEventListener","onSuperViewMounted","child","onParentMounted","size","block","beforeUnmount","beforeUnmounted","stopEventListener","onSuperViewUnmounted","onParentUnmounted","refresh","str","renderPlaceholder","showError","section","showErrorScan","resetOriginalView","ejectOriginalView","remove","insertResources","resource","querySelector","uuid","attrs","head","removeResources","__showError","__section","__yield","defaultValue","yield","__yieldContent","yieldContent","__execute","execute","__text","__follow","renderFollowingBlockScan","renderFollowingBlock","__block","addBlock","__include","childParams","childConfig","ssrViewManager","getInstance","childData","$include","__includeif","exists","__includewhen","condition","__extends","superViewConfig","superViewOfChildren","superViewData","$extends","__setLoopContext","LoopContext","setCount","__resetLoopContext","freeze","__foreach","list","__setupLoopContext","setType","setCurrentTimes","following","__scanDOMElements","__setupFollowingBlocks","__storeChildrenReferences","el","__attachEventHandlers","followConfig","originData","viewInstance","extendView","setSuperView","setOriginalView","parentData","include","setParent","addChild","eventID","__addEventConfig","setEventConfig","eventObjectList","needDeleted","eventMap","selector","parsedHandlers","parseEventHandlerFunctions","handler","event","returnValue","handlerFn","defaultPrevented","preventDefault","stopPropagation","addEventListener","removeEventListener","clearOrphanedEventData","handlerObj","handlerName","params","func","parseHandlerFunction","parseEventHandlerParams","funcName","window","param","parseEventHandlerObject","object","parsedObject","wrapattr","startWrapper","endWrapper","useBlock","mountBlock","subscribeBlock","followBlock","onStateChange","add","Promise","resolve","then","_processStateChanges","changedKeys","_notifyStateChanges","subscribe","childScope","onStateDataChanges","stateChangeData","setApp","app","setUrlPath","updateData","__data","updateVariableItem","updateVariableItemData","setIsSuperView","reset","ActiveRoute","route","$route","$urlPath","$params","$query","$fragment","$paramKeys","getPath","getUrlPath","getParams","getParam","getQuery","getFragment","Router","static","routes","currentRoute","mode","base","_beforeEach","_afterEach","defaultRoute","handleRoute","handlePopState","routeConfigs","currentUri","location","pathname","search","addRouteConfig","routeConfig","setAllRoutes","getURL","generateUrl","addRoute","normalizePath","setMode","setBase","setDefaultRoute","beforeEach","afterEach","normalized","endsWith","matchFormat","format","hasParameter","isAnyParameter","getParameterName","exec","getParameterValue","getAnyParameterValue","valueMatch","checkParameterRoute","routePathParts","Helper","urlPathParts","lastRoutePathIndex","routePathPart","urlPathPart","paramValue","any","paramName","matchRoute","normalizedPath","routePath","part","ignoreSetActiveRoute","pathForMatching","URLParts","getUrlParts","hash","addActiveRoute","component","mountView","getActiveRoute","hydrateViews","activeRoute","viewName","mountViewScan","navigate","history","pushState","extension","navigateTo","skipInitial","isServerRendered","initialPath","setActiveRouteForCurrentPath","setupAutoNavigation","stop","_autoNavHandler","handleAutoNavigation","oneNavElement","closest","hasAttribute","navPath","navigateElement","link","href","dataset","nav","linkUrl","URL","currentUrl","host","protocol","fromEntries","URLSearchParams","containers","getCachedRoute","getCurrentRoute","getCurrentPath","getCurrentUri","getCurrentHash","getCurrentUrl","getCurrentQuery","getCurrentFragment","SEOTagConfig","attribute","ViewTemplates","$$$DATA$$$","systemData","__base__","__layout__","__page__","__component__","__partial__","__system__","__env","__helper","__VIEW_ID__","generateViewId","__WRAPPER_ELEMENT__","__REFS__","Engine","__STATE__","State","parseRefs","__UPDATE_DATA_TRAIT__","viewType","refs","createHtml","renderSections","prerenderSections","scripts","styles","__outputRenderedContent__","escString","asset","message","todo","user","errors","isValid","connected","currentUser","completed","email","company","input","Date","toLocaleTimeString","install","date","__VIEW_PATH__","partialVar","partialLet","json_encode","parent_data","custom_data","include_data","composer_user","composer_global","composer_session","global_config","current_request","app_name","__PARENT_VIEW_PATH__","__PARENT_VIEW_ID__","get_class_methods","session","all","auth","check","cache","environment","includeData","composerData","globalData","viewData","globalConfig","exportViewData","exportViewInstances","getEventRegistry","get_class","getViewStorageManager","parameters","json_encodefunc","getListeners","helper","getData","directive","StorageService","dynamicProperties","__key","__isSupport","__eventQueue","__isUpdating","encryptionKey","useEncryption","__loadData","instance","setKey","getKey","support","enableEncryption","__generateEncryptionKey","ttl","success","k","v","dataItem","timestamp","now","__updateData","__createDynamicProperty","emit","__isExpired","__removeDynamicProperty","oldData","getAll","__cleanExpiredData","getAllKeys","isEmpty","getInfo","expiredRemoved","isSupport","getEvents","totalListeners","values","sum","isUpdating","hasEncryptionKey","isExpired","remaining","max","getTTLInfo","hasTTL","expiryTime","cleanExpired","import","jsonString","parse","newData","backup","restore","getStorageUsage","localStorage","getItem","Blob","isStorageFull","testKey","testValue","setItem","removeItem","on","off","removeAllListeners","getListenerCount","array","Uint8Array","crypto","getRandomValues","byte","padStart","__encrypt","encrypted","charCode","charCodeAt","String","fromCharCode","btoa","__decrypt","decoded","atob","decrypted","removed","keysToRemove","decryptedData","jsonData","encryptedData","privateProperties","SSRViewData","instances","indexMap","parseViewData","maxIndex","instancesMap","next","prev","getById","SSRViewDataCollection","views","setViews","markupService","storageService","stateChangeListeners","currentMasterView","templates","_sections","_changedSections","_stacks","_once","vitualContainer","style","VIEW_MOUNTED_QUEUE","CURRENT_SUPER_VIEW","CURRENT_SUPER_VIEW_PATH","CURRENT_SUPER_VIEW_MOUNTED","CURRENT_VIEW","CURRENT_VIEW_PATH","CURRENT_VIEW_MOUNTED","SUPER_VIEW_STACK","ALL_VIEW_STACK","PAGE_VIEW","renderTimes","cachedViews","serverRenderData","viewMap","cachedPageData","ssrData","cachedPageView","cachedTimes","SEO","tags","updateItem","textContent","setContainer","_currentScope","getView","loadView","clearOldRendering","hasCache","cacheKey","cachedData","html","needInsert","oldCacheData","ultraView","renderIndex","renderView","scanView","scanRenderedView","nestedSuperViewData","mountAllViewsFromStack","currentSuperView","viewResult","emitChangedSections","scanResult","_isHydrated","mountContent","htmlContent","cb","fn","evaluate","setSuperViewPath","addViewEngine","viewEngine","callViewEngineMounted","viewEngineId","mountAllViewsBottomUp","checkInterval","setInterval","clearInterval","queue","superViews","templateToDom","templator","includeIf","superViewName","registerSubscribe","yieldKey","defaultContent","output","subscribeAttr","renderOrScanView","variableData","renderMethod","prerenderMethod","isPrerender","API","getURIDAta","addToQueue","viewWrapper","currentRenderTime","oldRenderTime","oldViews","unmountView","cachedKeys","removeEvents","resetView","oldContent","hasSection","getChangedSections","resetChangedSections","isChangedSection","escapedName","subscribeKey","subscribeTarget","sectionContent","yieldAttr","paths","attrName","sectionName","once","_hashContent","isAuth","guard","can","permission","hasError","field","firstError","csrfToken","foreach","http","endpoints","APP_CONFIGS","api","getViewData","uri","getSystemConfig","getSystemData","endpoint","system","base_url","char","regex","substr","strtolower","strtoupper","formatDate","d","isNaN","getTime","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","formatNumber","num","decimals","thousandsSeparator","decimalSeparator","suffix","parts","toFixed","formatCurrency","amount","currency","truncate","randomString","charAt","floor","chars","deepClone","cloned","debounce","wait","throttle","limit","inThrottle","getUrlParams","searchParams","buildUrl","isInViewport","rect","getBoundingClientRect","top","left","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","scrollTo","behavior","inline","offset","targetPosition","offsetTop","copyToClipboard","navigator","clipboard","writeText","downloadFile","filename","mimeType","blob","createObjectURL","download","click","revokeObjectURL","getDeviceType","width","isNull","isString","isNumeric","parseFloat","isFinite","toISOString","today","env","ucfirst","lcfirst","str_replace","subject","s","explode","delimiter","implode","glue","pieces","in_array","needle","haystack","array_unique","arr","array_merge","arrays","is_array","is_string","is_numeric","empty","isset","json_decode","isMobile","isTablet","isDesktop","updateActiveNav","currentPath","classList","navigatePath","isInitialized","csrf_token","router_mode","HTMLElement","router","allRoutes","appScope","to","siteName","version","lang","locale","fallback","onInit","appReadyEvent","CustomEvent","detail","dispatchEvent","checkConfig"],"sourceRoot":""}